<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.58. リリース9.4</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="prev" href="release-9-4-1.html" title="E.57. リリース9.4.1" /><link rel="next" href="release-9-3-25.html" title="E.59. リリース9.3.25" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.1文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-9-4-1.html" title="E.57. リリース9.4.1">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.58. リリース9.4</td><td width="20%" align="right"> <a accesskey="n" href="release-9-3-25.html" title="E.59. リリース9.3.25">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-9-4"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.58. リリース9.4</h2></div></div></div><!--
  <title>Release 9.4</title>
--><p><!--
   <title>Release date:</title>
--><strong>リリース日: </strong>2014-12-18</p><div class="sect2" id="id-1.11.6.62.3"><div class="titlepage"><div><div><h3 class="title">E.58.1. 概要</h3></div></div></div><!--
   <title>Overview</title>
--><p>
<!--
    Major enhancements in <productname>PostgreSQL</productname> 9.4 include:
-->
    <span class="productname">PostgreSQL</span>9.4の主な強化点には以下のものがあります。
   </p><!-- This list duplicates items below, but without authors or details--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
       Add <link linkend="datatype-json"><type>jsonb</type></link>, a more
       capable and efficient data type for storing <acronym>JSON</acronym> data
-->
<acronym class="acronym">JSON</acronym>を格納するためのより高機能で効率的な<a class="link" href="datatype-json.html" title="8.14. JSONデータ型"><code class="type">jsonb</code></a>データ型が追加されました。
      </p></li><li class="listitem"><p>
<!--
       Add new <acronym>SQL</acronym> command <xref linkend="sql-altersystem"/>
       for changing <filename>postgresql.conf</filename> configuration file entries
-->
<code class="filename">postgresql.conf</code>設定ファイルの項目を変更する新たな
<acronym class="acronym">SQL</acronym>コマンド<a class="xref" href="sql-altersystem.html" title="ALTER SYSTEM"><span class="refentrytitle">ALTER SYSTEM</span></a>を追加しました。
      </p></li><li class="listitem"><p>
<!--
       Reduce lock strength for some <xref linkend="sql-altertable"/>
       commands
-->
いくつかの<a class="xref" href="sql-altertable.html" title="ALTER TABLE"><span class="refentrytitle">ALTER TABLE</span></a>コマンドでロックを軽減しました。
      </p></li><li class="listitem"><p>
<!--
       Allow <link linkend="rules-materializedviews">materialized views</link>
       to be refreshed without blocking concurrent reads
-->
<a class="link" href="rules-materializedviews.html" title="41.3. マテリアライズドビュー">マテリアライズドビュー</a>を同時実行の読み取りを
妨げずにリフレッシュできるようにしました。
      </p></li><li class="listitem"><p>
<!--
       Add support for <link linkend="logicaldecoding">logical decoding</link>
       of WAL data, to allow database changes to be streamed out in a
       customizable format
-->
データベース変更をカスタマイズ可能な形式でストリーミング出力する、
WALデータの<a class="link" href="logicaldecoding.html" title="第49章 ロジカルデコーディング">ロジカルデコーディング</a>をサポートしました。
      </p></li><li class="listitem"><p>
<!--
        Allow <link linkend="bgworker">background worker processes</link>
        to be dynamically registered, started and terminated
-->
<a class="link" href="bgworker.html" title="第48章 バックグラウンドワーカプロセス">バックグラウンドワーカプロセス</a>を動的に登録、開始、終了
できるようにしました。
      </p></li></ul></div><p>
<!--
    The above items are explained in more detail in the sections below.
-->
上記の項目については、以下でより詳細に説明します。
   </p></div><div class="sect2" id="id-1.11.6.62.4"><div class="titlepage"><div><div><h3 class="title">E.58.2. バージョン9.4への移行</h3></div></div></div><!--
  <title>Migration to Version 9.4</title>
--><p>
<!--
    A dump/restore using <xref linkend="app-pg-dumpall"/>, or use
    of <xref linkend="pgupgrade"/>, is required for those wishing to migrate
    data from any previous release.
-->
以前のリリースからデータを移行したい時は、<a class="xref" href="app-pg-dumpall.html" title="pg_dumpall"><span class="refentrytitle"><span class="application">pg_dumpall</span></span></a>利用したダンプとリストア、あるいは<a class="xref" href="pgupgrade.html" title="pg_upgrade"><span class="refentrytitle"><span class="application">pg_upgrade</span></span></a>の利用が必要です。
   </p><p>
<!--
    Version 9.4 contains a number of changes that may affect compatibility
    with previous releases.  Observe the following incompatibilities:
-->
バージョン9.4には、以前のバージョンとの互換性に影響する多くの変更点が含まれています。
以下の非互換性に注意してください。
   </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
      Tighten checks for multidimensional <link
      linkend="arrays">array</link> input (Bruce Momjian)
-->
多次元<a class="link" href="arrays.html" title="8.15. 配列">配列</a>の入力検査を厳格にしました。
(Bruce Momjian)
     </p><p>
<!--
      Previously, an input array string that started with a single-element
      sub-array could later contain multi-element sub-arrays,
      e.g. <literal>'{{1}, {2,3}}'::int[]</literal> would be accepted.
-->
これまでは、単一要素の副配列から始まる入力配列文字列が、後に複数要素の副配列を
含むことができました。例えば <code class="literal">'{{1}, {2,3}}'::int[]</code> は受け付けられます。
     </p></li><li class="listitem"><p>
<!--
      Unicode escapes in <link linkend="datatype-json"><type>JSON</type></link>
      text values are no longer rendered with the backslash escaped
      (Andrew Dunstan)
-->
<a class="link" href="datatype-json.html" title="8.14. JSONデータ型"><code class="type">JSON</code></a>文字列値におけるユニコードエスケープで、バックスラッシュではエスケープされなくなりました。
(Andrew Dunstan)
     </p><p>
<!--
      Previously, all backslashes in text values being formed into JSON
      were escaped. Now a backslash followed by <literal>u</literal> and four
      hexadecimal digits is not escaped, as this is a legal sequence in a
      JSON string value, and escaping the backslash led to some perverse
      results.
-->
これまで、JSONに整形されるテキスト中のすべてのバックスラッシュはエスケープされていました。
エスケープしなくとも正しいJSON文字列値であり、エスケープすることでひねくれた結果がもたらされていたことから、これからは、<code class="literal">u</code>と16進数4桁に続くバックスラッシュはエスケープされません。
     </p><p>
訳注：9.4.1で本修正は取り消されています。
オリジナルの9.4.1マニュアルでは、9.4.0リリースノートから本項目自体が削除されていますが、9.4.0バージョンの情報を残すため、日本語訳では項目を残しました。
     </p></li><li class="listitem"><p>
<!--
      When converting values of type <type>date</type>, <type>timestamp</type>
      or <type>timestamptz</type>
      to <link linkend="datatype-json"><type>JSON</type></link>, render the
      values in a format compliant with ISO 8601 (Andrew Dunstan)
-->
<code class="type">date</code>型、<code class="type">timestamp</code>型、<code class="type">timestamptz</code>型の値を
<a class="link" href="datatype-json.html" title="8.14. JSONデータ型"><code class="type">JSON</code></a>に変換するとき、
ISO 8601に従った書式にします。
(Andrew Dunstan)
     </p><p>
<!--
      Previously such values were rendered according to the current
      <xref linkend="guc-datestyle"/> setting; but many JSON processors
      require timestamps to be in ISO 8601 format.  If necessary, the
      previous behavior can be obtained by explicitly casting the datetime
      value to <type>text</type> before passing it to the JSON conversion
      function.
-->
これまでは現在の<a class="xref" href="runtime-config-client.html#GUC-DATESTYLE">DateStyle</a>設定に基づいて処理されていました。
しかし、多くのJSONプロセッサはタイムスタンプにISO 8601形式を要求します。
必要であれば、JSON変換関数に渡す前に日付時刻の値を<code class="type">text</code>に明示的
キャストすることで以前の振る舞いを実現できます。
     </p></li><li class="listitem"><p>
<!--
      The <link linkend="functions-json-op-table"><type>json</type>
      <literal>#&gt;</literal> <type>text[]</type></link> path extraction operator now
      returns its lefthand input, not NULL, if the array is empty (Tom Lane)
-->
パス展開演算子 <a class="link" href="functions-json.html#FUNCTIONS-JSON-OP-TABLE" title="表9.43 jsonとjsonb演算子"><code class="type">json</code>
 <code class="literal">#&gt;</code> <code class="type">text[]</code></a> は、配列が空であるとき、
これからはNULLではなく左辺値を返すようになります。
     </p><p>
<!--
      This is consistent with the notion that this represents zero
      applications of the simple field/element extraction
      operator <literal>-&gt;</literal>.  Similarly, <type>json</type>
      <literal>#&gt;&gt;</literal> <type>text[]</type> with an empty array merely
      coerces its lefthand input to text.
-->
これは、フィールド/要素を取り出す演算子 <code class="literal">-&gt;</code> の適用を
全く行わないという意味で一貫性があります。
同様に <code class="type">json</code> <code class="literal">#&gt;&gt;</code> <code class="type">text[]</code> は、
単にその左辺値を強制的にテキストに変換します。
     </p></li><li class="listitem"><p>
<!--
      Corner cases in
      the <link linkend="functions-json-op-table"><type>JSON</type>
      field/element/path extraction operators</link> now return NULL rather
      than raising an error (Tom Lane)
-->
<a class="link" href="functions-json.html#FUNCTIONS-JSON-OP-TABLE" title="表9.43 jsonとjsonb演算子"><code class="type">JSON</code>のフィールド、要素、
パスを取り出す演算子</a>は境界条件で、これからはエラーでなくNULLを返すようにしました。
(Tom Lane)
     </p><p>
<!--
      For example, applying field extraction to a JSON array now yields NULL
      not an error.  This is more consistent (since some comparable cases such
      as no-such-field already returned NULL), and it makes it safe to create
      expression indexes that use these operators, since they will now not
      throw errors for any valid JSON input.
-->
例えば、JSON配列にフィールド取り出し演算子（-&gt;）を適用するとき、
これからは、エラーでなくNULLがでます。これはより一貫性のある振る舞いです
（類似の指定フィールドが無い場合では既にNULLが返ります）。
また、正当な任意のJSONに対して決してエラーを投げないことから、これら演算子を
使った式インデックスの作成を安全にします。
     </p></li><li class="listitem"><p>
<!--
      Cause consecutive whitespace in <link
      linkend="functions-formatting-table"><function>to_timestamp()</function></link>
      and <function>to_date()</function> format strings to consume a corresponding
      number of characters in the input string (whitespace or not), then
      conditionally consume adjacent whitespace, if not in <literal>FX</literal>
      mode (Jeevan Chalke)
-->
<a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-TABLE" title="表9.23 書式設定関数"><code class="function">to_timestamp()</code></a>と<code class="function">to_date()</code>の書式文字列の連続した空白が、（空白文字以外を含め）入力文字列から対応した数だけ文字を消費するため、<code class="literal">FX</code>モードでなくても条件付きで隣接した空白を消費します。
(Jeevan Chalke)
     </p><p>
<!--
      Previously, consecutive whitespace characters in a non-<literal>FX</literal>
      format string behaved like a single whitespace character and consumed
      all adjacent whitespace in the input string.  For example, previously
      a format string of three spaces would consume only the first space in
      <literal>' 12'</literal>, but it will now consume all three characters.
-->
これまでは、<code class="literal">FX</code>書式以外での連続する空白文字は、単一の空白文字の
ように振る舞い、入力文字列中の全ての隣接した空白を消費しました。例えば、
以前は3つの空白の書式文字列は<code class="literal">' 12'</code>の最初の空白のみ消費しました。
これからは、3文字すべてが消費されます。
     </p></li><li class="listitem"><p>
<!--
      Fix <link
      linkend="textsearch-functions-table"><function>ts_rank_cd()</function></link>
      to ignore stripped lexemes (Alex Hill)
-->
<a class="link" href="functions-textsearch.html#TEXTSEARCH-FUNCTIONS-TABLE" title="表9.41 テキスト検索関数"><code class="function">ts_rank_cd()</code></a>関数を除去された語彙素を無視するように修正しました。
     </p><p>
<!--
      Previously, stripped lexemes were treated as if they had a default
      location, producing a rank of dubious usefulness.
-->
これまでは除去された語彙素がデフォルト位置を持つかのように扱われ、
有効であるか疑わしい順位が生じていました。
     </p></li><li class="listitem"><p>
<!--
      For functions declared to
      take <link linkend="xfunc-sql-variadic-functions"><literal>VARIADIC
      "any"</literal></link>, an actual parameter marked as <literal>VARIADIC</literal>
      must be of a determinable array type (Pavel Stehule)
-->
引数に<a class="link" href="xfunc-sql.html#XFUNC-SQL-VARIADIC-FUNCTIONS" title="38.5.5. 可変長引数を取るSQL関数"><code class="literal">VARIADIC "any"</code></a>を取る関数で、<code class="literal">VARIADIC</code>と指定された引数は決定可能な配列型でなければならなくなりました。
     </p><p>
<!--
      Such parameters can no longer be written as an undecorated string
      literal or <literal>NULL</literal>; a cast to an appropriate array data type
      will now be required.  Note that this does not affect parameters not
      marked <literal>VARIADIC</literal>.
-->
そのような引数に修飾されていない文字列リテラルや<code class="literal">NULL</code>を書くことが
できなくなり、これからは適切な配列データ型でキャストが必要となります。
なお、本変更は<code class="literal">VARIADIC</code>が指定されていない引数には影響しません。
     </p></li><li class="listitem"><p>
<!--
      Ensure that whole-row variables expose the expected column names
      to functions that pay attention to column names within composite
      arguments (Tom Lane)
-->
行全体の変数で期待される列名が、複合型引数を取り列名に注意を払う関数に
伝わることを、保証するようになりました。
(Tom Lane)
     </p><p>
<!--
      Constructs like <literal>row_to_json(tab.*)</literal> now always emit column
      names that match the column aliases visible for table <literal>tab</literal>
      at the point of the call.  In previous releases the emitted column
      names would sometimes be the table's actual column names regardless
      of any aliases assigned in the query.
-->
<code class="literal">row_to_json(tab.*)</code>などのデータ構成で、これからは、常に呼び出し時点の
テーブル<code class="literal">tab</code>の列別名に一致する列名を出力します。
以前のリリースでは、列名がクエリに割り当てられた別名に関係なく
テーブルの実際の列名になっていました。
     </p></li><li class="listitem"><p>
<!--
      <xref linkend="sql-discard"/> now also discards sequence-related state
      (Fabr&iacute;zio de Royes Mello, Robert Haas)
-->
<a class="xref" href="sql-discard.html" title="DISCARD"><span class="refentrytitle">DISCARD</span></a>がこれからはシーケンス関連の状態も廃棄します。
(Fabrízio de Royes Mello, Robert Haas)
     </p></li><li class="listitem"><p>
<!--
      Rename <link linkend="sql-explain"><command>EXPLAIN
      ANALYZE</command></link>'s <quote>total runtime</quote> output
      to <quote>execution time</quote> (Tom Lane)
-->
<a class="link" href="sql-explain.html" title="EXPLAIN"><code class="command">EXPLAIN ANALYZE</code></a>の出力で
<span class="quote">「<span class="quote">total runtime</span>」</span>から、<span class="quote">「<span class="quote">execution time</span>」</span>に
項目名を変更しました。
(Tom Lane)
     </p><p>
<!--
      Now that planning time is also reported, the previous name was
      confusing.
-->
これからはプラン時間も報告されるため、従来の項目名では紛らわしいです。
     </p></li><li class="listitem"><p>
<!--
      <link linkend="sql-show"><command>SHOW TIME ZONE</command></link> now
      outputs simple numeric UTC offsets in <acronym>POSIX</acronym> timezone
      format (Tom Lane)
-->
<a class="link" href="sql-show.html" title="SHOW"><code class="command">SHOW TIME ZONE</code></a>は、これからは
<acronym class="acronym">POSIX</acronym>時間帯形式の簡素な数値のUTCオフセットを出力します。
(Tom Lane)
     </p><p>
<!--
      Previously, such timezone settings were displayed as <link
      linkend="datatype-interval-output"><type>interval</type></link> values.
      The new output is properly interpreted by <command>SET TIME ZONE</command>
      when passed as a simple string, whereas the old output required
      special treatment to be re-parsed correctly.
-->
これまでは、timezone設定を<a class="link" href="datatype-datetime.html#DATATYPE-INTERVAL-OUTPUT" title="8.5.5. 時間間隔の出力"><code class="type">interval</code></a>
の値として表示していました。
単純な文字列が渡されたとき、
旧出力では正しく再解析されるように特別な扱いが必要であるのに対して、
新出力では<code class="command">SET TIME ZONE</code>により適切に解釈されます。
     </p></li><li class="listitem"><p>
<!--
      Foreign data wrappers that support updating foreign tables must
      consider the possible presence of <literal>AFTER ROW</literal> triggers
      (Noah Misch)
-->
外部テーブルの更新に対応した外部データラッパは、<code class="literal">AFTER ROW</code>トリガが
存在する可能性に考慮しなければいけません。
(Noah Misch)
     </p><p>
<!--
      When an <literal>AFTER ROW</literal> trigger is present, all columns of the
      table must be returned by updating actions, since the trigger might
      inspect any or all of them.  Previously, foreign tables never had
      triggers, so the FDW might optimize away fetching columns not mentioned
      in the <literal>RETURNING</literal> clause (if any).
-->
<code class="literal">AFTER ROW</code>トリガがある場合、トリガが読むかもしれないので、
更新動作でテーブルのすべての列を返されなければいけません。
これまでは、外部テーブルはトリガを持つことがなかったので、外部データラッパが
<code class="literal">RETURNING</code>句で言及されていない列の取得を省略して最適化しているかもしれません。
     </p></li><li class="listitem"><p>
<!--
      Prevent <link
      linkend="ddl-constraints-check-constraints"><literal>CHECK</literal></link>
      constraints from referencing system columns, except
      <structfield>tableoid</structfield> (Amit Kapila)
-->
<a class="link" href="ddl-constraints.html#DDL-CONSTRAINTS-CHECK-CONSTRAINTS" title="5.3.1. 検査制約"><code class="literal">CHECK</code></a>制約が
<code class="structfield">tableoid</code>以外のシステム列を参照できないようにしました。
(Amit Kapila)
     </p><p>
<!--
      Previously such check constraints were allowed, but they would often
      cause errors during restores.
-->
これまではそのようなチェック制約が許されていましたが、リストア時にしばしばエラーを
引き起こしていました。
     </p></li><li class="listitem"><p>
<!--
      Use the last specified <link linkend="recovery-target-settings">recovery
      target parameter</link> if multiple target parameters are specified
      (Heikki Linnakangas)
-->
複数の<a class="link" href="recovery-target-settings.html" title="27.2. リカバリ対象の設定">リカバリターゲット設定</a>が
指定されていた場合、最後の指定を使用するようにしました。
(Heikki Linnakangas)
     </p><p>
<!--
      Previously, there was an undocumented precedence order among
      the <literal>recovery_target_<replaceable>xxx</replaceable></literal> parameters.
-->
これまでは<code class="literal">recovery_target_<em class="replaceable"><code>xxx</code></em></code>設定の優先順位が
文書化されていませんでした。
     </p></li><li class="listitem"><p>
<!--
      On Windows, automatically preserve quotes in command strings supplied
      by the user (Heikki Linnakangas)
-->
Windowsで、機械的にユーザが書いたコマンド文字列内のクオートを維持します。
(Heikki Linnakangas)
     </p><p>
<!--
      User commands that did their own quote preservation might need
      adjustment.  This is likely to be an issue for commands used in
      <xref linkend="guc-archive-command"/>, <xref linkend="restore-command"/>,
      and <link linkend="sql-copy"><command>COPY TO/FROM PROGRAM</command></link>.
-->
クオートを維持するようにしているユーザコマンドではおそらく修正が必要です。
<a class="xref" href="runtime-config-wal.html#GUC-ARCHIVE-COMMAND">archive_command</a>や<a class="xref" href="archive-recovery-settings.html#RESTORE-COMMAND">restore_command</a>、
<a class="link" href="sql-copy.html" title="COPY"><code class="command">COPY TO/FROM PROGRAM</code></a>の
コマンドで問題がありそうです。
     </p></li><li class="listitem"><p>
<!--
      Remove catalog column <link
      linkend="catalog-pg-class"><structfield>pg_class.reltoastidxid</structfield></link>
      (Michael Paquier)
-->
システムカタログの列
<a class="link" href="catalog-pg-class.html" title="52.11. pg_class"><code class="structfield">pg_class.reltoastidxid</code></a>
が取り除かれました。
(Michael Paquier)
     </p></li><li class="listitem"><p>
<!--
      Remove catalog column <link
      linkend="catalog-pg-rewrite"><structfield>pg_rewrite.ev_attr</structfield></link>
      (Kevin Grittner)
-->
システムカタログの列
<a class="link" href="catalog-pg-rewrite.html" title="52.44. pg_rewrite"><code class="structfield">pg_rewrite.ev_attr</code></a>
が取り除かれました。
(Kevin Grittner)
     </p><p>
<!--
      Per-column rules have not been supported since
      <application>PostgreSQL</application> 7.3.
-->
列単位のルールは<span class="application">PostgreSQL</span> 7.3以来サポートされていませんでした。
     </p></li><li class="listitem"><p>
<!--
      Remove native support for <application>Kerberos</application> authentication
      (<option>&#045;&#045;with-krb5</option>, etc)
      (Magnus Hagander)
-->
<span class="application">Kerberos</span>認証のネイティブサポート（<code class="option">--with-krb5</code>など）が除去されました。
(Magnus Hagander)
     </p><p>
<!--
      The supported way to use <application>Kerberos</application> authentication is
      with <acronym>GSSAPI</acronym>.  The native code has been deprecated since
      <productname>PostgreSQL</productname> 8.3.
-->
<span class="application">Kerberos</span>認証の使用は<acronym class="acronym">GSSAPI</acronym>でサポートされます。
ネイティブコードは<span class="productname">PostgreSQL</span> 8.3から非推奨となっていました。
     </p></li><li class="listitem"><p>
<!--
      In <application>PL/Python</application>, handle domains over arrays like the
      underlying array type (Rodolfo Campero)
-->
<span class="application">PL/Python</span>で、配列のドメインを配列型を基底とするように扱います。
(Rodolfo Campero)
     </p><p>
<!--
      Previously such values were treated as strings.
-->
これまでは文字列として扱われていました。
     </p></li><li class="listitem"><p>
<!--
      Make libpq's <link
      linkend="libpq-pqconnectdbparams"><function>PQconnectdbParams()</function></link>
      and <link
      linkend="libpq-pqpingparams"><function>PQpingParams()</function></link>
      functions process zero-length strings as defaults (Adrian
      Vondendriesch)
-->
libpq の
<a class="link" href="libpq-connect.html#LIBPQ-PQCONNECTDBPARAMS"><code class="function">PQconnectdbParams()</code></a>、
<a class="link" href="libpq-connect.html#LIBPQ-PQPINGPARAMS"><code class="function">PQpingParams()</code></a>関数が
空文字列をデフォルトとして処理します。
(Adrian Vondendriesch)
     </p><p>
<!--
      Previously, these functions treated zero-length string values as
      selecting the default in only some cases.
-->
これまでは、これらの関数では一部の場合だけ空文字列でデフォルトを選んでいました。
     </p></li><li class="listitem"><p>
<!--
      Change empty arrays returned by the <xref linkend="intarray"/> module
      to be zero-dimensional arrays (Bruce Momjian)
-->
<a class="xref" href="intarray.html" title="F.18. intarray">intarray</a>モジュールが空配列を返すときゼロ次元配列になるように変更しました。
(Bruce Momjian)
     </p><p>
<!--
      Previously, empty arrays were returned as zero-length one-dimensional
      arrays, whose text representation looked the same as zero-dimensional
      arrays (<literal>{}</literal>), but they acted differently in array
      operations.  <application>intarray</application>'s behavior in this area now
      matches the built-in array operators.
-->
これまでは、空配列を長さゼロの１次元配列として返していました。それらのテキスト表現はゼロ次元配列としたときと同じ（<code class="literal">{}</code>）ですが、配列操作での動作が異なります。
この部分で<span class="application">intarray</span>の振る舞いが組み込みの配列演算子と同じになります。
     </p></li><li class="listitem"><p>
<!--
      <xref linkend="pgupgrade"/> now uses <option>-U</option>
      or <option>&#045;&#045;username</option> to specify the user name (Bruce Momjian)
-->
<a class="xref" href="pgupgrade.html" title="pg_upgrade"><span class="refentrytitle"><span class="application">pg_upgrade</span></span></a>は、これからは<code class="option">-U</code>または<code class="option">--username</code>
でユーザ名を指定するようになります。
(Bruce Momjian)
     </p><p>
<!--
      Previously this option was spelled <option>-u</option> or <option>&#045;&#045;user</option>,
      but that was inconsistent with other tools.
-->
これまでは本オプションは<code class="option">-u</code>または<code class="option">--user</code>でしたが、
他のツールとの一貫性に欠けていました。
     </p></li></ul></div></div><div class="sect2" id="id-1.11.6.62.5"><div class="titlepage"><div><div><h3 class="title">E.58.3. 変更点</h3></div></div></div><!--
   <title>Changes</title>
--><p>
<!--
    Below you will find a detailed account of the changes between
    <productname>PostgreSQL</productname> 9.4 and the previous major
    release.
-->
これまでのメジャーリリースからの<span class="productname">PostgreSQL</span> 9.4
の変更点の詳細説明を以下に示します。
   </p><div class="sect3" id="id-1.11.6.62.5.3"><div class="titlepage"><div><div><h4 class="title">E.58.3.1. サーバ</h4></div></div></div><!--
    <title>Server</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Allow <link linkend="bgworker">background worker processes</link>
        to be dynamically registered, started and terminated (Robert Haas)
-->
<a class="link" href="bgworker.html" title="第48章 バックグラウンドワーカプロセス">バックグラウンドワーカプロセス</a>を動的に
登録、開始、終了できるようにしました。
(Robert Haas)
       </p><p>
<!--
        The new <filename>worker_spi</filename> module shows an example of use
        of this feature.
-->
新たな<code class="filename">worker_spi</code>モジュールで本新機能の例を示します。
       </p></li><li class="listitem"><p>
<!--
        Allow dynamic allocation of shared memory segments (Robert Haas,
        Amit Kapila)
-->
共有メモリセグメントを動的に割り当てできるようにしました。
(Robert Haas, Amit Kapila)
       </p><p>
<!--
        This feature is illustrated in the <filename>test_shm_mq</filename>
        module.
-->
本機能は<code class="filename">test_shm_mq</code>モジュールで例示されています。
       </p></li><li class="listitem"><p>
<!--
        During crash recovery or immediate shutdown, send uncatchable
        termination signals (<systemitem>SIGKILL</systemitem>) to child processes
        that do not shut down promptly (MauMau, &Aacute;lvaro Herrera)
-->
クラッシュリカバリ、あるいは、immediateシャットダウンの際に、
即座に停止しない子プロセスにキャッチできないシグナル（<span class="systemitem">SIGKILL</span>）
を送るようになりました。
(MauMau, Álvaro Herrera)
       </p><p>
<!--
        This reduces the likelihood of leaving orphaned child processes
        behind after <xref linkend="app-postmaster"/> shutdown, as well
        as ensuring that crash recovery can proceed if some child processes
        have become <quote>stuck</quote>.
-->
これにより、<a class="xref" href="app-postmaster.html" title="postmaster"><span class="refentrytitle"><span class="application">postmaster</span></span></a>シャットダウン後に子プロセスが
残ってしまう可能性を減らし、また、いくつかの子プロセスが<span class="quote">「<span class="quote">刺った</span>」</span>
場合でもクラッシュリカバリの進行を保証します。
       </p></li><li class="listitem"><p>
<!--
        Improve randomness of the database system identifier (Tom Lane)
-->
データベースのシステム識別子のランダム性を改善しました。
(Tom Lane)
       </p></li><li class="listitem"><p>
<!--
        Make <xref linkend="sql-vacuum"/> properly report dead but
        not-yet-removable rows to the statistics collector (Hari Babu)
-->
<a class="xref" href="sql-vacuum.html" title="VACUUM"><span class="refentrytitle">VACUUM</span></a>が、削除済(dead)であるけれど未だ除去できない行に
ついて統計情報コレクタに適切に報告するようにしました。
(Hari Babu)
       </p><p>
<!--
        Previously these were reported as live rows.
-->
これまでは有効(live)行であるものと報告されていました。
       </p></li></ul></div><div class="sect4" id="id-1.11.6.62.5.3.3"><div class="titlepage"><div><div><h5 class="title">E.58.3.1.1. インデックス</h5></div></div></div><!--
     <title>Indexes</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Reduce <link linkend="gin"><acronym>GIN</acronym></link> index size
        (Alexander Korotkov, Heikki Linnakangas)
-->
<a class="link" href="gin.html" title="第66章 GINインデックス"><acronym class="acronym">GIN</acronym></a>インデックスのサイズを減らしました。
(Alexander Korotkov, Heikki Linnakangas)
       </p><p>
<!--
        Indexes upgraded via <xref linkend="pgupgrade"/> will work fine
        but will still be in the old, larger <acronym>GIN</acronym> format.
        Use <xref linkend="sql-reindex"/> to recreate old GIN indexes in the
        new format.
-->
<a class="xref" href="pgupgrade.html" title="pg_upgrade"><span class="refentrytitle"><span class="application">pg_upgrade</span></span></a>を使ってアップグレードした場合、動作しますが、
従来のサイズの大きいGIN形式のままです。<a class="xref" href="sql-reindex.html" title="REINDEX"><span class="refentrytitle">REINDEX</span></a>
で新たな形式でインデックスを作り直す必要があります。
       </p></li><li class="listitem"><p>
<!--
        Improve speed of multi-key <link
        linkend="gin"><acronym>GIN</acronym></link> lookups (Alexander Korotkov,
        Heikki Linnakangas)
-->
複合キーでの<a class="link" href="gin.html" title="第66章 GINインデックス"><acronym class="acronym">GIN</acronym></a>
インデックス照会の速度を改善しました。
(Alexander Korotkov, Heikki Linnakangas)
       </p></li><li class="listitem"><p>
<!--
        Add <link linkend="gist"><acronym>GiST</acronym></link> index support
        for <link linkend="datatype-inet"><type>inet</type></link> and
        <link linkend="datatype-cidr"><type>cidr</type></link> data types
        (Emre Hasegeli)
-->
<a class="link" href="gist.html" title="第64章 GiSTインデックス"><acronym class="acronym">GiST</acronym></a>インデックスが<a class="link" href="datatype-net-types.html#DATATYPE-INET" title="8.9.1. inet"><code class="type">inet</code></a>型、<a class="link" href="datatype-net-types.html#DATATYPE-CIDR" title="8.9.2. cidr"><code class="type">cidr</code></a>型に対応しました。
(Emre Hasegeli)
       </p><p>
<!--
        Such indexes improve <link
        linkend="cidr-inet-operators-table">subnet and supernet</link>
        lookups and ordering comparisons.
-->
これらインデックス改善は、
<a class="link" href="functions-net.html#CIDR-INET-OPERATORS-TABLE" title="表9.36 cidrとinet演算子">サブネット・スーパーネット</a>
の照会や並べ替えのための比較を性能向上させます。
       </p></li><li class="listitem"><p>
<!--
        Fix rare race condition in B-tree page deletion (Heikki Linnakangas)
-->
B-treeインデックスのページ削除における稀な競合状態を修正しました。
(Heikki Linnakangas)
       </p></li><li class="listitem"><p>
<!--
        Make the handling of interrupted B-tree page splits more robust
        (Heikki Linnakangas)
-->
割り込みされたB-treeインデックスのページ分割の扱いをより頑健にしました。
(Heikki Linnakangas)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.62.5.3.4"><div class="titlepage"><div><div><h5 class="title">E.58.3.1.2. 性能全般</h5></div></div></div><!--
     <title>General Performance</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Allow multiple backends to insert
        into <link linkend="wal"><acronym>WAL</acronym></link> buffers
        concurrently (Heikki Linnakangas)
-->
複数バックエンドから<a class="link" href="wal.html" title="第30章 信頼性とログ先行書き込み"><acronym class="acronym">WAL</acronym></a>バッファに
並行に挿入できるようになりました。
(Heikki Linnakangas)
       </p><p>
<!--
        This improves parallel write performance.
-->
本変更は並列書き込み性能を改善します。
       </p></li><li class="listitem"><p>
<!--
        Conditionally write only the modified portion of updated rows to
        <link linkend="wal"><acronym>WAL</acronym></link> (Amit Kapila)
-->
条件によって、更新された行のうち変更部分だけを
<a class="link" href="wal.html" title="第30章 信頼性とログ先行書き込み"><acronym class="acronym">WAL</acronym></a>に書き込むようにしました。
(Amit Kapila)
       </p></li><li class="listitem"><p>
<!--
        Improve performance of aggregate functions used as <link
        linkend="syntax-window-functions">window functions</link>
        (David Rowley, Florian Pflug, Tom Lane)
-->
<a class="link" href="sql-expressions.html#SYNTAX-WINDOW-FUNCTIONS" title="4.2.8. ウィンドウ関数呼び出し">WINDOW関数</a>
として使われる集約関数の性能を改善しました。
(David Rowley, Florian Pflug, Tom Lane)
       </p></li><li class="listitem"><p>
<!--
        Improve speed of aggregates that
        use <link linkend="datatype-numeric"><type>numeric</type></link> state
        values (Hadi Moshayedi)
-->
<a class="link" href="datatype-numeric.html" title="8.1. 数値データ型"><code class="type">numeric</code></a>型を
状態値に使う集約処理の速度を改善しました。
       </p></li><li class="listitem"><p>
<!--
        Attempt to <link linkend="vacuum-for-wraparound">freeze</link>
        tuples when tables are rewritten with <xref
        linkend="sql-cluster"/> or <link
        linkend="sql-vacuum"><command>VACUUM FULL</command></link> (Robert Haas,
        Andres Freund)
-->
テーブルが<a class="xref" href="sql-cluster.html" title="CLUSTER"><span class="refentrytitle">CLUSTER</span></a>または<a class="link" href="sql-vacuum.html" title="VACUUM"><code class="command">VACUUM FULL</code></a>コマンドで書き直されたときにタプルの
<a class="link" href="routine-vacuuming.html#VACUUM-FOR-WRAPAROUND" title="24.1.5. トランザクションIDの周回エラーの防止">凍結</a>を試みます。
(Robert Haas, Andres Freund)
       </p><p>
<!--
        This can avoid the need to freeze the tuples in the future.
-->
これにより将来にタプル凍結が必要になることを避けられます。
       </p></li><li class="listitem"><p>
<!--
        Improve speed of <xref linkend="sql-copy"/> with default <link
        linkend="functions-sequence-table"><function>nextval()</function></link>
        columns (Simon Riggs)
-->
デフォルトがシーケンスの
<a class="link" href="functions-sequence.html#FUNCTIONS-SEQUENCE-TABLE" title="表9.47 シーケンス関数"><code class="function">nextval()</code></a>
である列に対する<a class="xref" href="sql-copy.html" title="COPY"><span class="refentrytitle">COPY</span></a>の速度を改善しました。
(Simon Riggs)
       </p></li><li class="listitem"><p>
<!--
        Improve speed of accessing many different <link
        linkend="sql-createsequence">sequences</link> in the same session
        (David Rowley)
-->
一つの接続で多数の<a class="link" href="sql-createsequence.html" title="CREATE SEQUENCE">シーケンス</a>
にアクセスする場合の速度を改善しました。
(David Rowley)
       </p></li><li class="listitem"><p>
<!--
        Raise hard limit on the number of tuples held in memory during sorting
        and B-tree index builds (Noah Misch)
-->
メモリ上でソートやB-treeインデックス構築をする際のタプル数の固定上限を引き上げました。
(Noah Misch)
       </p></li><li class="listitem"><p>
<!--
        Reduce memory allocated by <application>PL/pgSQL</application>
        <xref linkend="sql-do"/> blocks (Tom Lane)
-->
PL/pgSQL手続き言語の<a class="xref" href="sql-do.html" title="DO"><span class="refentrytitle">DO</span></a>ブロックによるメモリ割り当てを
小さくしました。
(Tom Lane)
       </p></li><li class="listitem"><p>
<!--
        Make the planner more aggressive about extracting restriction clauses
        from mixed <literal>AND</literal>/<literal>OR</literal> clauses (Tom Lane)
-->
プランナが<code class="literal">AND</code>/<code class="literal">OR</code>句が混在する中から、
より積極的に制約句を抽出するようにしました。
(Tom Lane)
       </p></li><li class="listitem"><p>
<!--
        Disallow pushing volatile <literal>WHERE</literal> clauses down
        into <literal>DISTINCT</literal> subqueries (Tom Lane)
-->
揮発性の<code class="literal">WHERE</code>句を<code class="literal">DISTINCT</code>サブクエリに
プッシュダウンしないようにしました。
(Tom Lane)
       </p><p>
<!--
        Pushing down a <literal>WHERE</literal> clause can produce a more
        efficient plan overall, but at the cost of evaluating the clause
        more often than is implied by the text of the query; so don't do it
        if the clause contains any volatile functions.
-->
<code class="literal">WHERE</code>句のプッシュダウンは概してプラン改善に効果的ですが、
問い合わせ文によっては句の評価コストがより多くなると考えられます。
そのため、句がVOLATILE関数を含むときにはプッシュダウンを実施しません。
       </p></li><li class="listitem"><p>
<!--
        Auto-resize the catalog caches (Heikki Linnakangas)
-->
カタログキャッシュが自動でサイズ変更されるようにしました。
(Heikki Linnakangas)
       </p><p>
<!--
        This reduces memory consumption for sessions accessing only a few
        tables, and improves performance for sessions accessing many tables.
-->
これは少数のテーブルにだけアクセスする接続に対してメモリ消費を減らし、
また、多数のテーブルにアクセスする接続に対しては性能を向上させます。
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.62.5.3.5"><div class="titlepage"><div><div><h5 class="title">E.58.3.1.3. 監視</h5></div></div></div><!--
     <title>Monitoring</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add <xref linkend="pg-stat-archiver-view"/> system view to
        report <link linkend="wal"><acronym>WAL</acronym></link> archiver activity
        (Gabriele Bartolini)
-->
<a class="link" href="wal.html" title="第30章 信頼性とログ先行書き込み"><acronym class="acronym">WAL</acronym></a>アーカイバの活動を報告する
<a class="xref" href="monitoring-stats.html#PG-STAT-ARCHIVER-VIEW" title="表28.9 pg_stat_archiverビュー">pg_stat_archiver</a>システムビューを追加しました。
(Gabriele Bartolini)
       </p></li><li class="listitem"><p>
<!--
        Add <structfield>n_mod_since_analyze</structfield> columns to
        <xref linkend="pg-stat-all-tables-view"/> and related system views
        (Mark Kirkwood)
-->
<code class="structfield">n_mod_since_analyze</code>列を
<a class="xref" href="monitoring-stats.html#PG-STAT-ALL-TABLES-VIEW" title="表28.13 pg_stat_all_tablesビュー">pg_stat_all_tables</a>と関連するシステムビューに追加しました。
(Mark Kirkwood)
       </p><p>
<!--
        These columns expose the system's estimate of the number of changed
        tuples since the table's last <xref linkend="sql-analyze"/>.  This
        estimate drives decisions about when to auto-analyze.
-->
この列は最後に<a class="xref" href="sql-analyze.html" title="ANALYZE"><span class="refentrytitle">ANALYZE</span></a>が行われて以降のタプル変更回数の推計値を表示します。この推計値が自動ANALYZEの駆動を決めるために使われます。
       </p></li><li class="listitem"><p>
<!--
        Add <structfield>backend_xid</structfield> and <structfield>backend_xmin</structfield>
        columns to the system view <xref linkend="pg-stat-activity-view"/>,
        and a <structfield>backend_xmin</structfield> column to
        <xref linkend="pg-stat-replication-view"/> (Christian Kruse)
-->
<code class="structfield">backend_xid</code>列、<code class="structfield">backend_xmin</code>列を、
システムビュー<a class="xref" href="monitoring-stats.html#PG-STAT-ACTIVITY-VIEW" title="表28.3 pg_stat_activityビュー">pg_stat_activity</a>に追加し、
<code class="structfield">backend_xmin</code>列が<a class="xref" href="monitoring-stats.html#PG-STAT-REPLICATION-VIEW" title="表28.5 pg_stat_replicationビュー">pg_stat_replication</a>
に追加しました。
(Christian Kruse)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.62.5.3.6"><div class="titlepage"><div><div><h5 class="title">E.58.3.1.4. <acronym class="acronym">SSL</acronym></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add support for <acronym>SSL</acronym> <acronym>ECDH</acronym> key exchange
        (Marko Kreen)
-->
SSLでECDH鍵交換をサポートしました。
(Marko Kreen)
       </p><p>
<!--
        This allows use of Elliptic Curve keys for server authentication.
        Such keys are faster and have better security than <acronym>RSA</acronym>
        keys. The new configuration parameter
        <xref linkend="guc-ssl-ecdh-curve"/>
        controls which curve is used for <acronym>ECDH</acronym>.
-->
楕円曲線鍵でサーバ認証ができるようになります。
この鍵は<acronym class="acronym">RSA</acronym>鍵よりも高速で安全です。
新たな設定パラメータ<a class="xref" href="runtime-config-connection.html#GUC-SSL-ECDH-CURVE">ssl_ecdh_curve</a>でどの曲線を
<acronym class="acronym">ECDH</acronym>に使うかを制御します。
       </p></li><li class="listitem"><p>
<!--
        Improve the default <xref linkend="guc-ssl-ciphers"/> setting
        (Marko Kreen)
-->
<a class="xref" href="runtime-config-connection.html#GUC-SSL-CIPHERS">ssl_ciphers</a>設定のデフォルト値を改善しました。
(Marko Kreen)
       </p></li><li class="listitem"><p>
<!--
        By default, the server not the client now controls the preference
        order of <acronym>SSL</acronym> ciphers
        (Marko Kreen)
-->
デフォルトでクライアント側でなくサーバ側の
<acronym class="acronym">SSL</acronym>暗号の優先順設定を使用するようにしました。
(Marko Kreen)
       </p><p>
<!--
        Previously, the order specified by <xref linkend="guc-ssl-ciphers"/>
        was usually ignored in favor of client-side defaults, which are not
        configurable in most <productname>PostgreSQL</productname> clients.  If
        desired, the old behavior can be restored via the new configuration
        parameter <xref linkend="guc-ssl-prefer-server-ciphers"/>.
-->
これまでは、<a class="xref" href="runtime-config-connection.html#GUC-SSL-CIPHERS">ssl_ciphers</a>で指定した順番が、
クライアント側のデフォルトの好みによってたいてい無視されていました。
これはほとんどの<span class="productname">PostgreSQL</span>クライアントで設定不能です。
望むなら新たな設定パラメータ<a class="xref" href="runtime-config-connection.html#GUC-SSL-PREFER-SERVER-CIPHERS">ssl_prefer_server_ciphers</a>により従来の振る舞いに戻すこともできます。
       </p></li><li class="listitem"><p>
<!--
        Make <xref linkend="guc-log-connections"/> show <acronym>SSL</acronym>
        encryption information (Andreas Kunert)
-->
<a class="xref" href="runtime-config-logging.html#GUC-LOG-CONNECTIONS">log_connections</a>で<acronym class="acronym">SSL</acronym>暗号化情報を出力するようにしました。
(Andreas Kunert)
       </p></li><li class="listitem"><p>
<!--
        Improve <acronym>SSL</acronym> renegotiation handling (&Aacute;lvaro
        Herrera)
-->
<acronym class="acronym">SSL</acronym>再ネゴシエーション処理を改善しました。
(Álvaro Herrera)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.62.5.3.7"><div class="titlepage"><div><div><h5 class="title">E.58.3.1.5. サーバ設定</h5></div></div></div><!--
     <title>Server Settings</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add new <acronym>SQL</acronym> command <xref linkend="sql-altersystem"/>
        for changing <filename>postgresql.conf</filename> configuration file entries
        (Amit Kapila)
-->
<code class="filename">postgresql.conf</code>設定ファイルの項目を変更できる新たな<acronym class="acronym">SQL</acronym>コマンド<a class="xref" href="sql-altersystem.html" title="ALTER SYSTEM"><span class="refentrytitle">ALTER SYSTEM</span></a>を追加しました。
(Amit Kapila)
       </p><p>
<!--
        Previously such settings could only be changed by manually
        editing <filename>postgresql.conf</filename>.
-->
従来は設定変更するには<code class="filename">postgresql.conf</code>を手で編集するほかありませんでした。
       </p></li><li class="listitem"><p>
<!--
        Add <xref linkend="guc-autovacuum-work-mem"/> configuration parameter
        to control the amount of memory used by autovacuum workers
        (Peter Geoghegan)
-->
自動VACUUMワーカーのメモリ使用量を調整する<a class="xref" href="runtime-config-resource.html#GUC-AUTOVACUUM-WORK-MEM">autovacuum_work_mem</a>設定パラメータを追加しました。
(Peter Geoghegan)
       </p></li><li class="listitem"><p>
<!--
        Add <xref linkend="guc-huge-pages"/> parameter to allow using huge
        memory pages on Linux (Christian Kruse, Richard Poole, Abhijit
        Menon-Sen)
-->
Linuxのhuge pagesを利用できる<a class="xref" href="runtime-config-resource.html#GUC-HUGE-PAGES">huge_pages</a>設定パラメータを追加しました。
(Christian Kruse, Richard Poole, Abhijit Menon-Sen)
       </p><p>
<!--
        This can improve performance on large-memory systems.
-->
これにより巨大メモリを持つシステムの性能を改善できます。
       </p></li><li class="listitem"><p>
<!--
        Add <xref linkend="guc-max-worker-processes"/> parameter
        to limit the number of background workers (Robert Haas)
-->
バックグラウンドワーカの数を制限する <a class="xref" href="runtime-config-resource.html#GUC-MAX-WORKER-PROCESSES">max_worker_processes</a>パラメータを追加しました。
(Robert Haas)
       </p><p>
<!--
        This is helpful in configuring a standby server to have the
        required number of worker processes (the same as the primary).
-->
スタンバイサーバに必要な（プライマリと同じ）ワーカプロセス数を調整するときに役立ちます。
       </p></li><li class="listitem"><p>
<!--
        Add superuser-only <xref linkend="guc-session-preload-libraries"/>
        parameter to load libraries at session start (Peter Eisentraut)
-->
スーパーユーザのみ使用できるセッション開始時にライブラリをロードする<a class="xref" href="runtime-config-client.html#GUC-SESSION-PRELOAD-LIBRARIES">session_preload_libraries</a>パラメータを追加しました。
       </p><p>
<!--
        In contrast to <xref linkend="guc-local-preload-libraries"/>, this
        parameter can load any shared library, not just those in
        the <filename>$libdir/plugins</filename> directory.
-->
<a class="xref" href="runtime-config-client.html#GUC-LOCAL-PRELOAD-LIBRARIES">local_preload_libraries</a>と違い、<code class="filename">$libdir/plugins</code>ディレクトリにあるものに限られず、本パラメータでは、どの共有ライブラリでもロードできます。
       </p></li><li class="listitem"><p>
<!--
        Add <xref linkend="guc-wal-log-hints"/> parameter to enable WAL
        logging of hint-bit changes (Sawada Masahiko)
-->
ヒントビットの変更もWAL出力するようにする<a class="xref" href="runtime-config-wal.html#GUC-WAL-LOG-HINTS">wal_log_hints</a>パラメータを追加しました。
(Sawada Masahiko)
       </p><p>
<!--
        Hint bit changes are not normally logged, except when checksums are
        enabled.  This is useful for external tools
        like <application>pg_rewind</application>.
-->
チェックサムを有効にしているときを除き、通常ヒントビットはWAL記録されません。
本設定は、<span class="application">pg_rewind</span>のような外部ツールにおいて有用です。
       </p></li><li class="listitem"><p>
<!--
        Increase the default settings of <xref linkend="guc-work-mem"/>
        and <xref linkend="guc-maintenance-work-mem"/> by four times (Bruce
        Momjian)
-->
<a class="xref" href="runtime-config-resource.html#GUC-WORK-MEM">work_mem</a>と<a class="xref" href="runtime-config-resource.html#GUC-MAINTENANCE-WORK-MEM">maintenance_work_mem</a>
のデフォルト設定値を４倍に増やしました。
(Bruce Momjian)
       </p><p>
<!--
        The new defaults are 4MB and 64MB respectively.
-->
それぞれ4MBと64MBが新たなデフォルト値となります。
       </p></li><li class="listitem"><p>
<!--
        Increase the default setting of <xref
        linkend="guc-effective-cache-size"/>
        to 4GB (Bruce Momjian, Tom Lane)
-->
<a class="xref" href="runtime-config-query.html#GUC-EFFECTIVE-CACHE-SIZE">effective_cache_size</a>のデフォルト値を4GBに増やしました。
(Bruce Momjian, Tom Lane)
       </p></li><li class="listitem"><p>
<!--
        Allow <function>printf</function>-style space padding to be
        specified in <xref linkend="guc-log-line-prefix"/> (David Rowley)
-->
<a class="xref" href="runtime-config-logging.html#GUC-LOG-LINE-PREFIX">log_line_prefix</a>で<code class="function">printf</code>形式の空白パディングを指定できるようにしました。
(David Rowley)
       </p></li><li class="listitem"><p>
<!--
        Allow terabyte units (<literal>TB</literal>) to be used when specifying
        configuration variable values (Simon Riggs)
-->
設定ファイルにテラバイト単位 (<code class="literal">TB</code>)を記述できるようにしました。
(Simon Riggs)
       </p></li><li class="listitem"><p>
<!--
        Show <acronym>PID</acronym>s of lock holders and waiters and improve
        information about relations in <xref linkend="guc-log-lock-waits"/>
        log messages (Christian Kruse)
-->
<a class="xref" href="runtime-config-logging.html#GUC-LOG-LOCK-WAITS">log_lock_waits</a>によるログメッセージで、
ロックを保持しているプロセス、待っているプロセスの<acronym class="acronym">PID</acronym>、
および、改善されたリレーション情報が出力されるようにしました。
(Christian Kruse)
       </p></li><li class="listitem"><p>
<!--
        Reduce server logging level when loading shared libraries (Peter
        Geoghegan)
-->
共有ライブラリをロードした際のログレベルをDEBUG1に下げました。
(Peter Geoghegan)
       </p><p>
<!--
        The previous level was <literal>LOG</literal>, which was too verbose
        for libraries loaded per-session.
-->
これまでは<code class="literal">LOG</code>レベルでしたが、接続ごとにロードされるライブラリの場合には冗長すぎました。
       </p></li><li class="listitem"><p>
<!--
        On Windows, make <literal>SQL_ASCII</literal>-encoded databases and server
        processes (e.g., <xref linkend="app-postmaster"/>) emit messages in
        the character encoding of the server's Windows user locale
        (Alexander Law, Noah Misch)
-->
Windowsにて<code class="literal">SQL_ASCII</code>エンコーディングのデータベースとサーバプロセス（例えば <a class="xref" href="app-postmaster.html" title="postmaster"><span class="refentrytitle"><span class="application">postmaster</span></span></a>）が、サーバのWindowsユーザロケールの文字エンコーディングでメッセージを出力するようになりました。
(Alexander Law, Noah Misch)
       </p><p>
<!--
        Previously these messages were output in the Windows
        <acronym>ANSI</acronym> code page.
-->
これまでは、Windowsの<acronym class="acronym">ANSI</acronym>コードページでメッセージが出力されていました。
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.62.5.4"><div class="titlepage"><div><div><h4 class="title">E.58.3.2. レプリケーションとリカバリ</h4></div></div></div><!--
    <title>Replication and Recovery</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add <link linkend="streaming-replication-slots">replication
        slots</link> to coordinate activity on streaming standbys with the
        node they are streaming from (Andres Freund, Robert Haas)
-->
ストリーミングレプリケーション元ノードでスタンバイの活動を調整する
<a class="link" href="warm-standby.html#STREAMING-REPLICATION-SLOTS" title="26.2.6. レプリケーションスロット">レプリケーションスロット</a>
を追加しました。
(Andres Freund, Robert Haas)
       </p><p>
<!--
        Replication slots allow preservation of resources like
        <acronym>WAL</acronym> files on the primary until they are no longer
        needed by standby servers.
-->
レプリケーションスロットにより、プライマリ上の<acronym class="acronym">WAL</acronym>ファイル等リソースをスタンバイサーバが必要としなくなるまで保持することができます。
       </p></li><li class="listitem"><p>
<!--
        Add recovery parameter <xref linkend="recovery-min-apply-delay"/>
        to delay replication (Robert Haas, Fabr&iacute;zio de Royes Mello,
        Simon Riggs)
-->
レプリケーションを遅延させるリカバリ設定パラメータ<a class="xref" href="standby-settings.html#RECOVERY-MIN-APPLY-DELAY">recovery_min_apply_delay</a>を追加しました。
(Robert Haas, Fabrízio de Royes Mello, Simon Riggs)
       </p><p>
<!--
        Delaying replay on standby servers can be useful for recovering
        from user errors.
-->
スタンバイサーバでの再生を遅らせることは、ユーザによる誤りから復旧するのに役立ちます。
       </p></li><li class="listitem"><p>
<!--
        Add <xref linkend="recovery-target"/>
        option <option>immediate</option> to stop <link
        linkend="wal"><acronym>WAL</acronym></link> recovery as soon as a
        consistent state is reached (MauMau, Heikki Linnakangas)
-->
リカバリ設定パラメータ<a class="xref" href="recovery-target-settings.html#RECOVERY-TARGET">recovery_target</a>にオプション<code class="option">immediate</code>を追加しました。<a class="link" href="wal.html" title="第30章 信頼性とログ先行書き込み"><acronym class="acronym">WAL</acronym></a>リカバリを整合性のある状態に到達したらすぐに停止します。
(MauMau, Heikki Linnakangas)
       </p></li><li class="listitem"><p>
<!--
        Improve recovery target processing (Heikki Linnakangas)
-->
リカバリターゲットの処理を改善しました。
(Heikki Linnakangas)
       </p><p>
<!--
        The timestamp reported
        by <link linkend="functions-recovery-info-table"><function>pg_last_xact_replay_timestamp()</function></link>
        now reflects already-committed records, not transactions about to
        be committed. Recovering to a restore point now replays the restore
        point, rather than stopping just before the restore point.
-->
停止を判定する<a class="link" href="functions-admin.html#FUNCTIONS-RECOVERY-INFO-TABLE" title="表9.80 リカバリ情報関数"><code class="function">pg_last_xact_replay_timestamp()</code></a>が報告するタイムスタンプが、コミットされるであろうトランザクションでなく、コミット済みのレコードを反映するようにしました。
リストアポイントよりも早すぎる時点で再生が止まってしまうのを防ぎます。
       </p></li><li class="listitem"><p>
<!--
        <link
        linkend="functions-admin-backup-table"><function>pg_switch_xlog()</function></link>
        now clears any unused trailing space in the old <acronym>WAL</acronym> file
        (Heikki Linnakangas)
-->
<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-BACKUP-TABLE" title="表9.79 バックアップ制御関数"><code class="function">pg_switch_xlog()</code></a>が古い<acronym class="acronym">WAL</acronym>ファイル上の使われない末尾領域をクリアするようにしました。
(Heikki Linnakangas)
       </p><p>
<!--
        This improves the compression ratio for <acronym>WAL</acronym> files.
-->
これは<acronym class="acronym">WAL</acronym>ファイルの圧縮率を改善します。
       </p></li><li class="listitem"><p>
<!--
        Report failure return codes from <link
        linkend="archive-recovery-settings">external recovery commands</link>
        (Peter Eisentraut)
-->
<a class="link" href="archive-recovery-settings.html" title="27.1. アーカイブリカバリの設定">リカバリ用外部コマンド</a>からの
リターンコードを報告するようにしました。
(Peter Eisentraut)
       </p></li><li class="listitem"><p>
<!--
        Reduce spinlock contention during <acronym>WAL</acronym> replay (Heikki
        Linnakangas)
-->
<acronym class="acronym">WAL</acronym>再生中のスピンロック競合を減らしました。
(Heikki Linnakangas)
       </p></li><li class="listitem"><p>
<!--
        Write <acronym>WAL</acronym> records of running transactions more
        frequently (Andres Freund)
-->
トランザクション実行の<acronym class="acronym">WAL</acronym>レコードの書き出しをより頻繁にしました。
       </p><p>
<!--
        This allows standby servers to start faster and clean up resources
        more aggressively.
-->
これによりスタンバイサーバで起動が速くなり、より積極的にリソースの片づけができるようになります。
       </p></li></ul></div><div class="sect4" id="id-1.11.6.62.5.4.3"><div class="titlepage"><div><div><h5 class="title">E.58.3.2.1. <a class="link" href="logicaldecoding.html" title="第49章 ロジカルデコーディング">ロジカルデコーディング</a></h5></div></div></div><!--
      <title><link linkend="logicaldecoding">Logical Decoding</link></title>
--><p>
<!--
       Logical decoding allows database changes to be streamed in a
       configurable format. The data is read from
       the <link linkend="wal"><acronym>WAL</acronym></link> and transformed into the
       desired target format. To implement this feature, the following changes
       were made:
-->
ロジカルデコーディングにより、データベース変更を可変な形式で流し出すことができるようになります。
データは<a class="link" href="wal.html" title="第30章 信頼性とログ先行書き込み"><acronym class="acronym">WAL</acronym></a>から読みとり、望む形式に変換されます。本機能を実装するため、以下の改修が行われました。
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
         Add support for <link linkend="logicaldecoding">logical decoding</link>
         of WAL data, to allow database changes to be streamed out in a
         customizable format
         (Andres Freund)
-->
データベース変更をカスタマイズ可能な形式で連続的に出力できる、WALデータの<a class="link" href="logicaldecoding.html" title="第49章 ロジカルデコーディング">ロジカルデコーディング</a>をサポートしました。
(Andres Freund)
        </p></li><li class="listitem"><p>
<!--
         Add new <xref linkend="guc-wal-level"/> setting <option>logical</option>
         to enable logical change-set encoding in <acronym>WAL</acronym> (Andres
         Freund)
-->
<a class="xref" href="runtime-config-wal.html#GUC-WAL-LEVEL">wal_level</a>設定パラメータに、<acronym class="acronym">WAL</acronym>に論理変更セットのエンコードを有効にする新たなオプション<code class="option">logical</code>を追加しました。
(Andres Freund)
        </p></li><li class="listitem"><p>
<!--
         Add table-level parameter <link
         linkend="catalog-pg-class"><literal>REPLICA IDENTITY</literal></link>
         to control logical replication (Andres Freund)
-->
論理レプリケーションの制御用にテーブル単位のパラメータ
<a class="link" href="catalog-pg-class.html" title="52.11. pg_class"><code class="literal">REPLICA IDENTITY</code></a>
を追加しました。
(Andres Freund)
        </p></li><li class="listitem"><p>
<!--
         Add relation option <link
         linkend="sql-createtable-storage-parameters"><option>user_catalog_table</option></link>
         to identify user-created tables involved in logical change-set
         encoding (Andres Freund)
-->
論理変更セットのエンコードにおいてユーザ作成テーブルを識別するためのテーブル単位のパラメータ
<a class="link" href="sql-createtable.html#SQL-CREATETABLE-STORAGE-PARAMETERS" title="格納パラメータ"><code class="option">user_catalog_table</code></a>
を追加しました。
(Andres Freund)
        </p></li><li class="listitem"><p>
<!--
         Add <xref linkend="app-pgrecvlogical"/> application to receive
         logical-decoding data (Andres Freund)
-->
ロジカルデコーディングデータを受け取るアプリケーション<a class="xref" href="app-pgrecvlogical.html" title="pg_recvlogical"><span class="refentrytitle"><span class="application">pg_recvlogical</span></span></a>を追加しました。
(Andres Freund)
        </p></li><li class="listitem"><p>
<!--
         Add <xref linkend="test-decoding"/> module to illustrate logical
         decoding at the <acronym>SQL</acronym> level (Andres Freund)
-->
<acronym class="acronym">SQL</acronym>レベルでロジカルデコーディングを例示する<a class="xref" href="test-decoding.html" title="F.40. test_decoding">test_decoding</a>モジュールを追加しました。
(Andres Freund)
        </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.62.5.5"><div class="titlepage"><div><div><h4 class="title">E.58.3.3. 問い合わせ</h4></div></div></div><!--
    <title>Queries</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add <link linkend="queries-tablefunctions"><literal>WITH
        ORDINALITY</literal></link> syntax to number the rows returned from a
        set-returning function in the <literal>FROM</literal> clause
        (Andrew Gierth, David Fetter)
-->
<code class="literal">FROM</code>句の集合を返す関数から返される行に番号をつける
<a class="link" href="queries-table-expressions.html#QUERIES-TABLEFUNCTIONS" title="7.2.1.4. テーブル関数"><code class="literal">WITH ORDINALITY</code></a>構文を追加しました。
(Andrew Gierth, David Fetter)
       </p><p>
<!--
        This is particularly useful for functions like
        <function>unnest()</function>.
-->
<code class="function">unnest()</code>のような関数で特に役立ちます。
       </p></li><li class="listitem"><p>
<!--
        Add <link linkend="queries-tablefunctions"><literal>ROWS
        FROM()</literal></link> syntax to allow horizontal concatenation of
        set-returning functions in the <literal>FROM</literal> clause (Andrew Gierth)
-->
<code class="literal">FROM</code>句で集合を返す関数の水平結合ができる
<a class="link" href="queries-table-expressions.html#QUERIES-TABLEFUNCTIONS" title="7.2.1.4. テーブル関数"><code class="literal">ROWS FROM()</code></a>構文を追加しました。
(Andrew Gierth)
       </p></li><li class="listitem"><p>
<!--
        Allow <xref linkend="sql-select"/> to have
        an empty target list (Tom Lane)
-->
<a class="xref" href="sql-select.html" title="SELECT"><span class="refentrytitle">SELECT</span></a>で空のターゲットリストを持てるようにしました。
       </p><p>
<!--
        This was added so that views that select from a table with zero
        columns can be dumped and restored correctly.
-->
これにより、ゼロ個の列を選択するビューを正しくダンプ、リストアできるようになります。
       </p></li><li class="listitem"><p>
<!--
        Ensure that <link linkend="sql-select"><literal>SELECT ... FOR UPDATE
        NOWAIT</literal></link> does not wait in corner cases involving
        already-concurrently-updated tuples (Craig Ringer and Thomas Munro)
-->
<a class="link" href="sql-select.html" title="SELECT"><code class="literal">SELECT ... FOR UPDATE NOWAIT</code></a>が例外的なケースでも既に同時更新されているタプルを待たないようにしました。
(Craig Ringer and Thomas Munro)
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.62.5.6"><div class="titlepage"><div><div><h4 class="title">E.58.3.4. ユーティリティコマンド</h4></div></div></div><!--
    <title>Utility Commands</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add <link linkend="sql-discard"><command>DISCARD
        SEQUENCES</command></link> command to discard cached sequence-related state
        (Fabr&iacute;zio de Royes Mello, Robert Haas)
-->
キャッシュされたシーケンス関連の状態を破棄する<a class="link" href="sql-discard.html" title="DISCARD"><code class="command">DISCARD SEQUENCES</code></a>コマンドを追加しました。
(Fabrízio de Royes Mello, Robert Haas)
       </p><p>
<!--
        <command>DISCARD ALL</command> will now also discard such information.
-->
これからは<code class="command">DISCARD ALL</code>もシーケンス関連の状態情報を破棄します。
       </p></li><li class="listitem"><p>
<!--
         Add <literal>FORCE NULL</literal> option
         to <link linkend="sql-copy"><command>COPY FROM</command></link>, which
         causes quoted strings matching the specified null string to be
         converted to NULLs in <literal>CSV</literal> mode (Ian Barwick, Michael
         Paquier)
-->
<a class="link" href="sql-copy.html" title="COPY"><code class="command">COPY FROM</code></a>に、
<code class="literal">CSV</code>モードで指定のNULL文字列に一致するクオートされた文字列をNULLに変換する、
<code class="literal">FORCE NULL</code>オプションを追加しました。
(Ian Barwick, Michael Paquier)
        </p><p>
<!--
         Without this option, only unquoted matching strings will be imported
         as null values.
-->
本オプションが無い場合、クオートされていなくてマッチした文字列だけNULLとして扱われます。
        </p></li><li class="listitem"><p>
<!--
        Issue warnings for commands used outside of transaction blocks
        when they can have no effect (Bruce Momjian)
-->
トランザクションブロックの外で意味をなさないコマンドを実行したとき、警告を出すようにしました。
(Bruce Momjian)
       </p><p>
<!--
        New warnings are issued for <command>SET
        LOCAL</command>, <command>SET CONSTRAINTS</command>, <command>SET TRANSACTION</command> and
        <command>ABORT</command> when used outside a transaction block.
-->
新たに<code class="command">SET LOCAL</code>、<code class="command">SET CONSTRAINTS</code>、
<code class="command">SET TRANSACTION</code>、および、<code class="command">ABORT</code>について、トランザクション外で使うと警告がでるようになります。
       </p></li></ul></div><div class="sect4" id="id-1.11.6.62.5.6.3"><div class="titlepage"><div><div><h5 class="title">E.58.3.4.1. <a class="xref" href="sql-explain.html" title="EXPLAIN"><span class="refentrytitle">EXPLAIN</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
         Make <command>EXPLAIN ANALYZE</command> show planning time (Andreas
         Karlsson)
-->
<code class="command">EXPLAIN ANALYZE</code>がプラン時間を表示するようにしました。
(Andreas Karlsson)
        </p></li><li class="listitem"><p>
<!--
         Make <command>EXPLAIN</command> show the grouping columns in Agg and
         Group nodes (Tom Lane)
-->
<code class="command">EXPLAIN</code>がAgg、Groupプラン要素にて集約している列を出力するようにしました。
(Tom Lane)
        </p></li><li class="listitem"><p>
<!--
         Make <command>EXPLAIN ANALYZE</command> show exact and lossy
         block counts in bitmap heap scans (Etsuro Fujita)
-->
<code class="command">EXPLAIN ANALYZE</code>でビットマップヒープスキャンのexactブロックカウントとlossyブロックカウントを出力するようにしました。
(Etsuro Fujita)
        </p></li></ul></div></div><div class="sect4" id="id-1.11.6.62.5.6.4"><div class="titlepage"><div><div><h5 class="title">E.58.3.4.2. ビュー</h5></div></div></div><!--
      <title>Views</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Allow a <link linkend="rules-materializedviews">materialized view</link>
        to be refreshed without blocking other sessions from reading the view
        meanwhile (Kevin Grittner)
-->
<a class="link" href="rules-materializedviews.html" title="41.3. マテリアライズドビュー">マテリアライズドビュー</a>を他セッションの同時参照を妨げずにリフレッシュできるようにしました。
(Kevin Grittner)
       </p><p>
<!--
        This is done with <link
        linkend="sql-refreshmaterializedview"><command>REFRESH MATERIALIZED
        VIEW CONCURRENTLY</command></link>.
-->
<a class="link" href="sql-refreshmaterializedview.html" title="REFRESH MATERIALIZED VIEW"><code class="command">REFRESH MATERIALIZED VIEW CONCURRENTLY</code></a>コマンドで行います。
       </p></li><li class="listitem"><p>
<!--
        Allow views to be <link
        linkend="sql-createview-updatable-views">automatically
        updated</link> even if they contain some non-updatable columns
        (Dean Rasheed)
-->
たとえ更新できない列が含まれていても、ビューが<a class="link" href="sql-createview.html#SQL-CREATEVIEW-UPDATABLE-VIEWS" title="更新可能ビュー">自動更新可能</a>になります。
(Dean Rasheed)
       </p><p>
<!--
        Previously the presence of non-updatable output columns such as
        expressions, literals, and function calls prevented automatic
        updates.  Now <command>INSERT</command>s, <command>UPDATE</command>s and
        <command>DELETE</command>s are supported, provided that they do not
        attempt to assign new values to any of the non-updatable columns.
-->
これまでは、式や定数、関数呼び出しなどの更新不能な出力列があると、ビューは自動更新可能にはなりませんでした。
これからは、更新不能な列に新しい値を割り当てしようとしないなら<code class="command">INSERT</code>、<code class="command">UPDATE</code>、<code class="command">DELETE</code>がサポートされます。
       </p></li><li class="listitem"><p>
<!--
        Allow control over whether <command>INSERT</command>s and
        <command>UPDATE</command>s can add rows to an auto-updatable view that
        would not appear in the view (Dean Rasheed)
-->
<code class="command">INSERT</code>や<code class="command">UPDATE</code>で、
自動更新可能ビューにそのビューにはあらわれない行を加えることができるかを制御できるようにしました。
(Dean Rasheed)
       </p><p>
<!--
        This is controlled with the new <xref linkend="sql-createview"/>
        clause <literal>WITH CHECK OPTION</literal>.
-->
新たに追加された<a class="xref" href="sql-createview.html" title="CREATE VIEW"><span class="refentrytitle">CREATE VIEW</span></a>の<code class="literal">WITH CHECK OPTION</code>句で制御します。
       </p></li><li class="listitem"><p>
<!--
        Allow <link linkend="rules-privileges">security barrier views</link>
        to be automatically updatable (Dean Rasheed)
-->
<a class="link" href="rules-privileges.html" title="41.5. ルールと権限">セキュリティバリアビュー</a>も自動更新可能になれるようにしました。
(Dean Rasheed)
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.62.5.7"><div class="titlepage"><div><div><h4 class="title">E.58.3.5. オブジェクトの操作</h4></div></div></div><!--
    <title>Object Manipulation</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Support triggers on <link linkend="sql-createforeigntable">foreign
        tables</link> (Ronan Dunklau)
-->
<a class="link" href="sql-createforeigntable.html" title="CREATE FOREIGN TABLE">外部テーブル</a>のトリガをサポートしました。
(Ronan Dunklau)
       </p></li><li class="listitem"><p>
<!--
        Allow moving groups of objects from one tablespace to another
        using the <literal>ALL IN TABLESPACE ... SET TABLESPACE</literal> form of
        <xref linkend="sql-altertable"/>, <xref linkend="sql-alterindex"/>, or
        <xref linkend="sql-altermaterializedview"/> (Stephen Frost)
-->
<a class="xref" href="sql-altertable.html" title="ALTER TABLE"><span class="refentrytitle">ALTER TABLE</span></a>、<a class="xref" href="sql-alterindex.html" title="ALTER INDEX"><span class="refentrytitle">ALTER INDEX</span></a>、
<a class="xref" href="sql-altermaterializedview.html" title="ALTER MATERIALIZED VIEW"><span class="refentrytitle">ALTER MATERIALIZED VIEW</span></a>にて、
<code class="literal">ALL IN TABLESPACE ... SET TABLESPACE</code>指定を使って、
テーブルスペースのオブジェクト群をまとめて別テーブルスペースに移動できるようにしました。
(Stephen Frost)
       </p></li><li class="listitem"><p>
<!--
        Allow changing foreign key constraint deferrability
        via <xref linkend="sql-altertable"/> ... <literal>ALTER
        CONSTRAINT</literal> (Simon Riggs)
-->
<a class="xref" href="sql-altertable.html" title="ALTER TABLE"><span class="refentrytitle">ALTER TABLE</span></a> ... <code class="literal">ALTER CONSTRAINT</code>で外部キー制約が遅延できるかを変更できるようにしました。
(Simon Riggs)
       </p></li><li class="listitem"><p>
<!--
        Reduce lock strength for some <xref linkend="sql-altertable"/>
        commands
        (Simon Riggs, Noah Misch, Robert Haas)
-->
いくつかの<a class="xref" href="sql-altertable.html" title="ALTER TABLE"><span class="refentrytitle">ALTER TABLE</span></a>コマンドでロックの強さを下げました。
(Simon Riggs, Noah Misch, Robert Haas)
       </p><p>
<!--
        Specifically, <literal>VALIDATE CONSTRAINT</literal>, <literal>CLUSTER
        ON</literal>, <literal>SET WITHOUT CLUSTER</literal>, <literal>ALTER COLUMN
        SET STATISTICS</literal>, <literal>ALTER COLUMN</literal> <literal>SET</literal>
        <option>(attribute_option)</option>, <literal>ALTER COLUMN RESET</literal>
        <option>(attribute_option)</option> no longer require <literal>ACCESS
        EXCLUSIVE</literal> locks.
-->
特に、<code class="literal">VALIDATE CONSTRAINT</code>、<code class="literal">CLUSTER ON</code>、
<code class="literal">SET WITHOUT CLUSTER</code>、<code class="literal">ALTER COLUMN SET STATISTICS</code>、
<code class="literal">ALTER COLUMN</code> <code class="literal">SET</code> <code class="option">(attribute_option)</code>、
<code class="literal">ALTER COLUMN RESET</code> <code class="option">(attribute_option)</code>は、もはや
<code class="literal">ACCESS EXCLUSIVE</code>ロックを必要としません。
       </p></li><li class="listitem"><p>
<!--
        Allow tablespace options to be set
        in <xref linkend="sql-createtablespace"/> (Vik Fearing)
-->
テーブルスペースのオプションを
<a class="xref" href="sql-createtablespace.html" title="CREATE TABLESPACE"><span class="refentrytitle">CREATE TABLESPACE</span></a>で設定できるようにしました。
(Vik Fearing)
       </p><p>
<!--
        Formerly these options could only be set
        via <xref linkend="sql-altertablespace"/>.
-->
以前はこれらのオプションは<a class="xref" href="sql-altertablespace.html" title="ALTER TABLESPACE"><span class="refentrytitle">ALTER TABLESPACE</span></a>でしか設定できませんでした。
       </p></li><li class="listitem"><p>
<!--
        Allow <xref linkend="sql-createaggregate"/> to define the estimated
        size of the aggregate's transition state data (Hadi Moshayedi)
-->
<a class="xref" href="sql-createaggregate.html" title="CREATE AGGREGATE"><span class="refentrytitle">CREATE AGGREGATE</span></a>で集約の遷移状態データの推定サイズを指定できるようにしました。
(Hadi Moshayedi)
       </p><p>
<!--
        Proper use of this feature allows the planner to better estimate
        how much memory will be used by aggregates.
-->
この機能を適切に使うことでプランナが集約での必要メモリ量をよりよく見積もれます。
       </p></li><li class="listitem"><p>
<!--
        Fix <command>DROP IF EXISTS</command> to avoid errors for non-existent
        objects in more cases (Pavel Stehule, Dean Rasheed)
-->
<code class="command">DROP IF EXISTS</code>が場合によってはオブジェクトが無いことでエラーになるのを修正しました。
(Pavel Stehule, Dean Rasheed)
       </p></li><li class="listitem"><p>
<!--
        Improve how system relations are identified (Andres Freund,
        Robert Haas)
-->
システムリレーションの識別方法を改善しました。
(Andres Freund, Robert Haas)
       </p><p>
<!--
        Previously, relations once moved into the <literal>pg_catalog</literal>
        schema could no longer be modified or dropped.
-->
これまでは、一度<code class="literal">pg_catalog</code>スキーマに移動したリレーションは、変更も削除もできませんでした。
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.62.5.8"><div class="titlepage"><div><div><h4 class="title">E.58.3.6. データ型</h4></div></div></div><!--
    <title>Data Types</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Fully implement the <link
        linkend="datatype-line"><type>line</type></link> data type (Peter
        Eisentraut)
-->
<a class="link" href="datatype-geometric.html#DATATYPE-LINE" title="8.8.2. 直線"><code class="type">line</code></a>データ型を完全に実装しました。
(Peter Eisentraut)
       </p><p>
<!--
        The line <emphasis>segment</emphasis> data type (<link
        linkend="datatype-lseg"><type>lseg</type></link>) has always been
        fully supported.  The previous <type>line</type> data type (which was
        enabled only via a compile-time option) is not binary or
        dump-compatible with the new implementation.
-->
<span class="emphasis"><em>線分</em></span>データ型(<a class="link" href="datatype-geometric.html#DATATYPE-LSEG" title="8.8.3. 線分"><code class="type">lseg</code></a>)
は既にサポートされています。
従来の<code class="type">line</code>データ型（コンパイルオプションでのみ有効にできます）は、バイナリでもダンプでも新しい実装と互換性がありません。
       </p></li><li class="listitem"><p>
<!--
        Add <link linkend="datatype-pg-lsn"><type>pg_lsn</type></link>
        data type to represent a <acronym>WAL</acronym> log sequence number
        (<acronym>LSN</acronym>) (Robert Haas, Michael Paquier)
-->
<acronym class="acronym">WAL</acronym>のログシーケンス番号(<acronym class="acronym">LSN</acronym>)をあらわす<a class="link" href="datatype-pg-lsn.html" title="8.20. pg_lsn 型"><code class="type">pg_lsn</code></a>データ型を追加しました。
(Robert Haas, Michael Paquier)
       </p></li><li class="listitem"><p>
<!--
        Allow single-point <link
        linkend="datatype-polygon"><type>polygon</type></link>s to be converted
        to <link linkend="datatype-circle"><type>circle</type></link>s
        (Bruce Momjian)
-->
一点だけの<a class="link" href="datatype-geometric.html#DATATYPE-POLYGON" title="8.8.6. 多角形(ポリゴン)"><code class="type">polygon</code></a>を
<a class="link" href="datatype-geometric.html#DATATYPE-CIRCLE" title="8.8.7. 円"><code class="type">circle</code></a>に変換できるようにしました。
(Bruce Momjian)
       </p></li><li class="listitem"><p>
<!--
        Support time zone abbreviations that change UTC offset from time to
        time (Tom Lane)
-->
UTCオフセットが変化するタイムゾーン略称をサポートしました。
(Tom Lane)
       </p><p>
<!--
        Previously, <productname>PostgreSQL</productname> assumed that the UTC offset
        associated with a time zone abbreviation (such as <literal>EST</literal>)
        never changes in the usage of any particular locale.  However this
        assumption fails in the real world, so introduce the ability for a
        zone abbreviation to represent a UTC offset that sometimes changes.
        Update the zone abbreviation definition files to make use of this
        feature in timezone locales that have changed the UTC offset of their
        abbreviations since 1970 (according to the IANA timezone database).
        In such timezones, <productname>PostgreSQL</productname> will now associate the
        correct UTC offset with the abbreviation depending on the given date.
-->
これまで<span class="productname">PostgreSQL</span>では（<code class="literal">EST</code>などの）一つのタイムゾーン略称に関連づけられたUTCオフセットは、いかなるロケールでの使用でも変化しないと仮定していました。
しかしながら、実世界においてこの仮定は失敗しました。そこで、意味するUTCオフセットをときに変更できるタイムゾーン略称を導入しました。
1970年以来の略称のUTCオフセットが変更されたタイムゾーンロケールで本機能を使えるように（IANAタイムゾーンデータベースに基づいて）ゾーン略称定義ファイルを刷新しました。これからは<span class="productname">PostgreSQL</span>は、略称に日付に応じた適切なUTCオフセットを関連づけます。
       </p></li><li class="listitem"><p>
<!--
        Allow 5+ digit years for non-<acronym>ISO</acronym> <link
        linkend="datatype-datetime"><type>timestamp</type></link> and
        <type>date</type> strings, where appropriate (Bruce Momjian)
-->
<a class="link" href="datatype-datetime.html" title="8.5. 日付/時刻データ型"><code class="type">timestamp</code></a>と
<code class="type">date</code>のISO形式以外の文字列で5桁以上の年を使用可能にしました。
(Bruce Momjian)
       </p></li><li class="listitem"><p>
<!--
        Add checks for overflow/underflow of <link
        linkend="datatype-datetime"><type>interval</type></link> values
        (Bruce Momjian)
-->
<a class="link" href="datatype-datetime.html" title="8.5. 日付/時刻データ型"><code class="type">interval</code></a>値のオーバーフロー、アンダーフローのチェックを加えました。
(Bruce Momjian)
       </p></li></ul></div><div class="sect4" id="id-1.11.6.62.5.8.3"><div class="titlepage"><div><div><h5 class="title">E.58.3.6.1. <a class="link" href="datatype-json.html" title="8.14. JSONデータ型"><acronym class="acronym">JSON</acronym></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
         Add <link linkend="datatype-json"><type>jsonb</type></link>, a more
         capable and efficient data type for storing <acronym>JSON</acronym> data
         (Oleg Bartunov, Teodor Sigaev, Alexander
         Korotkov, Peter Geoghegan, Andrew Dunstan)
-->
より高機能で効率的な<acronym class="acronym">JSON</acronym>文字列のデータ型<a class="link" href="datatype-json.html" title="8.14. JSONデータ型"><code class="type">jsonb</code></a>を追加しました。
(Oleg Bartunov, Teodor Sigaev, Alexander Korotkov, Peter Geoghegan, Andrew Dunstan)
        </p><p>
<!--
         This new type allows faster access to values within a JSON
         document, and faster and more useful indexing of JSON columns.
         Scalar values in <type>jsonb</type> documents are stored as appropriate
         scalar SQL types, and the JSON document structure is pre-parsed
         rather than being stored as text as in the original <type>json</type>
         data type.
-->
この新しいデータ型は、JSON文書により高速にアクセスでき、また、JSON列により高速で有用なインデックス適用ができます。
従来の<code class="type">json</code>型がJSON文書全体をテキストとして格納するのに対し、
<code class="type">jsonb</code>文書のスカラ値は適当なSQLデータ型として格納され、JSON文書の構造は事前解析されます。
        </p></li><li class="listitem"><p>
<!--
         Add new JSON functions to allow for the construction
         of arbitrarily complex JSON trees (Andrew Dunstan, Laurence Rowe)
-->
任意の複雑なJSONツリーを構築できる新たなJSON関数を追加しました。
(Andrew Dunstan, Laurence Rowe)
        </p><p>
<!--
         New functions include <link
         linkend="functions-json-processing-table"><function>json_array_elements_text()</function></link>,
         <function>json_build_array()</function>, <function>json_object()</function>,
         <function>json_object_agg()</function>, <function>json_to_record()</function>,
         and <function>json_to_recordset()</function>.
-->
新たな関数には、
<a class="link" href="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE" title="表9.46 JSON処理関数"><code class="function">json_array_elements_text()</code></a>、
<code class="function">json_build_array()</code>、<code class="function">json_object()</code>、
<code class="function">json_object_agg()</code>、<code class="function">json_to_record()</code>、
<code class="function">json_to_recordset()</code>が含まれます。
        </p></li><li class="listitem"><p>
<!--
         Add <link
         linkend="functions-json-processing-table"><function>json_typeof()</function></link>
         to return the data type of a <type>json</type> value (Andrew Tipton)
-->
<code class="type">json</code>値のデータ型を返す
<a class="link" href="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE" title="表9.46 JSON処理関数"><code class="function">json_typeof()</code></a>を追加しました。
(Andrew Tipton)
        </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.62.5.9"><div class="titlepage"><div><div><h4 class="title">E.58.3.7. 関数</h4></div></div></div><!--
    <title>Functions</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add <link
        linkend="functions-datetime-delay"><function>pg_sleep_for(interval)</function></link>
        and <function>pg_sleep_until(timestamp)</function> to specify
        delays more flexibly (Vik Fearing, Julien Rouhaud)
-->
より柔軟に遅延を指定できる<a class="link" href="functions-datetime.html#FUNCTIONS-DATETIME-DELAY" title="9.9.5. 遅延実行"><code class="function">pg_sleep_for(interval)</code></a>と<code class="function">pg_sleep_until(timestamp)</code>を追加しました。
(Vik Fearing, Julien Rouhaud)
       </p><p>
<!--
        The existing <function>pg_sleep()</function> function only supports delays
        specified in seconds.
-->
既存の<code class="function">pg_sleep()</code>関数は秒指定の遅延のみをサポートしていました。
       </p></li><li class="listitem"><p>
<!--
        Add <link
        linkend="array-functions-table"><function>cardinality()</function></link>
        function for arrays (Marko Tiikkaja)
-->
配列を引数とする<a class="link" href="functions-array.html#ARRAY-FUNCTIONS-TABLE" title="表9.49 配列関数"><code class="function">cardinality()</code></a>関数を追加しました。
(Marko Tiikkaja)
       </p><p>
<!--
        This returns the total number of elements in the array, or zero
        for an array with no elements.
-->
この関数は、配列要素の総数、要素が無い場合にはゼロを返します。
       </p></li><li class="listitem"><p>
<!--
        Add <acronym>SQL</acronym> functions to allow <link linkend="lo-funcs">large
        object reads/writes</link> at arbitrary offsets (Pavel Stehule)
-->
任意のオフセットで<a class="link" href="lo-funcs.html" title="35.4. サーバ側の関数">ラージオブジェクトを読み書き</a>できる<acronym class="acronym">SQL</acronym>関数を追加しました。
(Pavel Stehule)
       </p></li><li class="listitem"><p>
<!--
        Allow <link
        linkend="array-functions-table"><function>unnest()</function></link>
        to take multiple arguments, which are individually unnested then
        horizontally concatenated (Andrew Gierth)
-->
<a class="link" href="functions-array.html#ARRAY-FUNCTIONS-TABLE" title="表9.49 配列関数"><code class="function">unnest()</code></a>を複数引数をとれるようにしました。引数は各々に展開され、水平に結合されます。
(Andrew Gierth)
       </p></li><li class="listitem"><p>
<!--
        Add functions to construct <type>time</type>s, <type>date</type>s,
        <type>timestamp</type>s, <type>timestamptz</type>s, and <type>interval</type>s
        from individual values, rather than strings (Pavel Stehule)
-->
文字列ではなく個別の値から、<code class="type">time</code>、<code class="type">date</code>、<code class="type">timestamp</code>、<code class="type">timestamptz</code>、<code class="type">interval</code>の各データ型を構築する関数を追加しました。
(Pavel Stehule)
       </p><p>
<!--
        These functions' names are prefixed with <literal>make_</literal>,
        e.g. <link linkend="functions-datetime-table"><function>make_date()</function></link>.
-->
これらの関数には<code class="literal">make_</code>という接頭辞が付きます（例えば<a class="link" href="functions-datetime.html#FUNCTIONS-DATETIME-TABLE" title="表9.30 日付/時刻関数"><code class="function">make_date()</code></a>）。
       </p></li><li class="listitem"><p>
<!--
        Make <link
        linkend="functions-formatting-table"><function>to_char()</function></link>'s
        <literal>TZ</literal> format specifier return a useful value for simple
        numeric time zone offsets (Tom Lane)
-->
<a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-TABLE" title="表9.23 書式設定関数"><code class="function">to_char()</code></a>関数の<code class="literal">TZ</code>書式指示子が、数値であらわれたタイムゾーンオフセットに対して有効な値を返すようにしました。
(Tom Lane)
       </p><p>
<!--
        Previously, <literal>to_char(CURRENT_TIMESTAMP, 'TZ')</literal> returned
        an empty string if the <literal>timezone</literal> was set to a constant
        like <literal>-4</literal>.
-->
これまでは、
<code class="literal">timezone</code>に「<code class="literal">-4</code>」のような定数が設定されていると、
<code class="literal">to_char(CURRENT_TIMESTAMP, 'TZ')</code>が空文字列を返していました。
       </p></li><li class="listitem"><p>
<!--
        Add timezone offset format specifier <literal>OF</literal> to <link
        linkend="functions-formatting-table"><function>to_char()</function></link>
        (Bruce Momjian)
-->
<a class="link" href="functions-formatting.html#FUNCTIONS-FORMATTING-TABLE" title="表9.23 書式設定関数"><code class="function">to_char()</code></a>で
タイムゾーンオフセットの書式指示子「<code class="literal">OF</code>」がサポートされました。
(Bruce Momjian)
       </p></li><li class="listitem"><p>
<!--
        Improve the random seed used for <link
        linkend="functions-math-random-table"><function>random()</function></link>
        (Honza Horak)
-->
<a class="link" href="functions-math.html#FUNCTIONS-MATH-RANDOM-TABLE" title="表9.6 乱数関数"><code class="function">random()</code></a>
のランダムシードを改善しました。
(Honza Horak)
       </p></li><li class="listitem"><p>
<!--
        Tighten validity checking for Unicode code points in <link
        linkend="functions-string-other"><function>chr(int)</function></link>
        (Tom Lane)
-->
<a class="link" href="functions-string.html#FUNCTIONS-STRING-OTHER" title="表9.9 その他の文字列関数"><code class="function">chr(int)</code></a>で
ユニコードのコードポイントの正当性チェックをより厳しくしました。
(Tom Lane)
       </p><p>
<!--
        This function now only accepts values that are valid UTF8 characters
        according to RFC 3629.
-->
本関数はRFC 3629に従ったUTF8文字のみを有効な値として受けるようになります。
       </p></li></ul></div><div class="sect4" id="id-1.11.6.62.5.9.3"><div class="titlepage"><div><div><h5 class="title">E.58.3.7.1. システム情報関数</h5></div></div></div><!--
     <title>System Information Functions</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add functions for looking up objects in <structname>pg_class</structname>,
        <structname>pg_proc</structname>, <structname>pg_type</structname>, and
        <structname>pg_operator</structname> that do not generate errors for
        non-existent objects (Yugo Nagata, Nozomi Anzai,
        Robert Haas)
-->
システムテーブル<code class="structname">pg_class</code>、<code class="structname">pg_proc</code>、<code class="structname">pg_type</code>、<code class="structname">pg_operator</code>を検索して、オブジェクトが無くてもエラーを返さない関数をいくつか追加しました。
(Yugo Nagata, Nozomi Anzai, Robert Haas)
       </p><p>
<!--
        For example, <link
        linkend="functions-info-catalog-table"><function>to_regclass()</function></link>
        does a lookup in <structname>pg_class</structname> similarly to
        the <type>regclass</type> input function, but it returns NULL for a
        non-existent object instead of failing.
-->
例えば、<a class="link" href="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE" title="表9.63 システムカタログ情報関数"><code class="function">to_regclass()</code></a>は<code class="structname">pg_class</code>を<code class="type">regclass</code>入力関数と同様に検索しますが、オブジェクトが無い場合には失敗するのでなくNULLを返します。
       </p></li><li class="listitem"><p>
<!--
        Add function <link
        linkend="functions-admin-dblocation"><function>pg_filenode_relation()</function></link>
        to allow for more efficient lookup of relation names from filenodes
        (Andres Freund)
-->
リレーション名をファイルノードからより効率的に検索できる<a class="link" href="functions-admin.html#FUNCTIONS-ADMIN-DBLOCATION" title="表9.85 データベースオブジェクト位置関数"><code class="function">pg_filenode_relation()</code></a>関数を追加しました。
(Andres Freund)
       </p></li><li class="listitem"><p>
<!--
        Add <structfield>parameter_default</structfield> column to <link
        linkend="infoschema-parameters"><structname>information_schema.parameters</structname></link>
        view (Peter Eisentraut)
-->
<a class="link" href="infoschema-parameters.html" title="37.32. parameters"><code class="structname">information_schema.parameters</code></a>ビューに<code class="structfield">parameter_default</code>列を追加しました。
(Peter Eisentraut)
       </p></li><li class="listitem"><p>
<!--
        Make <link
        linkend="infoschema-schemata"><structname>information_schema.schemata</structname></link>
        show all accessible schemas (Peter Eisentraut)
-->
<a class="link" href="infoschema-schemata.html" title="37.41. schemata"><code class="structname">information_schema.schemata</code></a>が全てのアクセス可能なスキーマを表示するようにしました。
(Peter Eisentraut)
       </p><p>
<!--
        Previously it only showed schemas owned by the current user.
-->
これまでは現在ユーザが所有者のスキーマだけ表示していました。
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.62.5.9.4"><div class="titlepage"><div><div><h5 class="title">E.58.3.7.2. 集約</h5></div></div></div><!--
     <title>Aggregates</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add control over which rows are passed
        into aggregate functions via the <link
        linkend="syntax-aggregates"><literal>FILTER</literal></link> clause
        (David Fetter)
-->
どの行を集約関数に渡すかを制御する<a class="link" href="sql-expressions.html#SYNTAX-AGGREGATES" title="4.2.7. 集約式"><code class="literal">FILTER</code></a>句が追加されました。
(David Fetter)
       </p></li><li class="listitem"><p>
<!--
        Support ordered-set (<link
        linkend="syntax-aggregates"><literal>WITHIN GROUP</literal></link>)
        aggregates (Atri Sharma, Andrew Gierth, Tom Lane)
-->
順序付けされた集合(<a class="link" href="sql-expressions.html#SYNTAX-AGGREGATES" title="4.2.7. 集約式"><code class="literal">WITHIN GROUP</code></a>)の集約をサポートしました。
(Atri Sharma, Andrew Gierth, Tom Lane)
       </p></li><li class="listitem"><p>
<!--
        Add standard ordered-set aggregates <link
        linkend="functions-orderedset-table"><function>percentile_cont()</function></link>,
        <function>percentile_disc()</function>, <function>mode()</function>, <link
        linkend="functions-hypothetical-table"><function>rank()</function></link>,
        <function>dense_rank()</function>, <function>percent_rank()</function>, and
        <function>cume_dist()</function>
        (Atri Sharma, Andrew Gierth)
-->
SQL標準の順序集合の集約関数
<a class="link" href="functions-aggregate.html#FUNCTIONS-ORDEREDSET-TABLE" title="表9.54 順序集合集約関数"><code class="function">percentile_cont()</code></a>、
<code class="function">percentile_disc()</code>、
<code class="function">mode()</code>、
<a class="link" href="functions-aggregate.html#FUNCTIONS-HYPOTHETICAL-TABLE" title="表9.55 仮想集合集約関数"><code class="function">rank()</code></a>、
<code class="function">dense_rank()</code>、
<code class="function">percent_rank()</code>、
<code class="function">cume_dist()</code>が追加されました。
(Atri Sharma, Andrew Gierth)
       </p></li><li class="listitem"><p>
<!--
        Support <link
        linkend="xfunc-sql-variadic-functions"><literal>VARIADIC</literal></link>
        aggregate functions (Tom Lane)
-->
集約関数で<a class="link" href="xfunc-sql.html#XFUNC-SQL-VARIADIC-FUNCTIONS" title="38.5.5. 可変長引数を取るSQL関数"><code class="literal">VARIADIC</code></a>
をサポートしました。
(Tom Lane)
       </p></li><li class="listitem"><p>
<!--
        Allow polymorphic aggregates to have non-polymorphic state data
        types (Tom Lane)
-->
引数に多態集約が多態でない状態データ型を持てるようにしました。
(Tom Lane)
       </p><p>
<!--
        This allows proper declaration in SQL of aggregates like the built-in
        aggregate <function>array_agg()</function>.
-->
組み込みの<code class="function">array_agg()</code>のような集約関数をSQLで適切に宣言できるようになります。
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.62.5.10"><div class="titlepage"><div><div><h4 class="title">E.58.3.8. サーバサイド言語</h4></div></div></div><!--
    <title>Server-Side Languages</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
       Add event trigger support to <link linkend="plperl">PL/Perl</link>
       and <link linkend="pltcl">PL/Tcl</link> (Dimitri Fontaine)
-->
<a class="link" href="plperl.html" title="第45章 PL/Perl - Perl手続き言語">PL/Perl</a>と<a class="link" href="pltcl.html" title="第44章 PL/Tcl - Tcl手続き言語">PL/Tcl</a>にイベントトリガのサポートを加えました。
(Dimitri Fontaine)
      </p></li><li class="listitem"><p>
<!--
       Convert <link linkend="datatype-numeric"><type>numeric</type></link>
       values to <type>decimal</type> in <link linkend="plpython">PL/Python</link>
       (Szymon Guz, Ronan Dunklau)
-->
<a class="link" href="datatype-numeric.html" title="8.1. 数値データ型"><code class="type">numeric</code></a>型の値を
<a class="link" href="plpython.html" title="第46章 PL/Python - Python手続き言語">PL/Python</a>で<code class="type">decimal</code>型に変換するようにしました。
(Szymon Guz, Ronan Dunklau)
      </p><p>
<!--
       Previously such values were converted to Python <type>float</type> values,
       risking loss of precision.
-->
これまでは、値をPythonの<code class="type">float</code>型の値に変換していました。
      </p></li></ul></div><div class="sect4" id="id-1.11.6.62.5.10.3"><div class="titlepage"><div><div><h5 class="title">E.58.3.8.1. <a class="link" href="plpgsql.html" title="第43章 PL/pgSQL - SQL手続き言語">PL/pgSQL</a>サーバサイド言語</h5></div></div></div><!--
     <title><link linkend="plpgsql">PL/pgSQL</link> Server-Side Language</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add ability to retrieve the current PL/pgSQL call stack
        using <link linkend="plpgsql-call-stack"><command>GET
        DIAGNOSTICS</command></link>
        (Pavel Stehule, Stephen Frost)
-->
<a class="link" href="plpgsql-control-structures.html#PLPGSQL-CALL-STACK" title="43.6.9. 実行位置情報の取得"><code class="command">GET DIAGNOSTICS</code></a>
を使ってPL/pgSQLの現在のコールスタックを取得できるようにしました。
(Pavel Stehule, Stephen Frost)
       </p></li><li class="listitem"><p>
<!--
        Add option <link
        linkend="plpgsql-statements-sql-onerow"><option>print_strict_params</option></link>
        to display the parameters passed to a query that violated a
        <literal>STRICT</literal> constraint (Marko Tiikkaja)
-->
<code class="literal">STRICT</code>制約に違反したクエリを表示する
<a class="link" href="plpgsql-statements.html#PLPGSQL-STATEMENTS-SQL-ONEROW" title="43.5.3. 1行の結果を返す問い合わせの実行"><code class="option">print_strict_params</code></a>オプションを追加しました。
(Marko Tiikkaja)
       </p></li><li class="listitem"><p>
<!--
        Add variables <link
        linkend="plpgsql-extra-checks"><varname>plpgsql.extra_warnings</varname></link>
        and <varname>plpgsql.extra_errors</varname> to enable additional PL/pgSQL
        warnings and errors (Marko Tiikkaja, Petr Jelinek)
-->
追加的なPL/pgSQLの警告とエラーを有効にする
<a class="link" href="plpgsql-development-tips.html#PLPGSQL-EXTRA-CHECKS" title="43.12.2. コンパイル時の付加的チェック"><code class="varname">plpgsql.extra_warnings</code></a>変数、
<code class="varname">plpgsql.extra_errors</code>変数を追加しました。
(Marko Tiikkaja, Petr Jelinek)
       </p><p>
<!--
        Currently only warnings/errors about shadowed variables are available.
-->
いまのところ隠し変数についての警告、エラーが有効になるだけです。
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.62.5.11"><div class="titlepage"><div><div><h4 class="title">E.58.3.9. <a class="link" href="libpq.html" title="第34章 libpq - C ライブラリ"><span class="application">libpq</span></a></h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Make libpq's <link
        linkend="libpq-pqconndefaults"><function>PQconndefaults()</function></link>
        function ignore invalid service files (Steve Singer, Bruce Momjian)
-->
libpqの<a class="link" href="libpq-connect.html#LIBPQ-PQCONNDEFAULTS"><code class="function">PQconndefaults()</code></a>が
無効なサービスファイルを無視するようにしました。
(Steve Singer, Bruce Momjian)
       </p><p>
<!--
        Previously it returned NULL if an incorrect service file was
        encountered.
-->
これまでは、不正なサービスファイルに遭遇するとNULLを返していました。
       </p></li><li class="listitem"><p>
<!--
        Accept <acronym>TLS</acronym> protocol versions beyond <literal>TLSv1</literal>
        in libpq (Marko Kreen)
-->
<code class="literal">TLSv1</code>以降バージョンの<acronym class="acronym">TLS</acronym>プロトコルを受け付けます。
(Marko Kreen)
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.62.5.12"><div class="titlepage"><div><div><h4 class="title">E.58.3.10. クライアントアプリケーション</h4></div></div></div><!--
    <title>Client Applications</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add <xref linkend="app-createuser"/> option <option>-g</option>
        to specify role membership (Christopher Browne)
-->
<a class="xref" href="app-createuser.html" title="createuser"><span class="refentrytitle"><span class="application">createuser</span></span></a>に、所属するロールを指定する<code class="option">-g</code>オプションを追加しました。
(Christopher Browne)
       </p></li><li class="listitem"><p>
<!--
        Add <xref linkend="app-vacuumdb"/>
        option <option>&#045;&#045;analyze-in-stages</option> to analyze in stages of
        increasing granularity (Peter Eisentraut)
-->
<a class="xref" href="app-vacuumdb.html" title="vacuumdb"><span class="refentrytitle"><span class="application">vacuumdb</span></span></a>粒度を増やして複数段階で解析を行う<code class="option">--analyze-in-stages</code>オプションが追加されました。
       </p><p>
<!--
        This allows minimal statistics to be created quickly.
-->
これにより最小限の統計情報を素早く生成できます。
       </p></li><li class="listitem"><p>
<!--
        Make <link linkend="app-pgresetwal"><application>pg_resetxlog</application></link>
        with option <option>-n</option> output current and potentially changed
        values (Rajeev Rastogi)
-->
<a class="link" href="app-pgresetwal.html" title="pg_resetwal"><span class="application">pg_resetxlog</span></a>が<code class="option">-n</code>オプションにて現在値ともしかすると変更された値を出力するようにしました。
(Rajeev Rastogi)
       </p></li><li class="listitem"><p>
<!--
        Make <xref linkend="app-initdb"/> throw error for incorrect locale
        settings, rather than silently falling back to a default choice
        (Tom Lane)
-->
<a class="xref" href="app-initdb.html" title="initdb"><span class="refentrytitle">initdb</span></a>が誤ったロケール設定に黙って代替にデフォルトを選択するのでなくエラーを出すようにしました。
(Tom Lane)
       </p></li><li class="listitem"><p>
<!--
        Make <xref linkend="app-pg-ctl"/> return exit code <literal>4</literal> for
        an inaccessible data directory (Amit Kapila, Bruce Momjian)
-->
<a class="xref" href="app-pg-ctl.html" title="pg_ctl"><span class="refentrytitle"><span class="application">pg_ctl</span></span></a>がデータディレクトリにアクセスできないとき終了コード<code class="literal">4</code>を返すようにしました。
(Amit Kapila, Bruce Momjian)
       </p><p>
<!--
        This behavior more closely matches the Linux Standard Base
        (<acronym>LSB</acronym>) Core Specification.
-->
この振る舞いはLinux Standard Base(<acronym class="acronym">LSB</acronym>)のコア仕様により厳密に適合します。
       </p></li><li class="listitem"><p>
<!--
        On Windows, ensure that a non-absolute <option>-D</option> path
        specification is interpreted relative
        to <xref linkend="app-pg-ctl"/>'s current directory
        (Kumar Rajeev Rastogi)
-->
Windowsで相対パスで指定された<code class="option">-D</code>オプションを<a class="xref" href="app-pg-ctl.html" title="pg_ctl"><span class="refentrytitle"><span class="application">pg_ctl</span></span></a>のカレントディレクトリからの相対パスと解釈することを保証します。
(Kumar Rajeev Rastogi)
       </p><p>
<!--
        Previously it would be interpreted relative to whichever directory
        the underlying Windows service was started in.
-->
これまでは、元となるWindowsサービスが開始されたディレクトリを起点にして解釈されていました。
       </p></li><li class="listitem"><p>
<!--
        Allow <function>sizeof()</function> in <link linkend="ecpg">ECPG</link>
        C array definitions (Michael Meskes)
-->
<a class="link" href="ecpg.html" title="第36章 ECPG - C言語による埋め込みSQL">ECPG</a>でC言語の配列定義に<code class="function">sizeof()</code>を使用可能にしました。
(Michael Meskes)
       </p></li><li class="listitem"><p>
<!--
        Make <link linkend="ecpg">ECPG</link> properly handle nesting
        of C-style comments in both C and <acronym>SQL</acronym> text
        (Michael Meskes)
-->
<a class="link" href="ecpg.html" title="第36章 ECPG - C言語による埋め込みSQL">ECPG</a>で入れ子になったC言語スタイルのコメントをC言語中でも
<acronym class="acronym">SQL</acronym>中でも適切に扱えるようにしました。
(Michael Meskes)
       </p></li></ul></div><div class="sect4" id="id-1.11.6.62.5.12.3"><div class="titlepage"><div><div><h5 class="title">E.58.3.10.1. <a class="xref" href="app-psql.html" title="psql"><span class="refentrytitle"><span class="application">psql</span></span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Suppress <quote>No rows</quote> output in <application>psql</application> <link
        linkend="app-psql-meta-commands"><option>expanded</option></link>
        mode when the footer is disabled (Bruce Momjian)
-->
<span class="application">psql</span>の<a class="link" href="app-psql.html#APP-PSQL-META-COMMANDS" title="メタコマンド"><code class="option">expanded</code></a>
モードでfooterが無効であるときには、<span class="quote">「<span class="quote">No rows</span>」</span>出力を抑止します。
(Bruce Momjian)
       </p></li><li class="listitem"><p>
<!--
        Allow Control-C to abort <application>psql</application> when it's hung at
        connection startup (Peter Eisentraut)
-->
コネクション開始時にハングアップしたとき、Control-C押下で終了できるようにしました。
(Peter Eisentraut)
       </p></li></ul></div><div class="sect5" id="id-1.11.6.62.5.12.3.3"><div class="titlepage"><div><div><h6 class="title">E.58.3.10.1.1. <a class="link" href="app-psql.html#APP-PSQL-META-COMMANDS" title="メタコマンド">バックスラッシュコマンド</a></h6></div></div></div><!--
      <title><link linkend="app-psql-meta-commands">Backslash Commands</link></title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
         Make <application>psql</application>'s <command>\db+</command> show tablespace options
         (Magnus Hagander)
-->
<span class="application">psql</span>の<code class="command">\db+</code>でテーブルスペースオプションが
表示されるようにしました。
(Magnus Hagander)
        </p></li><li class="listitem"><p>
<!--
         Make <command>\do+</command> display the functions
         that implement the operators (Marko Tiikkaja)
-->
<code class="command">\do+</code>で演算子を実装している関数が表示されるようにしました。
(Marko Tiikkaja)
        </p></li><li class="listitem"><p>
<!--
         Make <command>\d+</command> output an
         <literal>OID</literal> line only if an <literal>oid</literal> column
         exists in the table (Bruce Momjian)
-->
<code class="command">\d+</code>でテーブルに<code class="literal">oid</code>列がある場合だけ
<code class="literal">OID</code>行を表示するようにしました。
(Bruce Momjian)
        </p><p>
<!--
         Previously, the presence or absence of an <literal>oid</literal>
         column was always reported.
-->
これまでは<code class="literal">oid</code>列の有無にかかわらず常に報告されていました。
        </p></li><li class="listitem"><p>
<!--
         Make <command>\d</command> show disabled system triggers (Bruce
         Momjian)
-->
<code class="command">\d</code>で無効になっているシステムトリガを表示するようにしました。
(Bruce Momjian)
        </p><p>
<!--
         Previously, if you disabled all triggers, only user triggers
         would show as disabled.
-->
これまでは、すべてのトリガを無効にした場合、ユーザトリガだけが無効であるものとして表示されていました。
        </p></li><li class="listitem"><p>
<!--
         Fix <command>\copy</command> to no longer require
         a space between <literal>stdin</literal> and a semicolon (Etsuro Fujita)
-->
<code class="command">\copy</code>で「<code class="literal">stdin</code>」とセミコロンの間の空白を不要にしました。
(Etsuro Fujita)
        </p></li><li class="listitem"><p>
<!--
         Output the row count at the end of <command>\copy</command>, just
         like <command>COPY</command> already did (Kumar Rajeev Rastogi)
-->
<code class="command">COPY</code>ですでにそうなっているように、
<code class="command">\copy</code>で最後に行数を出力します。
(Kumar Rajeev Rastogi)
        </p></li><li class="listitem"><p>
<!--
         Fix <command>\conninfo</command> to display the
         server's <acronym>IP</acronym> address for connections using
         <literal>hostaddr</literal> (Fujii Masao)
-->
<code class="command">\conninfo</code>で<code class="literal">hostaddr</code>を使って接続した場合に
サーバの<acronym class="acronym">IP</acronym>アドレスを表示するように修正しました。
(Fujii Masao)
        </p><p>
<!--
         Previously <command>\conninfo</command> could not display the server's
         <acronym>IP</acronym> address in such cases.
-->
これまでは<code class="command">\conninfo</code>はこのようなケースでサーバの
<acronym class="acronym">IP</acronym>アドレスを表示できませんでした。
        </p></li><li class="listitem"><p>
<!--
         Show the <acronym>SSL</acronym> protocol version in
         <command>\conninfo</command> (Marko Kreen)
-->
<code class="command">\conninfo</code>で<acronym class="acronym">SSL</acronym>プロトコルバージョンを表示します。
(Marko Kreen)
        </p></li><li class="listitem"><p>
<!--
         Add tab completion for <command>\pset</command>
         (Pavel Stehule)
-->
<code class="command">\pset</code>のためのタブ補完が追加しました。
(Pavel Stehule)
        </p></li><li class="listitem"><p>
<!--
         Allow <command>\pset</command> with no arguments
         to show all settings (Gilles Darold)
-->
引数無しの<code class="command">\pset</code>で設定一覧を表示するようにしました。
(Gilles Darold)
        </p></li><li class="listitem"><p>
<!--
         Make <command>\s</command> display the name of the history file it wrote
         without converting it to an absolute path (Tom Lane)
-->
<code class="command">\s</code>で書き出すヒストリファイル名を絶対パスに変換せずに表示するようにしました。
(Tom Lane)
        </p><p>
<!--
         The code previously attempted to convert a relative file name to
         an absolute path for display, but frequently got it wrong.
-->
これまでのコードでは表示するのに相対パスを絶対パスに変換しようと試みていましたが、しばしば誤っていました。
        </p></li></ul></div></div></div><div class="sect4" id="id-1.11.6.62.5.12.4"><div class="titlepage"><div><div><h5 class="title">E.58.3.10.2. <a class="xref" href="app-pgdump.html" title="pg_dump"><span class="refentrytitle">pg_dump</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Allow <xref linkend="app-pgrestore"/> options
        <option>-I</option>, <option>-P</option>, <option>-T</option> and <option>-n</option>
        to be specified multiple times (Heikki Linnakangas)
-->
<a class="xref" href="app-pgrestore.html" title="pg_restore"><span class="refentrytitle">pg_restore</span></a>のオプション<code class="option">-I</code>、<code class="option">-P</code>、<code class="option">-T</code>、<code class="option">-n</code>を複数指定できるようにしました。
(Heikki Linnakangas)
       </p><p>
<!--
        This allows multiple objects to be restored in one operation.
-->
これにより一度の操作で複数オブジェクトをリストアできます。
       </p></li><li class="listitem"><p>
<!--
        Optionally add <literal>IF EXISTS</literal> clauses to the <command>DROP</command>
        commands emitted when removing old objects during a restore (Pavel
        Stehule)
-->
古いオブジェクトをリストア時に削除する場合にオプションで<code class="literal">IF EXISTS</code>句を<code class="command">DROP</code>コマンド出力に加えることができます。
(Pavel Stehule)
       </p><p>
<!--
        This change prevents unnecessary errors when removing old objects.
        The new <option>&#045;&#045;if-exists</option> option
        for <xref linkend="app-pgdump"/>, <xref linkend="app-pg-dumpall"/>,
        and <xref linkend="app-pgrestore"/> is only available
        when <option>&#045;&#045;clean</option> is also specified.
-->
本変更は古いオブジェクトを削除する際に不要なエラーがでるのを防ぎます。
新たな<code class="option">--if-exists</code>オプションは、<a class="xref" href="app-pgdump.html" title="pg_dump"><span class="refentrytitle">pg_dump</span></a>、
<a class="xref" href="app-pg-dumpall.html" title="pg_dumpall"><span class="refentrytitle"><span class="application">pg_dumpall</span></span></a>、<a class="xref" href="app-pgrestore.html" title="pg_restore"><span class="refentrytitle">pg_restore</span></a>で
<code class="option">--clean</code>オプションも指定している場合に使用できます。
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.62.5.12.5"><div class="titlepage"><div><div><h5 class="title">E.58.3.10.3. <a class="xref" href="app-pgbasebackup.html" title="pg_basebackup"><span class="refentrytitle">pg_basebackup</span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add <application>pg_basebackup</application> option <option>&#045;&#045;xlogdir</option>
        to specify the <filename>pg_xlog</filename> directory location (Haribabu
        Kommi)
-->
<span class="application">pg_basebackup</span>に<code class="filename">pg_xlog</code>ディレクトリを指定するオプション
<code class="option">--xlogdir</code>を追加しました。
(Haribabu Kommi)
       </p></li><li class="listitem"><p>
<!--
        Allow <application>pg_basebackup</application> to relocate tablespaces in
        the backup copy (Steeve Lennmark)
-->
<span class="application">pg_basebackup</span>でバックアップコピー内のテーブルスペースを
新しい場所に移すことができます。
(Steeve Lennmark)
       </p><p>
<!--
        This is particularly useful for using <application>pg_basebackup</application>
        on the same machine as the primary.
-->
これは特に、プライマリと同マシンで<span class="application">pg_basebackup</span>を使用するときに便利です。
       </p></li><li class="listitem"><p>
<!--
        Allow network-stream base backups to be throttled (Antonin Houska)
-->
ネットワークストリーム経由のベースバックアップ取得を減速できるようにしました。
(Antonin Houska)
       </p><p>
<!--
        This can be controlled with the <application>pg_basebackup</application>
        <option>&#045;&#045;max-rate</option> parameter.
-->
<span class="application">pg_basebackup</span>の<code class="option">--max-rate</code>パラメータで制御できます。
       </p></li></ul></div></div></div><div class="sect3" id="id-1.11.6.62.5.13"><div class="titlepage"><div><div><h4 class="title">E.58.3.11. ソースコード</h4></div></div></div><!--
    <title>Source Code</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Improve the way tuples are frozen to preserve forensic information
        (Robert Haas, Andres Freund)
-->
タプルを調査情報を保持して凍結する方法を改善しました。
(Robert Haas, Andres Freund)
       </p><p>
<!--
        This change removes the main objection to freezing tuples as soon
        as possible.  Code that inspects tuple flag bits will need to be
        modified.
-->
この変更は、タプルをできるだけ早く凍結させることの難点を除去します。
タプルのフラグビットを解析するコードは修正が必要となります。
       </p></li><li class="listitem"><p>
<!--
        No longer require function prototypes for functions marked with the
        <link linkend="xfunc-c"><function>PG_FUNCTION_INFO_V1</function></link>
        macro (Peter Eisentraut)
-->
関数宣言には<a class="link" href="xfunc-c.html" title="38.10. C言語関数"><code class="function">PG_FUNCTION_INFO_V1</code></a>
マクロでの印づけを不要にしました。
(Peter Eisentraut)
       </p><p>
<!--
        This change eliminates the need to write boilerplate prototypes.
        Note that the <function>PG_FUNCTION_INFO_V1</function> macro must appear
        before the corresponding function definition to avoid compiler
        warnings.
-->
本変更は定形的なプロトタイプ記述の必要を除去します。
なお、コンパイラ警告を避けるため、<code class="function">PG_FUNCTION_INFO_V1</code>
マクロは対応する関数定義の手前では必要です。
       </p></li><li class="listitem"><p>
<!--
        Remove <varname>SnapshotNow</varname> and
        <function>HeapTupleSatisfiesNow()</function> (Robert Haas)
-->
<code class="varname">SnapshotNow</code>と<code class="function">HeapTupleSatisfiesNow()</code>を除去しました。
(Robert Haas)
       </p><p>
<!--
        All existing uses have been switched to more appropriate snapshot
        types.  Catalog scans now use <acronym>MVCC</acronym> snapshots.
-->
既存の使用箇所はより適切なスナップショットタイプに切り替えられます。
これからはカタログスキャンに<acronym class="acronym">MVCC</acronym>スナップショットが使われます。
       </p></li><li class="listitem"><p>
<!--
        Add an <acronym>API</acronym> to allow memory allocations over one gigabyte
        (Noah Misch)
-->
1GB以上のメモリ割り当てが可能な<acronym class="acronym">API</acronym>を追加しました。
(Noah Misch)
       </p></li><li class="listitem"><p>
<!--
        Add <function>psprintf()</function> to simplify memory allocation during
        string composition (Peter Eisentraut, Tom Lane)
-->
文字列構成用のメモリ割り当てを簡単にする<code class="function">psprintf()</code>を追加しました。
(Peter Eisentraut, Tom Lane)
       </p></li><li class="listitem"><p>
<!--
        Support <function>printf()</function> size modifier <literal>z</literal> to
        print <type>size_t</type> values (Andres Freund)
-->
<code class="type">size_t</code>値を表示する
<code class="function">printf()</code>のサイズ修飾子<code class="literal">z</code>をサポートしました。
(Andres Freund)
       </p></li><li class="listitem"><p>
<!--
        Change <acronym>API</acronym> of <function>appendStringInfoVA()</function>
        to better use <function>vsnprintf()</function> (David Rowley, Tom Lane)
-->
<code class="function">vsnprintf()</code>をよりよく使用するように
<code class="function">appendStringInfoVA()</code><acronym class="acronym">API</acronym>が変更されました。
(David Rowley, Tom Lane)
       </p></li><li class="listitem"><p>
<!--
        Allow new types of external toast datums to be created (Andres
        Freund)
-->
新たな種類の外部TOASTデータを作成できるようにしました。
(Andres Freund)
       </p></li><li class="listitem"><p>
<!--
        Add single-reader, single-writer, lightweight shared message queue
        (Robert Haas)
-->
単一リーダ、単一ライタの軽量な共有メッセージキューを追加しました。
(Robert Haas)
       </p></li><li class="listitem"><p>
<!--
        Improve spinlock speed on x86_64 <acronym>CPU</acronym>s (Heikki
        Linnakangas)
-->
x86_64 <acronym class="acronym">CPU</acronym>のスピンロックスピードを改善しました。
(Heikki Linnakangas)
       </p></li><li class="listitem"><p>
<!--
        Remove spinlock support for unsupported platforms
        <productname>SINIX</productname>, <productname>Sun3</productname>, and
        <productname>NS32K</productname> (Robert Haas)
-->
サポートされないプラットフォーム<span class="productname">SINIX</span>、<span class="productname">Sun3</span>、<span class="productname">NS32K</span>のスピンロックサポートを除去しました。
(Robert Haas)
       </p></li><li class="listitem"><p>
<!--
        Remove <acronym>IRIX</acronym> port (Robert Haas)
-->
<acronym class="acronym">IRIX</acronym>移植を無くしました。
(Robert Haas)
       </p></li><li class="listitem"><p>
<!--
        Reduce the number of semaphores required by
        <option>&#045;&#045;disable-spinlocks</option> builds (Robert Haas)
-->
<code class="option">--disable-spinlocks</code>指定でビルドしたことによる必要セマフォ数を減らしました。
(Robert Haas)
       </p></li><li class="listitem"><p>
<!--
        Rewrite <application>duplicate_oids</application> Unix shell script in
        <application>Perl</application> (Andrew Dunstan)
-->
<span class="application">duplicate_oids</span>シェルスクリプトを<span class="application">Perl</span>で書き直しました。
(Andrew Dunstan)
       </p></li><li class="listitem"><p>
<!--
        Add Test Anything Protocol (<acronym>TAP</acronym>) tests for client
        programs (Peter Eisentraut)
-->
クライアントプログラムむけにTest Anything Protocol(<acronym class="acronym">TAP</acronym>)のテストを追加しました。
(Peter Eisentraut)
       </p><p>
<!--
        Currently, these tests are run by <literal>make check-world</literal>
        only if the <option>&#045;&#045;enable-tap-tests</option> option was given
        to <application>configure</application>.
        This might become the default behavior in some future release.
-->
現在、これらのテストは<code class="literal">make check-world</code>で
<code class="option">--enable-tap-tests</code>が<span class="application">configure</span>に指定されたときのみ実行されます。
将来の機能リリースでデフォルトの振る舞いになるかもしれません。
       </p></li><li class="listitem"><p>
<!--
        Add make targets <option>check-tests</option> and
        <option>installcheck-tests</option>, which allow selection of individual
        tests to be run (Andrew Dunstan)
-->
makeターゲットに、選択した個々のテストを実行できる<code class="option">check-tests</code>と<code class="option">installcheck-tests</code>を追加しました。(Andrew Dunstan)
       </p></li><li class="listitem"><p>
<!--
        Remove <option>maintainer-check</option> makefile rule (Peter Eisentraut)
-->
makefileルールの<code class="option">maintainer-check</code>を除去しました。
(Peter Eisentraut)
       </p><p>
<!--
        The default build rules now include all the formerly-optional tests.
-->
これからはデフォルトのビルドルールに以前はオプションであったテストが全て含まれます。
       </p></li><li class="listitem"><p>
<!--
        Improve support for <envar>VPATH</envar> builds of <acronym>PGXS</acronym>
        modules  (C&eacute;dric Villemain, Andrew Dunstan, Peter Eisentraut)
-->
<acronym class="acronym">PGXS</acronym>モジュールの<code class="envar">VPATH</code>ビルドのサポートを改善しました。
(Cédric Villemain, Andrew Dunstan, Peter Eisentraut)
       </p></li><li class="listitem"><p>
<!--
        Upgrade to Autoconf 2.69 (Peter Eisentraut)
-->
Autoconf 2.69にアップグレードしました。
(Peter Eisentraut)
       </p></li><li class="listitem"><p>
<!--
        Add a <application>configure</application> flag that appends custom text to the
        <envar>PG_VERSION</envar> string (Oskari Saarenmaa)
-->
<code class="envar">PG_VERSION</code>文字列に任意のカスタム文字列を追加できる<span class="application">configure</span>フラグを追加しました。
(Oskari Saarenmaa)
       </p><p>
<!--
        This is useful for packagers building custom binaries.
-->
パッケージ製作者がカスタムバイナリを作るのに有用です。
       </p></li><li class="listitem"><p>
<!--
        Improve DocBook <acronym>XML</acronym> validity (Peter Eisentraut)
-->
DocBookの<acronym class="acronym">XML</acronym>検証が改善されました。
(Peter Eisentraut)
       </p></li><li class="listitem"><p>
<!--
        Fix various minor security and sanity issues reported by the
        <productname>Coverity</productname> scanner (Stephen Frost)
-->
<span class="productname">Coverity</span>スキャナーで報告された、多様な細かなセキュリティと健全性の問題を修正しました。
(Stephen Frost)
       </p></li><li class="listitem"><p>
<!--
        Improve detection of invalid memory usage when testing
        <productname>PostgreSQL</productname> with <application>Valgrind</application>
        (Noah Misch)
-->
<span class="productname">PostgreSQL</span>を<span class="application">Valgrind</span>でテストしたときの
不正なメモリ利用の検出を改善しました。
(Noah Misch)
       </p></li><li class="listitem"><p>
<!--
        Improve sample <application>Emacs</application> configuration file
        <filename>emacs.samples</filename> (Peter Eisentraut)
-->
サンプル<span class="application">Emacs</span>設定ファイル<code class="filename">emacs.samples</code>を改善しました。
(Peter Eisentraut)
       </p><p>
<!--
        Also add <filename>.dir-locals.el</filename> to the top of the source tree.
-->
また、<code class="filename">.dir-locals.el</code>をソースツリーのトップに加えました。
       </p></li><li class="listitem"><p>
<!--
        Allow <application>pgindent</application> to accept a command-line list
        of typedefs (Bruce Momjian)
-->
<span class="application">pgindent</span>がtypedefsのコマンドラインリストを受け入れるようにしました。
(Bruce Momjian)
       </p></li><li class="listitem"><p>
<!--
        Make <application>pgindent</application> smarter about blank lines
        around preprocessor conditionals (Bruce Momjian)
-->
<span class="application">pgindent</span>を条件プリプロセッサ周辺の空行についてより賢くしました。
(Bruce Momjian)
       </p></li><li class="listitem"><p>
<!--
        Avoid most uses of <command>dlltool</command>
        in <productname>Cygwin</productname> and
        <productname>Mingw</productname> builds (Marco Atzeri, Hiroshi Inoue)
-->
<span class="productname">Cygwin</span>と<span class="productname">Mingw</span>でのビルドで
<code class="command">dlltool</code>をほとんど使用しないようにしました。
(Marco Atzeri, Hiroshi Inoue)
       </p></li><li class="listitem"><p>
<!--
        Support client-only installs in <acronym>MSVC</acronym> (Windows) builds
        (MauMau)
-->
<acronym class="acronym">MSVC</acronym>(Windows)ビルドでクライアントのみインストールをサポートしました。
(MauMau)
       </p></li></ul></div></div><div class="sect3" id="id-1.11.6.62.5.14"><div class="titlepage"><div><div><h4 class="title">E.58.3.12. 追加モジュール</h4></div></div></div><!--
    <title>Additional Modules</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Add <xref linkend="pgprewarm"/> extension to preload relation data
        into the shared buffer cache at server start (Robert Haas)
-->
サーバ起動時にリレーションデータを共有バッファに事前読み込みする<a class="xref" href="pgprewarm.html" title="F.27. pg_prewarm">pg_prewarm</a>拡張を追加しました。
(Robert Haas)
       </p><p>
<!--
        This allows reaching full operating performance more quickly.
-->
これにより素早く完全な運用性能に達することができます。
       </p></li><li class="listitem"><p>
<!--
        Add <acronym>UUID</acronym> random number generator
        <function>gen_random_uuid()</function> to <xref linkend="pgcrypto"/>
        (Oskari Saarenmaa)
-->
<a class="xref" href="pgcrypto.html" title="F.25. pgcrypto">pgcrypto</a>に
<acronym class="acronym">UUID</acronym>乱数を生成をする<code class="function">gen_random_uuid()</code>を追加しました。
(Oskari Saarenmaa)
       </p><p>
<!--
        This allows creation of version 4 <acronym>UUID</acronym>s without
        requiring installation of <xref linkend="uuid-ossp"/>.
-->
<a class="xref" href="uuid-ossp.html" title="F.44. uuid-ossp">uuid-ossp</a>をインストールすることなく、
バージョン 4 <acronym class="acronym">UUID</acronym>が生成可能です。
       </p></li><li class="listitem"><p>
<!--
        Allow <xref linkend="uuid-ossp"/> to work with
        the <systemitem>BSD</systemitem> or <systemitem>e2fsprogs</systemitem> UUID libraries,
        not only the <systemitem>OSSP</systemitem> UUID library (Matteo Beccati)
-->
<a class="xref" href="uuid-ossp.html" title="F.44. uuid-ossp">uuid-ossp</a>が<span class="systemitem">OSSP</span>UUIDライブラリだけでなく、
<span class="systemitem">BSD</span>や<span class="systemitem">e2fsprogs</span>のUUIDライブラリで動作するようにしました。
(Matteo Beccati)
       </p><p>
<!--
        This improves the <application>uuid-ossp</application> module's portability
        since it no longer has to have the increasingly-obsolete OSSP
        library.  The module's name is now rather a misnomer, but we won't
        change it.
-->
この改善は、もはや廃れつつあるOSSPライブラリを必要としないので、
<span class="application">uuid-ossp</span>モジュールの移植性を改善します。
モジュール名は今や不適切ですが変更しないつもりです。
       </p></li><li class="listitem"><p>
<!--
        Add option to <xref linkend="auto-explain"/> to include trigger
        execution time (Horiguchi Kyotaro)
-->
<a class="xref" href="auto-explain.html" title="F.4. auto_explain">auto_explain</a>に実行時間を含めるオプションを追加しました。
(Horiguchi Kyotaro)
       </p></li><li class="listitem"><p>
<!--
        Fix <xref linkend="pgstattuple"/> to not report rows from
        uncommitted transactions as dead (Robert Haas)
-->
コミットされていないトランザクションの行をdeadと報告しないように
<a class="xref" href="pgstattuple.html" title="F.30. pgstattuple">pgstattuple</a>を修正しました。
(Robert Haas)
       </p></li><li class="listitem"><p>
<!--
        Make <xref linkend="pgstattuple"/> functions
        use <type>regclass</type>-type arguments (Satoshi Nagayasu)
-->
<a class="xref" href="pgstattuple.html" title="F.30. pgstattuple">pgstattuple</a>関数が<code class="type">regclass</code>型の引数を使うようにしました。
(Satoshi Nagayasu)
       </p><p>
<!--
        While <type>text</type>-type arguments are still supported, they
        may be removed in a future major release.
-->
しばらくは<code class="type">text</code>型引数も未だサポートしますが、将来のメジャーリリースで除かれるでしょう。
       </p></li><li class="listitem"><p>
<!--
        Improve consistency of <xref linkend="pgrowlocks"/> output to honor
        snapshot rules more consistently (Robert Haas)
-->
スナップショット規則を一貫して尊重して<a class="xref" href="pgrowlocks.html" title="F.28. pgrowlocks">pgrowlocks</a>
出力の一貫性を改善しました。
(Robert Haas)
       </p></li><li class="listitem"><p>
<!--
        Improve <xref linkend="pgtrgm"/>'s choice of trigrams for indexed
        regular expression searches (Alexander Korotkov)
-->
<a class="xref" href="pgtrgm.html" title="F.31. pg_trgm">pg_trgm</a>でインデックス付けされた正規表現検索のためのトライグラム選択を
改善しました。
(Alexander Korotkov)
       </p><p>
<!--
        This change discourages use of trigrams containing whitespace, which
        are usually less selective.
-->
本変更は通常低い選択性である空白文字を含むトライグラムの使用を抑止します。
       </p></li><li class="listitem"><p>
<!--
        Allow <link linkend="pgwaldump"><application>pg_xlogdump</application></link>
        to report a live log stream with <option>&#045;&#045;follow</option>
        (Heikki Linnakangas)
-->
<a class="link" href="pgwaldump.html" title="pg_waldump"><span class="application">pg_xlogdump</span></a>が<code class="option">--follow</code>オプションで活動中のログストリームについて報告できるようにしました。
(Heikki Linnakangas)
       </p></li><li class="listitem"><p>
<!--
        Store <xref linkend="cube"/> data more compactly (Stas Kelvich)
-->
<a class="xref" href="cube.html" title="F.9. cube">cube</a>データをより小さく格納します。
(Stas Kelvich)
       </p><p>
<!--
        Existing data must be dumped/restored to use the new format.
        The old format can still be read.
-->
既存データはダンプ、リストアで新フォーマットにする必要があります。
旧フォーマットも未だ読み取り可能です。
       </p></li><li class="listitem"><p>
<!--
        Reduce <xref linkend="vacuumlo"/> client-side memory usage by using
        a cursor (Andrew Dunstan)
-->
カーソルを使うことで<a class="xref" href="vacuumlo.html" title="vacuumlo"><span class="refentrytitle"><span class="application">vacuumlo</span></span></a>のクライアント側メモリ使用量を減らしました。
(Andrew Dunstan)
       </p></li><li class="listitem"><p>
<!--
        Dramatically reduce memory consumption
        in <xref linkend="pgupgrade"/> (Bruce Momjian)
-->
<a class="xref" href="pgupgrade.html" title="pg_upgrade"><span class="refentrytitle"><span class="application">pg_upgrade</span></span></a>のメモリ使用量を大幅に削減しました。
(Bruce Momjian)
       </p></li><li class="listitem"><p>
<!--
        Pass <xref linkend="pgupgrade"/>'s user name (<option>-U</option>) option to
        generated analyze scripts (Bruce Momjian)
-->
<a class="xref" href="pgupgrade.html" title="pg_upgrade"><span class="refentrytitle"><span class="application">pg_upgrade</span></span></a>でユーザ指定する<code class="option">-U</code>オプションを
生成される解析スクリプトに渡すようにしました。
(Bruce Momjian)
       </p></li></ul></div><div class="sect4" id="id-1.11.6.62.5.14.3"><div class="titlepage"><div><div><h5 class="title">E.58.3.12.1. <a class="xref" href="pgbench.html" title="pgbench"><span class="refentrytitle"><span class="application">pgbench</span></span></a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Remove line length limit for <application>pgbench</application> scripts (Sawada
        Masahiko)
-->
<span class="application">pgbench</span>スクリプトの行の長さ制限をなくしました。
(Sawada Masahiko)
       </p><p>
<!--
        The previous line limit was <envar>BUFSIZ</envar>.
-->
以前は<code class="envar">BUFSIZ</code>が行の長さの上限でした。
       </p></li><li class="listitem"><p>
<!--
        Add long option names to <application>pgbench</application> (Fabien Coelho)
-->
<span class="application">pgbench</span>に長いオプション名を追加しました。
(Fabien Coelho)
       </p></li><li class="listitem"><p>
<!--
        Add <application>pgbench</application> option <option>&#045;&#045;rate</option> to control
        the transaction rate (Fabien Coelho)
-->
<span class="application">pgbench</span>にトランザクション速度を指定する<code class="option">--rate</code>オプションを追加しました。
(Fabien Coelho)
       </p></li><li class="listitem"><p>
<!--
        Add <application>pgbench</application> option <option>&#045;&#045;progress</option> to
        print periodic progress reports
        (Fabien Coelho)
-->
<span class="application">pgbench</span>に定期的に進行報告を表示する<code class="option">--progress</code>オプションを追加しました。
(Fabien Coelho)
       </p></li></ul></div></div><div class="sect4" id="id-1.11.6.62.5.14.4"><div class="titlepage"><div><div><h5 class="title">E.58.3.12.2. <a class="xref" href="pgstatstatements.html" title="F.29. pg_stat_statements">pg_stat_statements</a></h5></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<!--
        Make <application>pg_stat_statements</application> use a file, rather than
        shared memory, for query text storage (Peter Geoghegan)
-->
<span class="application">pg_stat_statements</span>がクエリ文字列の格納のために
共有メモリではなくファイルを使うようにしました。
(Peter Geoghegan)
       </p><p>
<!--
        This removes the previous limitation on query text length, and
        allows a higher number of unique statements to be tracked by default.
-->
これにより、クエリ文字列の長さの制限をなくし、デフォルトでこれまでより
たくさんの異なるステートメントを追跡できるようにしました。
       </p></li><li class="listitem"><p>
<!--
        Allow reporting of <application>pg_stat_statements</application>'s internal
        query hash identifier (Daniel Farina, Sameer Thakur, Peter
        Geoghegan)
-->
<span class="application">pg_stat_statements</span>の内部クエリハッシュ識別子の報告を
できるようにしました。
(Daniel Farina, Sameer Thakur, Peter Geoghegan)
       </p></li><li class="listitem"><p>
<!--
        Add the ability to retrieve all <application>pg_stat_statements</application>
        information except the query text (Peter Geoghegan)
-->
クエリ文字列以外にのすべての情報について<span class="application">pg_stat_statements</span>を
取り出す機能を追加しました。
(Peter Geoghegan)
       </p><p>
<!--
        This allows monitoring tools to fetch query text only for
        just-created entries, improving performance during repeated querying
        of the statistics.
-->
これにより、モニタリングツールが作成されたばかりのエントリをフェッチできるようになり、統計情報のために繰り返すクエリの性能を高めます。
       </p></li><li class="listitem"><p>
<!--
        Make <application>pg_stat_statements</application> ignore <command>DEALLOCATE</command>
        commands (Fabien Coelho)
-->
<span class="application">pg_stat_statements</span>が<code class="command">DEALLOCATE</code>コマンドを
無視するようにしました。
(Fabien Coelho)
       </p><p>
<!--
        It already ignored <command>PREPARE</command>, as well as planning time in
        general, so this seems more consistent.
-->
すでに<code class="command">PREPARE</code>を無視するようになっていますので、より一貫性を高めます。
       </p></li><li class="listitem"><p>
<!--
        Save the statistics file into <filename>$PGDATA/pg_stat</filename> at server
        shutdown, rather than <filename>$PGDATA/global</filename> (Fujii Masao)
-->
サーバシャットダウン時に、統計ファイルを<code class="filename">$PGDATA/global</code>ではなく、<code class="filename">$PGDATA/pg_stat</code>に保存します。
(Fujii Masao)
       </p></li></ul></div></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-9-4-1.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-9-3-25.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">E.57. リリース9.4.1 </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> E.59. リリース9.3.25</td></tr></table></div></body></html>