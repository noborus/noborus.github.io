<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.79. リリース9.3.5</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-9-3-6.html" title="E.78. リリース9.3.6" /><link rel="next" href="release-9-3-4.html" title="E.80. リリース9.3.4" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.1文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 11.1 &#10;                      release-9-3-5.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-9-3-6.html" title="E.78. リリース9.3.6">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.79. リリース9.3.5</td><td width="20%" align="right"> <a accesskey="n" href="release-9-3-4.html" title="E.80. リリース9.3.4">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-9-3-5"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.79. リリース9.3.5</h2></div></div></div><span class="original">
  &lt;title&gt;Release 9.3.5&lt;/title&gt;
</span><p><span class="original">
  &lt;title&gt;Release date:&lt;/title&gt;
</span><strong>リリース日: </strong>2014-07-24</p><p>
<span class="original">
   This release contains a variety of fixes from 9.3.4.
   For information about new features in the 9.3 major release, see
   &lt;xref linkend="release-9-3"/&gt;.
</span>
このリリースは9.3.4に対し、各種不具合を修正したものです。
9.3メジャーリリースにおける新機能については、<a class="xref" href="release-9-3.html" title="E.84. リリース9.3">E.84</a>を参照してください。
  </p><div class="sect2" id="id-1.11.6.83.4"><div class="titlepage"><div><div><h3 class="title">E.79.1. バージョン9.3.5への移行</h3></div></div></div><span class="original">
   &lt;title&gt;Migration to Version 9.3.5&lt;/title&gt;
</span><p>
<span class="original">
    A dump/restore is not required for those running 9.3.X.
</span>
9.3.Xからの移行ではダンプ/リストアは不要です。
   </p><p>
<span class="original">
    However, this release corrects a logic error
    in &lt;application&gt;pg_upgrade&lt;/application&gt;, as well as an index corruption problem in
    some GiST indexes.  See the first two changelog entries below to find out
    whether your installation has been affected and what steps you should take
    if so.
</span>
しかしながら、本リリースでは、<span class="application">pg_upgrade</span>のロジックエラーや、いくつかのGiSTインデックスのインデックス破損問題を修正しています。
下記に示すはじめの2つの変更点を確認し、使用しているインストレーションが影響を受けるか、その場合どのような処置を施すべきか判断してください。
   </p><p>
<span class="original">
    Also, if you are upgrading from a version earlier than 9.3.4,
    see &lt;xref linkend="release-9-3-4"/&gt;.
</span>
また、9.3.4よりも前のリリースからアップグレードする場合は、<a class="xref" href="release-9-3-4.html" title="E.80. リリース9.3.4">E.80</a>を参照して下さい。
   </p></div><div class="sect2" id="id-1.11.6.83.5"><div class="titlepage"><div><div><h3 class="title">E.79.2. 変更点</h3></div></div></div><span class="original">
   &lt;title&gt;Changes&lt;/title&gt;
</span><div class="itemizedlist"><span class="original">
Author: Bruce Momjian &lt;bruce@momjian.us&gt;
Branch: master [0f7482733] 2014-06-24 16:11:06 -0400
Branch: REL9_4_STABLE [dd5369047] 2014-06-24 16:11:06 -0400
Branch: REL9_3_STABLE [cc5841809] 2014-06-24 16:11:06 -0400
</span><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="original">
      In &lt;application&gt;pg_upgrade&lt;/application&gt;, remove &lt;filename&gt;pg_multixact&lt;/filename&gt; files
      left behind by &lt;application&gt;initdb&lt;/application&gt; (Bruce Momjian)
</span>
<span class="application">pg_upgrade</span>において、<span class="application">initdb</span>により残された<code class="filename">pg_multixact</code>ファイルを削除しました。(Bruce Momjian)
     </p><p>
<span class="original">
      If you used a pre-9.3.5 version of &lt;application&gt;pg_upgrade&lt;/application&gt; to
      upgrade a database cluster to 9.3, it might have left behind a file
      &lt;filename&gt;$PGDATA/pg_multixact/offsets/0000&lt;/filename&gt; that should not be
      there and will eventually cause problems in &lt;command&gt;VACUUM&lt;/command&gt;.
      &lt;emphasis&gt;However, in common cases this file is actually valid and
      must not be removed.&lt;/emphasis&gt;
      To determine whether your installation has this problem, run this
      query as superuser, in any database of the cluster:
</span>
9.3.5以前のバージョンの<span class="application">pg_upgrade</span>でデータベースクラスタを9.3にアップグレードした場合、
残るべきではない<code class="filename">$PGDATA/pg_multixact/offsets/0000</code>ファイルが残っており、
これはいずれ<code class="command">VACUUM</code>コマンドで問題を引き起こす原因になっていました。
<span class="emphasis"><em>しかしながら、一般的なケースではこのファイルは実質的に有効であり、削除すべきではありません。</em></span>
この問題があるかどうかは、以下のクエリをスーパーユーザでクラスタのどのデータベースにでも実行することで確認できます。
</p><pre class="programlisting">
WITH list(file) AS (SELECT * FROM pg_ls_dir('pg_multixact/offsets'))
SELECT EXISTS (SELECT * FROM list WHERE file = '0000') AND
       NOT EXISTS (SELECT * FROM list WHERE file = '0001') AND
       NOT EXISTS (SELECT * FROM list WHERE file = 'FFFF') AND
       EXISTS (SELECT * FROM list WHERE file != '0000')
       AS file_0000_removal_required;
</pre><p>
<span class="original">
      If this query returns &lt;literal&gt;t&lt;/literal&gt;, manually remove the file
      &lt;filename&gt;$PGDATA/pg_multixact/offsets/0000&lt;/filename&gt;.
      Do nothing if the query returns &lt;literal&gt;f&lt;/literal&gt;.
</span>
このクエリが<code class="literal">t</code>が返した場合、手動で<code class="filename">$PGDATA/pg_multixact/offsets/0000</code>ファイルを削除してください。
クエリが<code class="literal">f</code>を返した場合は、何もしないでください。
     </p></li><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master Release: REL9_4_BR [540ac7cea] 2014-05-13 15:15:13 +0300
Branch: REL9_3_STABLE [d5b912c90] 2014-05-13 15:27:14 +0300
Branch: REL9_2_STABLE [0d8d0d027] 2014-05-13 15:27:21 +0300
Branch: REL9_1_STABLE [1913d0f28] 2014-05-13 15:27:28 +0300
Branch: REL9_0_STABLE [c87c43f08] 2014-05-13 15:27:36 +0300
Branch: REL8_4_STABLE [e31d77c96] 2014-05-13 15:27:43 +0300
</span><li class="listitem"><p>
<span class="original">
      Correctly initialize padding bytes in &lt;filename&gt;contrib/btree_gist&lt;/filename&gt;
      indexes on &lt;type&gt;bit&lt;/type&gt; columns (Heikki Linnakangas)
</span>
<code class="filename">contrib/btree_gist</code>拡張モジュールにおける<code class="type">bit</code>カラムのインデックスの初期化パディングバイトを修正しました。
(Heikki Linnakangas)
     </p><p>
<span class="original">
      This error could result in incorrect query results due to values that
      should compare equal not being seen as equal.
      Users with GiST indexes on &lt;type&gt;bit&lt;/type&gt; or &lt;type&gt;bit varying&lt;/type&gt;
      columns should &lt;command&gt;REINDEX&lt;/command&gt; those indexes after installing this
      update.
</span>
このエラーは、等価であるべき値を等価と見なさないことが原因で、正しくないクエリー結果を引き起こします。
<code class="type">bit</code>型または<code class="type">bit varying</code>型のカラムにGiSTインデックスを使っている場合、このアップデート適用後に<code class="command">REINDEX</code>が必要です。
     </p></li><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master Release: REL9_4_BR [4f7bb4b2a] 2014-05-08 14:50:22 +0300
Branch: REL9_3_STABLE [34572920c] 2014-05-08 14:43:04 +0300
Branch: REL9_2_STABLE [31633f992] 2014-05-08 14:43:39 +0300
Branch: REL9_1_STABLE [686a7194e] 2014-05-08 14:43:58 +0300
Branch: REL9_0_STABLE [8b4efe1f3] 2014-05-08 14:44:06 +0300
Branch: REL8_4_STABLE [be7830596] 2014-05-08 14:46:43 +0300
</span><li class="listitem"><p>
<span class="original">
      Protect against torn pages when deleting GIN list pages (Heikki
      Linnakangas)
</span>
GINリストページを削除した際、ページを破損から保護します。(Heikki Linnakangas)
     </p><p>
<span class="original">
      This fix prevents possible index corruption if a system crash occurs
      while the page update is being written to disk.
</span>
インデックスのページ更新をディスクへの書き込み中にシステムクラッシュが発生した場合、インデックス破損が起こる可能性を防ぐ修正です。
     </p></li><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master Release: REL9_4_BR [7ca32e255] 2014-04-08 14:51:40 +0300
Branch: REL9_3_STABLE [601c01e08] 2014-04-08 14:51:49 +0300
Branch: REL9_2_STABLE [02b9fd73e] 2014-04-08 14:51:56 +0300
Branch: REL9_1_STABLE [ac0078c1d] 2014-04-08 14:52:01 +0300
Branch: REL9_0_STABLE [d034e9b3b] 2014-04-08 14:52:07 +0300
</span><li class="listitem"><p>
<span class="original">
      Don't clear the right-link of a GiST index page while replaying
      updates from WAL (Heikki Linnakangas)
</span>
WALからの更新を再実行中にGiSTインデックスページのリンク先を削除しません。(Heikki Linnakangas)
     </p><p>
<span class="original">
      This error could lead to transiently wrong answers from GiST index
      scans performed in Hot Standby.
</span>
このエラーはホットスタンバイ中にGiSTインデックススキャンを実施した場合、一時的に間違った回答を引き起こす可能性がありました。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [c170655cc] 2014-06-09 16:31:11 -0400
Branch: REL9_3_STABLE [717c116f1] 2014-06-09 16:31:16 -0400
Branch: REL9_2_STABLE [93328b2df] 2014-06-09 16:30:46 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix corner-case infinite loop during insertion into an SP-GiST text
      index (Tom Lane)
</span>
SP-GiSTテキストインデックスへの挿入中に無限ループに陥る稀なケースを修正しました。(Tom Lane)
     </p></li><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [1264ef31a] 2014-07-16 09:19:06 +0300
Branch: REL9_4_STABLE [9b3ef66af] 2014-07-16 09:20:20 +0300
Branch: REL9_3_STABLE [a4867d041] 2014-07-16 09:20:31 +0300
</span><li class="listitem"><p>
<span class="original">
      Fix incorrect answers from SP-GiST index searches
      with &lt;literal&gt;-|-&lt;/literal&gt; (range adjacency) operator
      (Heikki Linnakangas)
</span>
<code class="literal">-|-</code>（隣接範囲）演算子を使ったSP-GiSTインデックス検索からの応答が間違っているのを修正しました。(Heikki Linnakangas)
     </p></li><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master Release: REL9_4_BR [b0b263baa] 2014-06-09 15:17:23 -0400
Branch: REL9_3_STABLE [167a2535f] 2014-06-09 15:17:23 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix wraparound handling for &lt;filename&gt;pg_multixact/members&lt;/filename&gt;
      (&amp;Aacute;lvaro Herrera)
</span>
<code class="filename">pg_multixact/members</code>での周回データの処理を修正しました。(Álvaro Herrera)
     </p></li><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [f741300c9] 2014-06-27 14:43:53 -0400
Branch: REL9_4_STABLE [56f86bb76] 2014-06-27 14:43:52 -0400
Branch: REL9_3_STABLE [9a28c3752] 2014-06-27 14:43:52 -0400
</span><li class="listitem"><p>
<span class="original">
      Truncate &lt;structname&gt;pg_multixact&lt;/structname&gt; during checkpoints, not
      during &lt;command&gt;VACUUM&lt;/command&gt; (&amp;Aacute;lvaro Herrera)
</span>
<code class="structname">pg_multixact</code>の切り詰めを<code class="command">VACUUM</code>中ではなく、チェックポイント中に行うようにしました。(Álvaro Herrera)
     </p><p>
<span class="original">
      This change ensures that &lt;structname&gt;pg_multixact&lt;/structname&gt; segments can't be
      removed if they'd still be needed during WAL replay after a crash.
</span>
この変更により、クラッシュ後のWALリプレイにおいて、まだ必要とされるかもしれない<code class="structname">pg_multixact</code>セグメントが削除されないことを保証しました。
     </p></li><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master Release: REL9_4_BR [2a8e1ac59] 2014-04-17 17:47:50 +0300
Branch: REL9_3_STABLE [95aa823eb] 2014-04-17 17:47:58 +0300
</span><li class="listitem"><p>
<span class="original">
      Fix possible inconsistency of all-visible flags after WAL recovery
      (Heikki Linnakangas)
</span>
WALリカバリー後にall-visibleフラグが不整合を起こす可能性があったのを修正しました。(Heikki Linnakangas)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [0f928a85e] 2014-05-05 14:43:39 -0400
Branch: REL9_3_STABLE [4f4ef042f] 2014-05-05 14:43:42 -0400
Branch: REL9_2_STABLE [c8fbeeb45] 2014-05-05 14:43:46 -0400
Branch: REL9_1_STABLE [2f4ee3a2f] 2014-05-05 14:43:49 -0400
Branch: REL9_0_STABLE [7d5b68621] 2014-05-05 14:43:52 -0400
Branch: REL8_4_STABLE [3ada1fab8] 2014-05-05 14:43:55 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix possibly-incorrect cache invalidation during nested calls
      to &lt;function&gt;ReceiveSharedInvalidMessages&lt;/function&gt; (Andres Freund)
</span>
<code class="function">ReceiveSharedInvalidMessages</code>関数を入れ子で呼ばれた場合、キャッシュの無効化が正しくない可能性があり、修正しました。(Andres Freund)
     </p></li><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master Release: REL9_4_BR [1a917ae86] 2014-04-24 15:41:55 -0300
Branch: REL9_3_STABLE [c0bd128c8] 2014-04-24 15:41:55 -0300
</span><li class="listitem"><p>
<span class="original">
      Fix race condition when updating a tuple concurrently locked by
      another process (Andres Freund, &amp;Aacute;lvaro Herrera)
</span>
タプル更新の際、他プロセスによって同時にロックされ競合状態が発生するのを修正しました。(Andres Freund, Álvaro Herrera)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: REL9_3_STABLE [a2db7b7d0] 2014-06-26 10:41:59 -0700
Branch: REL9_2_STABLE [0cf16686b] 2014-06-26 10:42:03 -0700
Branch: REL9_1_STABLE [555d0b200] 2014-06-26 10:42:08 -0700
</span><li class="listitem"><p>
<span class="original">
      Fix &lt;quote&gt;could not find pathkey item to sort&lt;/quote&gt; planner failures
      with &lt;literal&gt;UNION ALL&lt;/literal&gt; over subqueries reading from tables with
      inheritance children (Tom Lane)
</span>
継承された子テーブルを読み込む<code class="literal">UNION ALL</code>上のサブクエリによって、
プランナが<span class="quote">「<span class="quote">could not find pathkey item to sort</span>」</span>エラーになる障害を修正しました。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [9e2f2d7a0] 2014-07-08 14:03:56 -0400
Branch: REL9_4_STABLE [ac45aa1dd] 2014-07-08 14:03:45 -0400
Branch: REL9_3_STABLE [6d36aee5b] 2014-07-08 14:03:19 -0400
Branch: REL9_2_STABLE [189bd09cb] 2014-07-08 14:03:23 -0400
Branch: REL9_1_STABLE [fa21a760b] 2014-07-08 14:03:26 -0400
Branch: REL9_0_STABLE [2865d5952] 2014-07-08 14:03:30 -0400
Branch: REL8_4_STABLE [2e7469dc8] 2014-07-08 14:03:32 -0400
</span><li class="listitem"><p>
<span class="original">
      Don't assume a subquery's output is unique if there's a set-returning
      function in its targetlist (David Rowley)
</span>
ターゲットリストに複数行を返す関数がある場合、サブクエリの出力が一意であると決めつけないようにしました。(David Rowley)
     </p><p>
<span class="original">
      This oversight could lead to misoptimization of constructs
      like &lt;literal&gt;WHERE x IN (SELECT y, generate_series(1,10) FROM t GROUP
      BY y)&lt;/literal&gt;.
</span>
この見落としは<code class="literal">WHERE x IN (SELECT y, generate_series(1,10) FROM t GROUP BY y)</code>のような構成で最適化ミスを引き起こす可能性がありました。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [95811032d] 2014-04-29 13:12:46 -0400
Branch: REL9_3_STABLE [150a44e83] 2014-04-29 13:12:29 -0400
Branch: REL9_2_STABLE [0901dbab3] 2014-04-29 13:12:33 -0400
</span><li class="listitem"><p>
<span class="original">
      Improve planner to drop constant-NULL inputs
      of &lt;literal&gt;AND&lt;/literal&gt;/&lt;literal&gt;OR&lt;/literal&gt; when possible (Tom Lane)
</span>
可能であれば<code class="literal">AND</code>/<code class="literal">OR</code>条件の入力から null定数を除去するようにプランナを改善しました。(Tom Lane)
     </p><p>
<span class="original">
      This change fixes some cases where the more aggressive parameter
      substitution done by 9.2 and later can lead to a worse plan than
      older versions produced.
</span>
より積極的にパラメータ置換をすることにより、9.2以上の版において古いバージョンのものより悪いプランになるかもしれなかったのを、この変更で修正しました。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [c7b353959] 2014-04-03 22:02:24 -0400
Branch: REL9_3_STABLE [d359f71ac] 2014-04-03 22:02:27 -0400
</span><li class="listitem"><p>
<span class="original">
      Ensure that the planner sees equivalent &lt;literal&gt;VARIADIC&lt;/literal&gt; and
      non-&lt;literal&gt;VARIADIC&lt;/literal&gt; function calls as equivalent (Tom Lane)
</span>
同等の<code class="literal">VARIADIC</code>型の関数呼び出しと非<code class="literal">VARIADIC</code>型の関数呼び出しを、プランナが同等の物として見なすことを保証しました。(Tom Lane)
     </p><p>
<span class="original">
      This bug could for example result in failure to use expression indexes
      involving variadic functions.  It might be necessary to re-create such
      indexes, and/or re-create views including variadic function calls that
      should match the indexes, for the fix to be effective for existing 9.3
      installations.
</span>
この不具合では、例えば可変引数関数に対して要素インデックスを使うことに失敗する可能性がありました。
このようなインデックスを使うべき可変引数関数においては、インデックス或いはビューの再生成が必要でした。
この修正は既存の9.3がインストールされたシステムでも有効です。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [57d8c1270] 2014-06-24 21:22:40 -0700
Branch: REL9_4_STABLE [a331512de] 2014-06-24 21:22:43 -0700
Branch: REL9_3_STABLE [a1fc36495] 2014-06-24 21:22:47 -0700
</span><li class="listitem"><p>
<span class="original">
      Fix handling of nested &lt;type&gt;JSON&lt;/type&gt; objects
      in &lt;function&gt;json_populate_recordset()&lt;/function&gt; and friends
      (Michael Paquier, Tom Lane)
</span>
<code class="function">json_populate_recordset()</code>とそれに類する関数において、入れ子の<code class="type">JSON</code>オブジェクトの扱いを修正しました。(Michael Paquier, Tom Lane)
     </p><p>
<span class="original">
      A nested &lt;type&gt;JSON&lt;/type&gt; object could result in previous fields of the
      parent object not being shown in the output.
</span>
入れ子の<code class="type">JSON</code>オブジェクトは出力表示ではなく、親オブジェクトの前フィールドの結果であるべきでした。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [0ca6bda8e] 2014-05-09 12:55:31 -0400
Branch: REL9_3_STABLE [13c679995] 2014-05-09 12:55:03 -0400
Branch: REL9_2_STABLE [25c933c5c] 2014-05-09 12:55:06 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix identification of input type category in &lt;function&gt;to_json()&lt;/function&gt;
      and friends (Tom Lane)
</span>
<code class="function">to_json()</code>および関連する関数で、入力型カテゴリの識別を修正しました。(Tom Lane)
     </p><p>
<span class="original">
      This is known to have led to inadequate quoting of &lt;type&gt;money&lt;/type&gt;
      fields in the &lt;type&gt;JSON&lt;/type&gt; result, and there may have been wrong
      results for other data types as well.
</span>
<code class="type">JSON</code>の結果内で<code class="type">money</code>フィールドのクオートが不十分であることが知られており、他のデータタイプでも同様に誤った結果になっていたかもしれません。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [3f8c8e3c6] 2014-05-01 15:19:06 -0400
Branch: REL9_3_STABLE [b72e90bc3] 2014-05-01 15:19:10 -0400
Branch: REL9_2_STABLE [8c43980a1] 2014-05-01 15:19:14 -0400
Branch: REL9_1_STABLE [db1fdc945] 2014-05-01 15:19:17 -0400
Branch: REL9_0_STABLE [7a4f114f3] 2014-05-01 15:19:20 -0400
Branch: REL8_4_STABLE [70debcf09] 2014-05-01 15:19:23 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix failure to detoast fields in composite elements of structured
      types (Tom Lane)
</span>
複合要素の構造体のTOASTフィールド取り出し失敗を修正しました。(Tom Lane)
     </p><p>
<span class="original">
      This corrects cases where TOAST pointers could be copied into other
      tables without being dereferenced.  If the original data is later
      deleted, it would lead to errors like &lt;quote&gt;missing chunk number 0
      for toast value ...&lt;/quote&gt; when the now-dangling pointer is used.
</span>
これは、TOASTポインタが参照している値を得ずに他のテーブルにコピーできたケースの修正です。
オリジナルデータが後から削除された場合、不正な領域を指し示すポインタ(dangling pointer)となってしまい、<span class="quote">「<span class="quote">missing chunk number 0 for toast value ...</span>」</span>のようなエラーを引き起こしていました。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [d68581483] 2014-07-11 19:12:35 -0400
Branch: REL9_4_STABLE [f280eff94] 2014-07-11 19:12:38 -0400
Branch: REL9_3_STABLE [b77e6b959] 2014-07-11 19:12:42 -0400
Branch: REL9_2_STABLE [261f954e7] 2014-07-11 19:12:45 -0400
Branch: REL9_1_STABLE [c45841f9e] 2014-07-11 19:12:48 -0400
Branch: REL9_0_STABLE [cd8ba91a0] 2014-07-11 19:12:51 -0400
Branch: REL8_4_STABLE [a81fbcfb3] 2014-07-11 19:12:56 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix &lt;quote&gt;record type has not been registered&lt;/quote&gt; failures with
      whole-row references to the output of Append plan nodes (Tom Lane)
</span>
Appendプラン出力の行全体を参照することによって、<span class="quote">「<span class="quote">record type has not been registered</span>」</span>エラーとなる問題を修正しました。(Tom Lane)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [04e5025be] 2014-05-07 14:25:11 -0400
Branch: REL9_3_STABLE [fc58c39d4] 2014-05-07 14:25:13 -0400
Branch: REL9_2_STABLE [022b5f2b2] 2014-05-07 14:25:17 -0400
Branch: REL9_1_STABLE [229101db4] 2014-05-07 14:25:22 -0400
Branch: REL9_0_STABLE [7f66ade71] 2014-05-07 14:25:25 -0400
Branch: REL8_4_STABLE [2a527baa3] 2014-05-07 14:25:28 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix possible crash when invoking a user-defined function while
      rewinding a cursor (Tom Lane)
</span>
カーソルを巻き戻している間にユーザ定義関数を呼び出した場合、クラッシュする可能性があり、修正しました。(Tom Lane)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [45b0f3572] 2014-06-19 22:14:26 -0400
Branch: REL9_4_STABLE [1044e79a0] 2014-06-19 22:13:44 -0400
Branch: REL9_3_STABLE [c1f8fb9bf] 2014-06-19 22:13:47 -0400
Branch: REL9_2_STABLE [b568d3836] 2014-06-19 22:13:51 -0400
Branch: REL9_1_STABLE [06d5eacbc] 2014-06-19 22:13:54 -0400
Branch: REL9_0_STABLE [83131e634] 2014-06-19 22:13:58 -0400
Branch: REL8_4_STABLE [d297c91d4] 2014-06-19 22:14:00 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix query-lifespan memory leak while evaluating the arguments for a
      function in &lt;literal&gt;FROM&lt;/literal&gt; (Tom Lane)
</span>
<code class="literal">FROM</code> 句で関数が引数を評価する際のメモリリーク（クエリー処理内限定）を修正しました。(Tom Lane)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [1567e659a] 2014-07-18 13:00:27 -0400
Branch: REL9_4_STABLE [4a66f0f2d] 2014-07-18 13:00:39 -0400
Branch: REL9_3_STABLE [5ef588b22] 2014-07-18 13:00:43 -0400
Branch: REL9_2_STABLE [a223b9e36] 2014-07-18 13:00:48 -0400
Branch: REL9_1_STABLE [8a817785a] 2014-07-18 13:00:52 -0400
Branch: REL9_0_STABLE [b8c24f7ab] 2014-07-18 13:00:57 -0400
Branch: REL8_4_STABLE [e0a233744] 2014-07-18 13:01:04 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix session-lifespan memory leaks in regular-expression processing
      (Tom Lane, Arthur O'Dwyer, Greg Stark)
</span>
正規表現処理中のメモリリーク（セッション内限定）を修正しました。(Tom Lane、Arthur O'Dwyer、Greg Stark)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [fd90b5d57] 2014-06-10 22:48:16 -0400
Branch: REL9_4_STABLE [7f9fbb842] 2014-06-10 22:48:31 -0400
Branch: REL9_3_STABLE [87db9534a] 2014-06-10 22:48:39 -0400
Branch: REL9_2_STABLE [802323535] 2014-06-10 22:48:45 -0400
Branch: REL9_1_STABLE [62f134954] 2014-06-10 22:48:52 -0400
Branch: REL9_0_STABLE [4d5ea4290] 2014-06-10 22:48:59 -0400
Branch: REL8_4_STABLE [f3f40434b] 2014-06-10 22:49:08 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix data encoding error in &lt;filename&gt;hungarian.stop&lt;/filename&gt; (Tom Lane)
</span>
<code class="filename">hungarian.stop</code>のデータエンコーディングエラーを修正しました。(Tom Lane)
     </p></li><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [a87a7dc8b] 2014-06-24 13:27:18 +0300
Branch: REL9_4_STABLE [1818ae0a7] 2014-06-24 13:31:06 +0300
Branch: REL9_3_STABLE [2a7512bc7] 2014-06-24 13:31:00 +0300
Branch: REL9_2_STABLE [1c9f9e888] 2014-06-24 13:30:54 +0300
Branch: REL9_1_STABLE [dd1a5b09b] 2014-06-24 13:30:41 +0300
</span><li class="listitem"><p>
<span class="original">
      Prevent foreign tables from being created with OIDS
      when &lt;xref linkend="guc-default-with-oids"/&gt; is true
      (Etsuro Fujita)
</span>
<a class="xref" href="runtime-config-compatible.html#GUC-DEFAULT-WITH-OIDS">default_with_oids</a>がtrueの場合でも、外部テーブルがOID付で作成される事を防止しました。(Etsuro Fujita)
     </p></li><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master Release: REL9_4_BR [621a99a66] 2014-06-04 21:36:19 +0200
Branch: REL9_3_STABLE [edde59db1] 2014-06-04 23:26:08 +0200
Branch: REL9_2_STABLE [315442c01] 2014-06-04 23:25:52 +0200
Branch: REL9_1_STABLE [6bf6e528a] 2014-06-04 23:26:30 +0200
Branch: REL9_0_STABLE [037c6fb9f] 2014-06-04 23:27:10 +0200
Branch: REL8_4_STABLE [80d45ae4e] 2014-06-04 23:27:38 +0200
</span><li class="listitem"><p>
<span class="original">
      Fix liveness checks for rows that were inserted in the current
      transaction and then deleted by a now-rolled-back subtransaction
      (Andres Freund)
</span>
実行中のトランザクションで行を挿入し、当該行を削除したサブトランザクションがロールバックした場合の、行の有効性チェックを修正しました。(Andres Freund)
     </p><p>
<span class="original">
      This could cause problems (at least spurious warnings, and at worst an
      infinite loop) if &lt;command&gt;CREATE INDEX&lt;/command&gt; or &lt;command&gt;CLUSTER&lt;/command&gt; were
      done later in the same transaction.
</span>
これを行った後、同一トランザクション内で、<code class="command">CREATE INDEX</code>または<code class="command">CLUSTER</code>が実行された場合、
問題（少なくとも誤ったワーニングが出て、最悪の場合、無限ループに陥る）の原因となります。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [d19bd29f0] 2014-04-24 13:29:48 -0400
Branch: REL9_3_STABLE [12e41a5d7] 2014-04-24 13:29:56 -0400
Branch: REL9_2_STABLE [ea9ac7741] 2014-04-24 13:30:00 -0400
Branch: REL9_1_STABLE [70e7be264] 2014-04-24 13:30:04 -0400
Branch: REL9_0_STABLE [b7a3e1173] 2014-04-24 13:30:08 -0400
Branch: REL8_4_STABLE [82fbd88a7] 2014-04-24 13:30:14 -0400
</span><li class="listitem"><p>
<span class="original">
      Clear &lt;structname&gt;pg_stat_activity&lt;/structname&gt;.&lt;structfield&gt;xact_start&lt;/structfield&gt;
      during &lt;command&gt;PREPARE TRANSACTION&lt;/command&gt; (Andres Freund)
</span>
<code class="command">PREPARE TRANSACTION</code>中は、<code class="structname">pg_stat_activity</code>の<code class="structfield">xact_start</code>の値を消去します。(Andres Freund)
     </p><p>
<span class="original">
      After the &lt;command&gt;PREPARE&lt;/command&gt;, the originating session is no longer in
      a transaction, so it should not continue to display a transaction
      start time.
</span>
<code class="command">PREPARE</code>コマンド実行後、トランザクション内に元のセッションは最早存在しないので、トランザクション開始時刻を表示し続けるべきではありません。
     </p></li><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [6bdf4b9c7] 2014-07-15 13:24:07 -0400
Branch: REL9_4_STABLE [e45229bb6] 2014-07-15 13:24:07 -0400
Branch: REL9_3_STABLE [12c5bbdcb] 2014-07-15 13:24:07 -0400
Branch: REL9_2_STABLE [b42f09fc8] 2014-07-15 13:24:07 -0400
Branch: REL9_1_STABLE [a41dc7321] 2014-07-15 13:24:07 -0400
Branch: REL9_0_STABLE [bf08864b8] 2014-07-15 13:24:07 -0400
Branch: REL8_4_STABLE [4b767789d] 2014-07-15 13:24:07 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix &lt;command&gt;REASSIGN OWNED&lt;/command&gt; to not fail for text search objects
      (&amp;Aacute;lvaro Herrera)
</span>
テキスト検索オブジェクトに対する<code class="command">REASSIGN OWNED</code>が失敗しないように修正しました。(Álvaro Herrera)
     </p></li><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [b7e51d9c0] 2014-06-27 14:43:46 -0400
Branch: REL9_4_STABLE [9eecc8a7c] 2014-06-27 14:43:46 -0400
Branch: REL9_3_STABLE [e86cfc4bb] 2014-06-27 14:43:45 -0400
</span><li class="listitem"><p>
<span class="original">
      Prevent &lt;structname&gt;pg_class&lt;/structname&gt;.&lt;structfield&gt;relminmxid&lt;/structfield&gt; values from
      going backwards during &lt;command&gt;VACUUM FULL&lt;/command&gt; (&amp;Aacute;lvaro Herrera)
</span>
<code class="command">VACUUM FULL</code>中に<code class="structname">pg_class</code>の<code class="structfield">relminmxid</code>の値が戻らないようにしました。(Álvaro Herrera)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [41de93c53] 2014-04-30 13:26:26 -0400
Branch: REL9_3_STABLE [0652d77fb] 2014-04-30 13:26:29 -0400
</span><li class="listitem"><p>
<span class="original">
      Reduce indentation in rule/view dumps to improve readability and avoid
      excessive whitespace (Greg Stark, Tom Lane)
</span>
ルールとビューのダンプで読みやすさの向上と過度の空白文字を避けるためにインデントを減らしました。(Greg Stark, Tom Lane)
     </p><p>
<span class="original">
      This change reduces the amount of indentation applied to nested
      constructs, including some cases that the user probably doesn't think
      of as nested, such as UNION lists.  Previously, deeply nested
      constructs were printed with an amount of whitespace growing as
      O(N^2), which created a performance problem and even risk of
      out-of-memory failures.  Now the indentation is reduced modulo 40,
      which is initially odd to look at but seems to preserve readability
      better than simply limiting the indentation would do.
      Redundant parenthesization of UNION lists has been reduced as well.
</span>
この変更は、複数のユニオンのリストのように、恐らくユーザが入れ子だと考えていないケースを含め、入れ子構造に貼り付けられるインデントの総量を減らすものです。
恐らく深い入れ子構造では空白文字の総量はO(N^2)で増加し続け、パフォーマンスの問題やメモリ不足エラーを起こすリスクもありました。
現在、インデントは40の剰余数に減らしています。これは最初は奇妙に見えますが、単純にインデントを制限するよりも可読性を保つことが出来ます。
ユニオンのリストを括弧で括った場合の冗長性も同様に減らされています。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [91e16b980] 2014-05-01 20:22:37 -0400
Branch: REL9_3_STABLE [e31193d49] 2014-05-01 20:22:39 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix dumping of rules/views when subsequent addition of a column has
      resulted in multiple input columns matching a &lt;literal&gt;USING&lt;/literal&gt;
      specification (Tom Lane)
</span>
後から追加されるカラムによって<code class="literal">USING</code>節にマッチする複数の入力カラムがもたらされる場合の、ルールとビューのダンプを修正しました。(Tom Lane)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [9b35ddce9] 2014-07-19 14:28:52 -0400
Branch: REL9_4_STABLE [f0a497e4c] 2014-07-19 14:29:00 -0400
Branch: REL9_3_STABLE [b978ab5f6] 2014-07-19 14:29:05 -0400
</span><li class="listitem"><p>
<span class="original">
      Repair view printing for some cases involving functions
      in &lt;literal&gt;FROM&lt;/literal&gt; that return a composite type containing dropped
      columns (Tom Lane)
</span>
削除された列を含んだ複合型の値を返す<code class="literal">FROM</code>句を持つ関数のビュー出力を修正しました。(Tom Lane)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [5d8117e1f] 2014-04-05 18:16:08 -0400
Branch: REL9_3_STABLE [21aa47d01] 2014-04-05 18:16:11 -0400
Branch: REL9_2_STABLE [53463e247] 2014-04-05 18:16:14 -0400
Branch: REL9_1_STABLE [093d3da1d] 2014-04-05 18:16:17 -0400
Branch: REL9_0_STABLE [5c26ab659] 2014-04-05 18:16:20 -0400
Branch: REL8_4_STABLE [969735cf1] 2014-04-05 18:16:24 -0400
</span><li class="listitem"><p>
<span class="original">
      Block signals during postmaster startup (Tom Lane)
</span>
postmaster起動中はシグナルをブロックします。(Tom Lane)
     </p><p>
<span class="original">
      This ensures that the postmaster will properly clean up after itself
      if, for example, it receives &lt;systemitem&gt;SIGINT&lt;/systemitem&gt; while still
      starting up.
</span>
これにより、例えば起動途中に<span class="systemitem">SIGINT</span>を受け取っても、postmasterは適切に後片付けを行う事ができるようになります。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [fc752505a] 2014-04-02 17:11:24 -0400
Branch: REL9_3_STABLE [65183fb78] 2014-04-02 17:11:27 -0400
Branch: REL9_2_STABLE [029decfec] 2014-04-02 17:11:31 -0400
Branch: REL9_1_STABLE [b7a424371] 2014-04-02 17:11:34 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix client host name lookup when processing &lt;filename&gt;pg_hba.conf&lt;/filename&gt;
      entries that specify host names instead of IP addresses (Tom Lane)
</span>
IPアドレスの代わりにホスト名が<code class="filename">pg_hba.conf</code>に定義されている場合、クライアントのホスト名検索処理を修正しました。(Tom Lane)
     </p><p>
<span class="original">
      Ensure that reverse-DNS lookup failures are reported, instead of just
      silently not matching such entries.  Also ensure that we make only
      one reverse-DNS lookup attempt per connection, not one per host name
      entry, which is what previously happened if the lookup attempts failed.
</span>
DNSの逆引き検索に失敗した場合、エントリーがマッチしない事を黙認せず報告することを保証しました。
また、DNS逆引き検索に失敗した場合に発生していた、ホスト名エントリー毎でなく、コネクション毎に検索する事を保証しました。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [b203c57bb] 2014-04-04 22:03:35 -0400
Branch: REL9_3_STABLE [7d1a0f585] 2014-04-04 22:03:38 -0400
Branch: REL9_2_STABLE [6d25eb314] 2014-04-04 22:03:42 -0400
</span><li class="listitem"><p>
<span class="original">
      Allow the root user to use &lt;literal&gt;postgres -C variable&lt;/literal&gt; and
      &lt;literal&gt;postgres &amp;#045;-describe-config&lt;/literal&gt; (MauMau)
</span>
rootユーザでも <code class="literal">postgres -C 変数</code>および<code class="literal">postgres --describe-config</code>を使うことができるようにしました。(MauMau)
     </p><p>
<span class="original">
      The prohibition on starting the server as root does not need to extend
      to these operations, and relaxing it prevents failure
      of &lt;application&gt;pg_ctl&lt;/application&gt; in some scenarios.
</span>
これらの操作はルートでのサーバ起動禁止に必要では無く、制限を緩和することによって<span class="application">pg_ctl</span>が失敗する幾つかのシナリオを回避できます。
     </p></li><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [be76a6d39] 2014-06-14 09:41:13 -0400
Branch: REL9_4_STABLE [6583a75b2] 2014-06-14 09:41:16 -0400
Branch: REL9_3_STABLE [1442b426e] 2014-06-14 09:41:17 -0400
Branch: REL9_2_STABLE [453a5d91d] 2014-06-14 09:41:17 -0400
Branch: REL9_1_STABLE [481831b43] 2014-06-14 09:41:18 -0400
Branch: REL9_0_STABLE [5f09c583c] 2014-06-14 09:41:18 -0400
Branch: REL8_4_STABLE [95cefd30e] 2014-06-14 09:41:18 -0400
</span><li class="listitem"><p>
<span class="original">
      Secure Unix-domain sockets of temporary postmasters started during
      &lt;literal&gt;make check&lt;/literal&gt; (Noah Misch)
</span>
<code class="literal">make check</code>で一時的に起動されたpostmasterのUNIXドメインソケットを保護します。(Noah Misch)
     </p><p>
<span class="original">
      Any local user able to access the socket file could connect as the
      server's bootstrap superuser, then proceed to execute arbitrary code as
      the operating-system user running the test, as we previously noted in
      CVE-2014-0067.  This change defends against that risk by placing the
      server's socket in a temporary, mode 0700 subdirectory
      of &lt;filename&gt;/tmp&lt;/filename&gt;.  The hazard remains however on platforms where
      Unix sockets are not supported, notably Windows, because then the
      temporary postmaster must accept local TCP connections.
</span>
ローカルユーザはサーバのブートストラップスーパーユーザとしてソケットファイルにアクセス出来、接続可能でした。
そのため、任意のコードをテストを実行しているオペレーティングシステムのユーザとして実行可能でした。
これは既にCVE-2014-0067の中で指摘されていました。
この変更では、サーバのソケットを一時ファイルシステム<code class="filename">/tmp</code>配下のモード0700のサブディレクトリに配置することで、リスクを防御します。
UNIXソケットがサポートされていないプラットフォーム、特にWindowsでは一時postmasterがローカルTCP接続を必要とするため、この危険性は残ります。
     </p><p>
<span class="original">
      A useful side effect of this change is to simplify
      &lt;literal&gt;make check&lt;/literal&gt; testing in builds that
      override &lt;literal&gt;DEFAULT_PGSOCKET_DIR&lt;/literal&gt;.  Popular non-default values
      like &lt;filename&gt;/var/run/postgresql&lt;/filename&gt; are often not writable by the
      build user, requiring workarounds that will no longer be necessary.
</span>
この変更の有益な影響は、<code class="literal">DEFAULT_PGSOCKET_DIR</code>を上書きするビルドの<code class="literal">make check</code> テストが簡単になることです。
よく使われるデフォルトではない<code class="filename">/var/run/postgresql</code>のようなファイルには、
ビルドユーザに書き込み権限がないために必要とされる回避策が、今後必要とされなくなります。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [abe075dff] 2014-04-04 23:09:35 -0400
Branch: REL9_3_STABLE [84520f91c] 2014-04-04 23:09:38 -0400
Branch: REL9_2_STABLE [1a496a12b] 2014-04-04 23:09:41 -0400
Branch: REL9_1_STABLE [af7738fe6] 2014-04-04 23:09:45 -0400
Branch: REL9_0_STABLE [634056567] 2014-04-04 23:09:49 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix tablespace creation WAL replay to work on Windows (MauMau)
</span>
テーブルスペース作成のWALリプレイをWindowsで動作するように修正しました。(MauMau)
     </p></li><span class="original">
Author: Bruce Momjian &lt;bruce@momjian.us&gt;
Branch: master Release: REL9_4_BR [418093465] 2014-04-16 10:45:48 -0400
Branch: REL9_3_STABLE [f716c3250] 2014-04-16 10:45:48 -0400
Branch: REL9_2_STABLE [966f015b6] 2014-04-16 10:45:48 -0400
Branch: REL9_1_STABLE [bed499ed1] 2014-04-16 10:45:48 -0400
Branch: REL9_0_STABLE [a86b2daff] 2014-04-16 10:45:48 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix detection of socket creation failures on Windows (Bruce Momjian)
</span>
Windowsでソケット生成失敗の判定処理を修正しました。(Bruce Momjian)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [6862ca697] 2014-04-05 12:41:25 -0400
Branch: REL9_3_STABLE [18db2150c] 2014-04-05 12:41:28 -0400
Branch: REL9_2_STABLE [bdc3e95c2] 2014-04-05 12:41:31 -0400
Branch: REL9_1_STABLE [cb11f4d8d] 2014-04-05 12:41:34 -0400
Branch: REL9_0_STABLE [9500d8f89] 2014-04-05 12:41:38 -0400
Branch: REL8_4_STABLE [30e434bdf] 2014-04-05 12:41:40 -0400
</span><li class="listitem"><p>
<span class="original">
      On Windows, allow new sessions to absorb values of PGC_BACKEND
      parameters (such as &lt;xref linkend="guc-log-connections"/&gt;) from the
      configuration file (Amit Kapila)
</span>
Windowsで、設定ファイルから(<a class="xref" href="runtime-config-logging.html#GUC-LOG-CONNECTIONS">log_connections</a>のような)PGC_BACKENDパラメータ値を、新しい接続への適用を許可します。(Amit Kapila)
     </p><p>
<span class="original">
      Previously, if such a parameter were changed in the file post-startup,
      the change would have no effect.
</span>
以前は、起動後にファイルのパラメータを変更しても反映されませんでした。
     </p></li><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master Release: REL9_4_BR [503de5462] 2014-04-30 10:35:52 +0300
Branch: REL9_3_STABLE [8a90a39b4] 2014-04-30 10:35:46 +0300
Branch: REL9_2_STABLE [e2558e016] 2014-04-30 10:36:31 +0300
Branch: REL9_1_STABLE [94095e341] 2014-04-30 10:36:41 +0300
Branch: REL9_0_STABLE [c06b7219a] 2014-04-30 10:38:32 +0300
Branch: REL8_4_STABLE [e3f273ff6] 2014-04-30 10:39:03 +0300
</span><li class="listitem"><p>
<span class="original">
      Properly quote executable path names on Windows (Nikhil Deshpande)
</span>
Windowsの実行パス名を適切にクオートします。(Nikhil Deshpande)
     </p><p>
<span class="original">
      This oversight could cause &lt;application&gt;initdb&lt;/application&gt;
      and &lt;application&gt;pg_upgrade&lt;/application&gt; to fail on Windows, if the installation
      path contained both spaces and &lt;literal&gt;@&lt;/literal&gt; signs.
</span>
この見落としは、インストールパスにスペースと<code class="literal">@</code>が両方含まれる場合、
Windowsで<span class="application">initdb</span>や<span class="application">pg_upgrade</span>がエラーになる原因となっていました。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [20561acf9] 2014-05-30 18:19:06 -0400
Branch: REL9_3_STABLE [4f5f4da79] 2014-05-30 18:19:14 -0400
Branch: REL9_2_STABLE [83ed4598b] 2014-05-30 18:18:20 -0400
Branch: REL9_1_STABLE [a784a39c4] 2014-05-30 18:18:24 -0400
Branch: REL9_0_STABLE [4f725bbc4] 2014-05-30 18:18:28 -0400
Branch: REL8_4_STABLE [ae41bb4be] 2014-05-30 18:18:32 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix linking of &lt;application&gt;libpython&lt;/application&gt; on macOS (Tom Lane)
</span>
macOSで<span class="application">libpython</span>のリンクを修正しました。(Tom Lane)
     </p><p>
<span class="original">
      The method we previously used can fail with the Python library
      supplied by Xcode 5.0 and later.
</span>
これまでの方式では、Xcode 5.0とそれ以降で提供されているPythonライブラリでエラーになります。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [2f557167b] 2014-05-07 21:39:13 -0400
Branch: REL9_3_STABLE [b4f9c93ce] 2014-05-07 21:38:38 -0400
Branch: REL9_2_STABLE [f7672c8ce] 2014-05-07 21:38:41 -0400
Branch: REL9_1_STABLE [86888054a] 2014-05-07 21:38:44 -0400
Branch: REL9_0_STABLE [77e662827] 2014-05-07 21:38:47 -0400
Branch: REL8_4_STABLE [664ac3de7] 2014-05-07 21:38:50 -0400
</span><li class="listitem"><p>
<span class="original">
      Avoid buffer bloat in &lt;application&gt;libpq&lt;/application&gt; when the server
      consistently sends data faster than the client can absorb it
      (Shin-ichi Morita, Tom Lane)
</span>
クライアントが取り込むよりも速くサーバがデータを送り続けた場合、<span class="application">libpq</span> のバッファが肥大化することを回避しました。(Shin-ichi Morita、Tom Lane)
     </p><p>
<span class="original">
      &lt;application&gt;libpq&lt;/application&gt; could be coerced into enlarging its input buffer
      until it runs out of memory (which would be reported misleadingly
      as &lt;quote&gt;lost synchronization with server&lt;/quote&gt;).  Under ordinary
      circumstances it's quite far-fetched that data could be continuously
      transmitted more quickly than the &lt;function&gt;recv()&lt;/function&gt; loop can
      absorb it, but this has been observed when the client is artificially
      slowed by scheduler constraints.
</span>
<span class="application">libpq</span>はOut of Memoryになるまで入力バッファの拡張を強要していた可能性がありました
（<span class="quote">「<span class="quote">lost synchronization with server</span>」</span>の報告は誤解を招いたかもしれません）。
一般的な環境下では、<code class="function">recv()</code> ループが取り込むよりもずっと早くデータが送られ続けるというのは、かなりこじつけで、
クライアントが人為的にスケジューラによる制約で遅くなっている場合に観測されているくらいです。
     </p></li><span class="original">
Author: Magnus Hagander &lt;magnus@hagander.net&gt;
Branch: master Release: REL9_4_BR [585bca393] 2014-04-16 18:58:10 +0200
Branch: REL9_3_STABLE [cc269272c] 2014-04-16 18:58:55 +0200
Branch: REL9_2_STABLE [b764080ee] 2014-04-16 18:59:11 +0200
Branch: REL9_1_STABLE [c4bf15b9c] 2014-04-16 18:59:28 +0200
Branch: REL9_0_STABLE [96752b02d] 2014-04-16 18:59:37 +0200
Branch: REL8_4_STABLE [b4ae2e37d] 2014-04-16 18:59:48 +0200
</span><li class="listitem"><p>
<span class="original">
      Ensure that LDAP lookup attempts in &lt;application&gt;libpq&lt;/application&gt; time out as
      intended (Laurenz Albe)
</span>
<span class="application">libpq</span>のLDAP照会で、意図した通りのタイムアウトを保証しました。(Laurenz Albe)
     </p></li><span class="original">
Author: Michael Meskes &lt;meskes@postgresql.org&gt;
Branch: master Release: REL9_4_BR [8d6a07fa0] 2014-05-06 13:09:51 +0200
Branch: REL9_3_STABLE [b4eeb9d58] 2014-05-06 13:04:30 +0200
Branch: REL9_2_STABLE [3a024c110] 2014-05-06 13:14:01 +0200
Branch: REL9_1_STABLE [fb66e88cf] 2014-05-06 13:20:22 +0200
Branch: REL9_0_STABLE [91c8c106f] 2014-05-06 13:24:13 +0200

Author: Michael Meskes &lt;meskes@postgresql.org&gt;
Branch: master Release: REL9_4_BR [f91796853] 2014-04-09 11:23:38 +0200
Branch: REL9_3_STABLE [3b8fda676] 2014-04-09 11:38:40 +0200
Branch: REL9_2_STABLE [2b3136de9] 2014-04-09 11:43:13 +0200
Branch: REL9_1_STABLE [0de106836] 2014-04-09 12:04:33 +0200
Branch: REL9_0_STABLE [0c2eb989e] 2014-04-09 12:12:32 +0200
</span><li class="listitem"><p>
<span class="original">
      Fix &lt;application&gt;ecpg&lt;/application&gt; to do the right thing when an array
      of &lt;type&gt;char *&lt;/type&gt; is the target for a FETCH statement returning more
      than one row, as well as some other array-handling fixes
      (Ashutosh Bapat)
</span>
<code class="type">char ポインタ</code>の配列を複数行返すFETCHステートメントがターゲットの場合、<span class="application">ecpg</span>が正しく動作するように修正しました。また、その他の配列操作も修正しました。(Ashutosh Bapat)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [62215de29] 2014-03-29 17:34:00 -0400
Branch: REL9_3_STABLE [3080bbaa9] 2014-03-29 17:34:03 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix &lt;application&gt;pg_dump&lt;/application&gt; to cope with a materialized view that
      depends on a table's primary key (Tom Lane)
</span>
テーブルの主キーに依存したマテリアライズドビューに対応するため、<span class="application">pg_dump</span>を修正しました。(Tom Lane)
     </p><p>
<span class="original">
      This occurs if the view's query relies on functional dependency to
      abbreviate a &lt;literal&gt;GROUP BY&lt;/literal&gt; list.  &lt;application&gt;pg_dump&lt;/application&gt; got
      sufficiently confused that it dumped the materialized view as a
      regular view.
</span>
これはビューのクエリーが<code class="literal">GROUP BY</code>でリストを纏める機能を利用している場合に発生します。
<span class="application">pg_dump</span>はそれらを混同してしまい、マテリアライズドビューを通常のビューとしてダンプしていました。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [19f2d6cda] 2014-03-18 10:38:25 -0400
Branch: REL9_3_STABLE [63817f86b] 2014-03-18 10:38:38 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix parsing of &lt;application&gt;pg_dumpall&lt;/application&gt;'s &lt;option&gt;-i&lt;/option&gt; switch
      (Tom Lane)
</span>
<span class="application">pg_dumpall</span>の<code class="option">-i</code>オプションのパースを修正しました。(Tom Lane)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [c81e63d85] 2014-06-12 20:14:32 -0400
Branch: REL9_4_STABLE [c3c1401ca] 2014-06-12 20:14:36 -0400
Branch: REL9_3_STABLE [a11577f47] 2014-06-12 20:14:39 -0400
Branch: REL9_2_STABLE [ce7fc4fbb] 2014-06-12 20:14:46 -0400
Branch: REL9_1_STABLE [294a48985] 2014-06-12 20:14:49 -0400
Branch: REL9_0_STABLE [3fec825f9] 2014-06-12 20:14:52 -0400
Branch: REL8_4_STABLE [6adddac8a] 2014-06-12 20:14:55 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix &lt;application&gt;pg_restore&lt;/application&gt;'s processing of old-style large object
      comments (Tom Lane)
</span>
<span class="application">pg_restore</span>の、古いスタイルのラージオブジェクトのコメント処理を修正しました。(Tom Lane)
     </p><p>
<span class="original">
      A direct-to-database restore from an archive file generated by a
      pre-9.0 version of &lt;application&gt;pg_dump&lt;/application&gt; would usually fail if the
      archive contained more than a few comments for large objects.
</span>
9.0までのバージョンの<span class="application">pg_dump</span>で生成したアーカイブファイルで、ラージオブジェクトに数件以上のコメントが含まれている場合、
アーカイブファイルを直接データベースにリストアすると失敗していました。
     </p></li><span class="original">
Author: Bruce Momjian &lt;bruce@momjian.us&gt;
Branch: master [3088cc370] 2014-07-07 13:24:08 -0400
Branch: REL9_4_STABLE [f64fe2cbe] 2014-07-07 13:24:08 -0400
Branch: REL9_3_STABLE [f1d7ff5bb] 2014-07-07 13:24:08 -0400
Branch: REL9_2_STABLE [759c9fb63] 2014-07-07 13:24:08 -0400
</span><li class="listitem"><p>
<span class="original">
      Fix &lt;application&gt;pg_upgrade&lt;/application&gt; for cases where the new server creates
      a TOAST table but the old version did not (Bruce Momjian)
</span>
新しいサーバではTOASTテーブルを作るが古いバージョンでは作らないケースについて<span class="application">pg_upgrade</span>を修正しました。(Bruce Momjian)
     </p><p>
<span class="original">
      This rare situation would manifest as &lt;quote&gt;relation OID mismatch&lt;/quote&gt;
      errors.
</span>
この稀な状況により<span class="quote">「<span class="quote">relation OID mismatch</span>」</span>エラーを引き起こす可能性がありました。
     </p></li><span class="original">
Author: Bruce Momjian &lt;bruce@momjian.us&gt;
Branch: master [a61daa14d] 2014-07-02 15:29:38 -0400
Branch: REL9_4_STABLE [b446a384b] 2014-07-02 15:29:38 -0400
Branch: REL9_3_STABLE [3d2e18510] 2014-07-02 15:29:38 -0400

Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [78db307bb] 2014-07-21 11:41:53 -0400
Branch: REL9_4_STABLE [d122387d7] 2014-07-21 11:42:00 -0400
Branch: REL9_3_STABLE [e7984cca0] 2014-07-21 11:42:05 -0400
</span><li class="listitem"><p>
<span class="original">
      In &lt;application&gt;pg_upgrade&lt;/application&gt;,
      preserve &lt;structname&gt;pg_database&lt;/structname&gt;.&lt;structfield&gt;datminmxid&lt;/structfield&gt;
      and &lt;structname&gt;pg_class&lt;/structname&gt;.&lt;structfield&gt;relminmxid&lt;/structfield&gt; values from the
      old cluster, or insert reasonable values when upgrading from pre-9.3;
      also defend against unreasonable values in the core server
      (Bruce Momjian, &amp;Aacute;lvaro Herrera, Tom Lane)
</span>
<span class="application">pg_upgrade</span>で<code class="structname">pg_database</code>.<code class="structfield">datminmxid</code>と
<code class="structname">pg_class</code>.<code class="structfield">relminmxid</code>の古いバージョンの値を保持するか、9.3以前からのアップグレード時に適切な値を代入します。
また、コアサーバの不適切な値を防ぎます。(Bruce Momjian, Álvaro Herrera, Tom Lane)
     </p><p>
<span class="original">
      These changes prevent scenarios in which autovacuum might insist on
      scanning the entire cluster's contents immediately upon starting the
      new cluster, or in which tracking of unfrozen MXID values might be
      disabled completely.
</span>
これらの変更は、新しいデータベースサーバ起動時にオートバキュームが直ちにクラスタの全内容をスキャンを要求する、
或いは固定されていないマルチトランザクションID(MXID）の追跡が完全に出来なくなるシナリオを防ぎます。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [e416830a2] 2014-05-20 12:20:47 -0400
Branch: REL9_3_STABLE [0266a9c78] 2014-05-20 12:20:52 -0400
Branch: REL9_2_STABLE [31f579f09] 2014-05-20 12:20:57 -0400
</span><li class="listitem"><p>
<span class="original">
      Prevent &lt;filename&gt;contrib/auto_explain&lt;/filename&gt; from changing the output of
      a user's &lt;command&gt;EXPLAIN&lt;/command&gt; (Tom Lane)
</span>
<code class="filename">contrib/auto_explain</code>によってユーザの<code class="command">EXPLAIN</code>の出力が変化するのを防ぎました。(Tom Lane)
     </p><p>
<span class="original">
      If &lt;filename&gt;auto_explain&lt;/filename&gt; is active, it could cause
      an &lt;literal&gt;EXPLAIN (ANALYZE, TIMING OFF)&lt;/literal&gt; command to nonetheless
      print timing information.
</span>
<code class="filename">auto_explain</code>が有効な場合、<code class="literal">EXPLAIN (ANALYZE, TIMING OFF)</code>コマンドを実行してもタイミング情報が出力される可能性がありました。
     </p></li><span class="original">
Author: Joe Conway &lt;mail@joeconway.com&gt;
Branch: master [1dde5782e] 2014-06-20 12:24:59 -0700
Branch: REL9_4_STABLE [9d884a34c] 2014-06-20 12:26:26 -0700
Branch: REL9_3_STABLE [b3a3f3d2f] 2014-06-20 12:26:43 -0700
Branch: REL9_2_STABLE [3e2cfa42f] 2014-06-20 12:27:04 -0700
</span><li class="listitem"><p>
<span class="original">
      Fix query-lifespan memory leak in &lt;filename&gt;contrib/dblink&lt;/filename&gt;
      (MauMau, Joe Conway)
</span>
<code class="filename">contrib/dblink</code>のクエリー実行範囲内でのメモリリークを修正しました。(MauMau, Joe Conway)
     </p></li><span class="original">
Author: Bruce Momjian &lt;bruce@momjian.us&gt;
Branch: master Release: REL9_4_BR [9fe55259f] 2014-04-17 12:37:53 -0400
Branch: REL9_3_STABLE [fc72e94a1] 2014-04-17 12:37:53 -0400
Branch: REL9_2_STABLE [ea8725a8b] 2014-04-17 12:37:53 -0400
Branch: REL9_1_STABLE [fc02b87e2] 2014-04-17 12:37:53 -0400
Branch: REL9_0_STABLE [a1b9c4630] 2014-04-17 12:37:53 -0400
Branch: REL8_4_STABLE [df2e62603] 2014-04-17 12:37:53 -0400
</span><li class="listitem"><p>
<span class="original">
      In &lt;filename&gt;contrib/pgcrypto&lt;/filename&gt; functions, ensure sensitive
      information is cleared from stack variables before returning
      (Marko Kreen)
</span>
<code class="filename">contrib/pgcrypto</code>関数で、処理が戻る前にスタック変数から機密情報を削除する事を保証します。(Marko Kreen)
     </p></li><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [9d0826c59] 2014-06-30 16:59:19 -0400
Branch: REL9_4_STABLE [37a4d3d70] 2014-06-30 16:59:44 -0400
Branch: REL9_3_STABLE [f14e40852] 2014-06-30 17:00:22 -0400
Branch: REL9_2_STABLE [f6d6b7b1e] 2014-06-30 17:00:40 -0400
</span><li class="listitem"><p>
<span class="original">
      Prevent use of already-freed memory in
      &lt;filename&gt;contrib/pgstattuple&lt;/filename&gt;'s &lt;function&gt;pgstat_heap()&lt;/function&gt;
      (Noah Misch)
</span>
<code class="filename">contrib/pgstattuple</code>の<code class="function">pgstat_heap()</code>が解放済メモリを使わないようにしました。(Noah Misch)
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL9_4_BR [c941aed96] 2014-05-29 13:51:02 -0400
Branch: REL9_3_STABLE [961dd203a] 2014-05-29 13:51:05 -0400
Branch: REL9_2_STABLE [2fb9fb661] 2014-05-29 13:51:09 -0400
Branch: REL9_1_STABLE [3606754da] 2014-05-29 13:51:12 -0400
Branch: REL9_0_STABLE [b2f6754d2] 2014-05-29 13:51:15 -0400
Branch: REL8_4_STABLE [fd785441f] 2014-05-29 13:51:18 -0400
</span><li class="listitem"><p>
<span class="original">
      In &lt;filename&gt;contrib/uuid-ossp&lt;/filename&gt;, cache the state of the OSSP UUID
      library across calls (Tom Lane)
</span>
<code class="filename">contrib/uuid-ossp</code>モジュールで、呼び出し間でOSSP UUIDライブラリの状態をキャッシュします。(Tom Lane)
     </p><p>
<span class="original">
      This improves the efficiency of UUID generation and reduces the amount
      of entropy drawn from &lt;filename&gt;/dev/urandom&lt;/filename&gt;, on platforms that
      have that.
</span>
この改善はUUID生成の効率を上げ、<code class="filename">/dev/urandom</code>から取り出すエントロピー量を減らします。
     </p></li><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [b1864fabf] 2014-07-19 15:00:50 -0400
Branch: REL9_4_STABLE [e5ea60e80] 2014-07-19 15:01:05 -0400
Branch: REL9_3_STABLE [bd5458f52] 2014-07-19 15:01:12 -0400
Branch: REL9_2_STABLE [7d09e4854] 2014-07-19 15:01:18 -0400
Branch: REL9_1_STABLE [40ccb6530] 2014-07-19 15:01:28 -0400
Branch: REL9_0_STABLE [7659b6913] 2014-07-19 15:01:38 -0400
Branch: REL8_4_STABLE [c51da696b] 2014-07-19 15:01:45 -0400
</span><li class="listitem"><p>
<span class="original">
      Update time zone data files to &lt;application&gt;tzdata&lt;/application&gt; release 2014e
      for DST law changes in Crimea, Egypt, and Morocco.
</span>
タイムゾーンデータファイルを<span class="application">tzdata</span>リリース2014eに更新しました。
クリミア、エジプト、モロッコでの夏時間の変更が含まれます。
     </p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-9-3-6.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-9-3-4.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">E.78. リリース9.3.6 </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> E.80. リリース9.3.4</td></tr></table></div></body></html>