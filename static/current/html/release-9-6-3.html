<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.18. リリース9.6.3</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-9-6-4.html" title="E.17. リリース9.6.4" /><link rel="next" href="release-9-6-2.html" title="E.19. リリース9.6.2" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.1文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 11.1 &#10;                      release-9-6-3.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-9-6-4.html" title="E.17. リリース9.6.4">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.18. リリース9.6.3</td><td width="20%" align="right"> <a accesskey="n" href="release-9-6-2.html" title="E.19. リリース9.6.2">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-9-6-3"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.18. リリース9.6.3</h2></div></div></div><span class="original">
  &lt;title&gt;Release 9.6.3&lt;/title&gt;
</span><p><span class="original">
  &lt;title&gt;Release date:&lt;/title&gt;
</span><strong>リリース日: </strong>2017-05-11</p><p>
<span class="original">
   This release contains a variety of fixes from 9.6.2.
   For information about new features in the 9.6 major release, see
   &lt;xref linkend="release-9-6"/&gt;.
</span>
このリリースは9.6.2に対し、各種不具合を修正したものです。
9.6メジャーリリースにおける新機能については、<a class="xref" href="release-9-6.html" title="E.21. リリース9.6">E.21</a>
を参照してください。
  </p><div class="sect2" id="id-1.11.6.22.4"><div class="titlepage"><div><div><h3 class="title">E.18.1. バージョン9.6.3への移行</h3></div></div></div><span class="original">
   &lt;title&gt;Migration to Version 9.6.3&lt;/title&gt;
</span><p>
<span class="original">
    A dump/restore is not required for those running 9.6.X.
</span>
9.6.Xからの移行ではダンプ/リストアは不要です。
   </p><p>
<span class="original">
    However, if you use foreign data servers that make use of user
    passwords for authentication, see the first changelog entry below.
</span>
しかしながら、認証にユーザパスワードを利用する外部データサーバを使っている場合には、以下の変更点の1番目の項目を参照してください。
   </p><p>
<span class="original">
    Also, if you are using third-party replication tools that depend
    on &lt;quote&gt;logical decoding&lt;/quote&gt;, see the fourth changelog entry below.
</span>
また、<span class="quote">「<span class="quote">ロジカルデコーディング</span>」</span>に依存したサードパーティレプリケーションツールを使っているなら、以下の変更点の4番目の項目を参照してください。
   </p><p>
<span class="original">
    Also, if you are upgrading from a version earlier than 9.6.2,
    see &lt;xref linkend="release-9-6-2"/&gt;.
</span>
また、9.6.2よりも前のバージョンからアップグレードする場合は、<a class="xref" href="release-9-6-2.html" title="E.19. リリース9.6.2">E.19</a>を参照して下さい。
   </p></div><div class="sect2" id="id-1.11.6.22.5"><div class="titlepage"><div><div><h3 class="title">E.18.2. 変更点</h3></div></div></div><span class="original">
   &lt;title&gt;Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [3eefc5105] 2017-05-08 07:24:24 -0700
Branch: REL9_6_STABLE [c928addfc] 2017-05-08 07:24:27 -0700
Branch: REL9_5_STABLE [db2158108] 2017-05-08 07:24:27 -0700
Branch: REL9_4_STABLE [b2423f0fa] 2017-05-08 07:24:27 -0700
Branch: REL9_3_STABLE [b5b124046] 2017-05-08 07:24:28 -0700
Branch: REL9_2_STABLE [99cbb0bd9] 2017-05-08 07:24:28 -0700
</span><p>
<span class="original">
      Restrict visibility
      of &lt;structname&gt;pg_user_mappings&lt;/structname&gt;.&lt;structfield&gt;umoptions&lt;/structfield&gt;, to
      protect passwords stored as user mapping options
      (Michael Paquier, Feike Steenbergen)
</span>
ユーザマッピングオプションとして格納されたパスワードを保護するため、<code class="structname">pg_user_mappings</code>.<code class="structfield">umoptions</code>の可視性を厳格化しました。
(Michael Paquier, Feike Steenbergen)
     </p><p>
<span class="original">
      The previous coding allowed the owner of a foreign server object,
      or anyone he has granted server &lt;literal&gt;USAGE&lt;/literal&gt; permission to,
      to see the options for all user mappings associated with that server.
      This might well include passwords for other users.
      Adjust the view definition to match the behavior of
      &lt;structname&gt;information_schema.user_mapping_options&lt;/structname&gt;, namely that
      these options are visible to the user being mapped, or if the mapping
      is for &lt;literal&gt;PUBLIC&lt;/literal&gt; and the current user is the server
      owner, or if the current user is a superuser.
      (CVE-2017-7486)
</span>
これまでのコードは、外部サーバオブジェクトの所有者やサーバの<code class="literal">USAGE</code>権限を付与されているユーザに、そのサーバに関連した全てのユーザマッピングのオプションを参照することを許していました。
これには他のユーザのパスワードがしっかり含まれているかもしれません。
<code class="structname">information_schema.user_mapping_options</code>の振る舞いと一致するように、すなわち、これらオプションがマップされているユーザに、またはマッピングが<code class="literal">PUBLIC</code>で現在ユーザがサーバ所有者の場合に、あるいは現在ユーザがスーパーユーザである場合に、可視であるようにビュー定義を修正しました。
(CVE-2017-7486)
     </p><p>
<span class="original">
      By itself, this patch will only fix the behavior in newly initdb'd
      databases.  If you wish to apply this change in an existing database,
      follow the corrected procedure shown in the changelog entry for
      CVE-2017-7547, in &lt;xref linkend="release-9-6-4"/&gt;.
</span>
このパッチのみでは新たにinitdbされたデータベースでの動作しか修正しません。
この変更を既存のデータベースに適用するには、<a class="xref" href="release-9-6-4.html" title="E.17. リリース9.6.4">E.17</a>のCVE-2017-7547の変更項目で示される修正手順を行う必要があります。
     </p></li><li class="listitem"><span class="original">
Author: Peter Eisentraut &lt;peter_e@gmx.net&gt;
Branch: master [e2d4ef8de] 2017-05-08 09:26:32 -0400
Branch: REL9_6_STABLE [c33c42362] 2017-05-08 09:18:57 -0400
Branch: REL9_5_STABLE [d45cd7c0e] 2017-05-08 09:19:07 -0400
Branch: REL9_4_STABLE [3e5ea1f9b] 2017-05-08 09:19:15 -0400
Branch: REL9_3_STABLE [4f1b2089a] 2017-05-08 09:19:23 -0400
Branch: REL9_2_STABLE [d035c1b97] 2017-05-08 09:19:42 -0400
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [b6576e591] 2017-05-08 11:18:40 -0400
Branch: REL9_6_STABLE [cad159432] 2017-05-08 11:18:54 -0400
Branch: REL9_5_STABLE [a199582ef] 2017-05-08 11:19:00 -0400
Branch: REL9_4_STABLE [d3f3f9568] 2017-05-08 11:19:04 -0400
Branch: REL9_3_STABLE [703da1795] 2017-05-08 11:19:08 -0400
</span><p>
<span class="original">
      Prevent exposure of statistical information via leaky operators
      (Peter Eisentraut)
</span>
漏洩のある演算子を通した統計情報の露出を防止しました。
(Peter Eisentraut)
     </p><p>
<span class="original">
      Some selectivity estimation functions in the planner will apply
      user-defined operators to values obtained
      from &lt;structname&gt;pg_statistic&lt;/structname&gt;, such as most common values and
      histogram entries.  This occurs before table permissions are checked,
      so a nefarious user could exploit the behavior to obtain these values
      for table columns he does not have permission to read.  To fix,
      fall back to a default estimate if the operator's implementation
      function is not certified leak-proof and the calling user does not have
      permission to read the table column whose statistics are needed.
      At least one of these criteria is satisfied in most cases in practice.
      (CVE-2017-7484)
</span>
プランナの一部の選択率見積関数は、ユーザ定義演算子を頻出値やヒストグラム項目のような<code class="structname">pg_statistic</code>から取得された値に適用します。
これはテーブル権限がチェックされる前に行われるので、悪意のユーザがこの振る舞いを読み取り権限を持たないテーブル列の値を取得するために悪用するおそれがありました。
修正するため、演算子の実装関数が漏洩防止を保証されておらず、呼び出しているユーザが統計情報を要するテーブル列の読み取り権限を持っていない場合には、デフォルトの見積で代用するようにしました。
実際はたいていのケースでこれら基準のうち少なくとも一つを満たします。
(CVE-2017-7484)
     </p></li><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [0170b10df] 2017-05-08 07:24:24 -0700
Branch: REL9_6_STABLE [aafbd1df9] 2017-05-08 07:24:27 -0700
Branch: REL9_5_STABLE [96d745492] 2017-05-08 07:24:27 -0700
Branch: REL9_4_STABLE [ed36c1fe1] 2017-05-08 07:24:27 -0700
Branch: REL9_3_STABLE [3eab81127] 2017-05-08 07:24:28 -0700
</span><p>
<span class="original">
      Restore &lt;application&gt;libpq&lt;/application&gt;'s recognition of
      the &lt;envar&gt;PGREQUIRESSL&lt;/envar&gt; environment variable (Daniel Gustafsson)
</span>
<span class="application">libpq</span>の<code class="envar">PGREQUIRESSL</code>環境変数の認識が復旧されました。
(Daniel Gustafsson)
     </p><p>
<span class="original">
      Processing of this environment variable was unintentionally dropped
      in &lt;productname&gt;PostgreSQL&lt;/productname&gt; 9.3, but its documentation remained.
      This creates a security hazard, since users might be relying on the
      environment variable to force SSL-encrypted connections, but that
      would no longer be guaranteed.  Restore handling of the variable,
      but give it lower priority than &lt;envar&gt;PGSSLMODE&lt;/envar&gt;, to avoid
      breaking configurations that work correctly with post-9.3 code.
      (CVE-2017-7485)
</span>
環境変数の処理が<span class="productname">PostgreSQL</span> 9.3で意図せず外されていましたが、
ドキュメントはそのままでした。
ユーザがSSL暗号化接続を強制するために、もはや保証されないであろうこの環境変数に依存しているかもしれず、これはセキュリティ上の危険を生じさせます。
この環境変数の処理を復旧しましたが、9.3以降のコードで正しく動作している設定を壊さないように、<code class="envar">PGSSLMODE</code>よりも低い優先順位を与えました。
(CVE-2017-7485)
     </p></li><li class="listitem"><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master [2bef06d51] 2017-04-27 13:13:36 -0700
Branch: REL9_6_STABLE [28afff347] 2017-04-27 13:13:36 -0700
Branch: REL9_5_STABLE [47f896b5c] 2017-04-27 13:13:37 -0700
Branch: REL9_4_STABLE [5da646138] 2017-04-27 13:13:37 -0700
Branch: master [56e19d938] 2017-04-27 15:29:15 -0700
Branch: REL9_6_STABLE [29e8c881d] 2017-04-27 15:29:33 -0700
Branch: REL9_5_STABLE [54270d7eb] 2017-04-27 15:29:43 -0700
Branch: REL9_4_STABLE [b6ecf26cc] 2017-04-27 15:29:52 -0700
</span><p>
<span class="original">
      Fix possibly-invalid initial snapshot during logical decoding
      (Petr Jelinek, Andres Freund)
</span>
ロジカルデコーディング中の初期スナップショットが無効になる可能性があり、これを修正しました。
(Petr Jelinek, Andres Freund)
     </p><p>
<span class="original">
      The initial snapshot created for a logical decoding replication slot
      was potentially incorrect.  This could cause third-party tools that
      use logical decoding to copy incomplete/inconsistent initial data.
      This was more likely to happen if the source server was busy at the
      time of slot creation, or if another logical slot already existed.
</span>
ロジカルデコーディングのレプリケーションスロットむけに作られた初期スナップショットが潜在的に不正となりえました。
これによりロジカルデコーディングを使うサードパーティツールが不完全あるいは不正な初期データのコピーをする可能性があります。
ソースサーバがスロットを作るときに高負荷特の場合、または、他のロジカルスロットが既に存在している場合に特に発生しやすい現象です。
     </p><p>
<span class="original">
      If you are using a replication tool that depends on logical decoding,
      and it should have copied a nonempty data set at the start of
      replication, it is advisable to recreate the replica after
      installing this update, or to verify its contents against the source
      server.
</span>
ロジカルデコーディングに依存したレプリケーションツールを使っていて、レプリケーション開始時に空でないデータセットをコピーしたであろう場合には、アップグレードを導入した後にレプリカを再作成するか、ソースサーバと比較してその内容を検証することが推奨されます。
     </p></li><li class="listitem"><span class="original">
Author: Robert Haas &lt;rhaas@postgresql.org&gt;
Branch: master [87f998203] 2017-03-14 11:51:11 -0400
Branch: REL9_6_STABLE [36fcb36b8] 2017-03-14 11:52:27 -0400
Branch: REL9_5_STABLE [c17a3f57e] 2017-03-14 12:03:29 -0400
Branch: REL9_4_STABLE [bbd5e600f] 2017-03-14 12:06:36 -0400
Branch: REL9_3_STABLE [6bd7816e7] 2017-03-14 12:08:14 -0400
Branch: REL9_2_STABLE [b2ae1d6c4] 2017-03-14 12:10:36 -0400
</span><p>
<span class="original">
      Fix possible corruption of &lt;quote&gt;init forks&lt;/quote&gt; of unlogged indexes
      (Robert Haas, Michael Paquier)
</span>
ログをとらないインデックスの<span class="quote">「<span class="quote">初期フォーク</span>」</span>の破損を修正しました。
(Robert Haas, Michael Paquier)
     </p><p>
<span class="original">
      This could result in an unlogged index being set to an invalid state
      after a crash and restart.  Such a problem would persist until the
      index was dropped and rebuilt.
</span>
これによりクラッシュと再起動の後に、ログをとらないインデックスが不正な状態になるおそれがありました。
この問題はインデックスが削除、再構築されるまで持続するでしょう。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [0874d4f3e] 2017-04-23 13:11:06 -0400
Branch: REL9_6_STABLE [f5885488d] 2017-04-23 13:11:08 -0400
Branch: REL9_5_STABLE [a66e01bbc] 2017-04-23 13:10:57 -0400
Branch: REL9_4_STABLE [2e14541c4] 2017-04-23 13:10:57 -0400
Branch: REL9_3_STABLE [856580873] 2017-04-23 13:10:57 -0400
Branch: REL9_2_STABLE [952e33b05] 2017-04-23 13:10:58 -0400
</span><p>
<span class="original">
      Fix incorrect reconstruction of &lt;structname&gt;pg_subtrans&lt;/structname&gt; entries
      when a standby server replays a prepared but uncommitted two-phase
      transaction (Tom Lane)
</span>
スタンバイサーバが、準備されているけれどコミットされていない2相トランザクションを再生するときの<code class="structname">pg_subtrans</code>の項目の誤った再構築を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      In most cases this turned out to have no visible ill effects, but in
      corner cases it could result in circular references
      in &lt;structname&gt;pg_subtrans&lt;/structname&gt;, potentially causing infinite loops
      in queries that examine rows modified by the two-phase transaction.
</span>
大抵の場合は目に見える悪影響には至りませんが、稀な場合に<code class="structname">pg_subtrans</code>で循環参照になり、2相トランザクションで修正された行を検査する問い合わせで潜在的に無限ループをひき起こす可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Fujii Masao &lt;fujii@postgresql.org&gt;
Branch: master [1d04a59be] 2017-02-22 03:11:58 +0900
Branch: REL9_6_STABLE [9fab155c6] 2017-02-22 08:29:32 +0900
Branch: REL9_5_STABLE [feb659cce] 2017-02-22 08:29:44 +0900
Branch: REL9_4_STABLE [a3eb715a3] 2017-02-22 08:29:57 +0900
</span><p>
<span class="original">
      Avoid possible crash in &lt;application&gt;walsender&lt;/application&gt; due to failure
      to initialize a string buffer (Stas Kelvich, Fujii Masao)
</span>
文字列バッファ初期化の失敗による<span class="application">walsender</span>でのクラッシュの可能性を回避しました。
(Stas Kelvich, Fujii Masao)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [3f074845a] 2017-05-04 13:59:39 -0400
Branch: REL9_6_STABLE [855f0e924] 2017-05-04 13:59:13 -0400
Branch: REL9_5_STABLE [6cfb428b0] 2017-05-04 13:59:13 -0400
</span><p>
<span class="original">
      Fix possible crash when rescanning a nearest-neighbor index-only scan
      on a GiST index (Tom Lane)
</span>
GiSTインデックスで最近傍インデックスオンリースキャンの再スキャンをするとき可能性のあるクラッシュを修正しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [893902085] 2017-04-24 13:00:30 -0400
Branch: REL9_6_STABLE [dfa4baf91] 2017-04-24 13:00:23 -0400
Branch: master [aa1351f1e] 2017-04-26 16:17:34 -0400
Branch: REL9_6_STABLE [e880df25e] 2017-04-26 16:17:29 -0400
</span><p>
<span class="original">
      Prevent delays in postmaster's launching of multiple parallel worker
      processes (Tom Lane)
</span>
postmasterによる複数パラレルワーカープロセス起動の遅延を防止しました。
(Tom Lane)
     </p><p>
<span class="original">
      There could be a significant delay (up to tens of seconds) before
      satisfying a query's request for more than one worker process, or when
      multiple queries requested workers simultaneously.  On most platforms
      this required unlucky timing, but on some it was the typical case.
</span>
二つ以上のワーカプロセスに対する問い合わせの要求を満たす前に、あるいは、複数の問い合わせが各ワーカに同時に要求されたときに、著しい遅延（長くて数十秒）になることがありました。
大部分のプラットフォームでは不運なタイミングを要しますが、一部においてはよくあるケースでした。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [4fe04244b] 2017-04-24 12:16:58 -0400
Branch: REL9_6_STABLE [63f64d282] 2017-04-24 12:16:58 -0400
Branch: REL9_5_STABLE [dba1f310a] 2017-04-24 12:16:58 -0400
Branch: REL9_4_STABLE [436b560b8] 2017-04-24 12:16:58 -0400
</span><p>
<span class="original">
      Fix postmaster's handling of &lt;function&gt;fork()&lt;/function&gt; failure for a
      background worker process (Tom Lane)
</span>
バックグラウンドワーカプロセスについての<code class="function">fork()</code>失敗に対するpostmasterの処理が修正されました。
(Tom Lane)
     </p><p>
<span class="original">
      Previously, the postmaster updated portions of its state as though
      the process had been launched successfully, resulting in subsequent
      confusion.
</span>
これまでは、postmasterはプロセスが正常に起動されたかのようにワーカ状態の一部を更新していて、結果としてその後に混乱が生じていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [89deca582] 2017-04-07 12:18:38 -0400
Branch: REL9_6_STABLE [c0a493e17] 2017-04-07 12:18:38 -0400
</span><p>
<span class="original">
      Fix possible &lt;quote&gt;no relation entry for relid 0&lt;/quote&gt; error when
      planning nested set operations (Tom Lane)
</span>
入れ子の集合演算子のプラン作成時に<span class="quote">「<span class="quote">no relation entry for relid 0（relid 0に対応するリレーション項目がありません）</span>」</span>エラーの可能性があり、修正されました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Robert Haas &lt;rhaas@postgresql.org&gt;
Branch: master [1ea60ad60] 2017-03-15 12:28:54 -0400
Branch: REL9_6_STABLE [5feb78ae8] 2017-03-15 12:41:00 -0400
Branch: master [f120b614e] 2017-03-24 12:30:39 -0400
Branch: REL9_6_STABLE [5674a258f] 2017-03-24 12:39:07 -0400
Branch: master [7d8f6986b] 2017-03-31 21:01:20 -0400
Branch: REL9_6_STABLE [fb1879c37] 2017-03-31 21:10:30 -0400
</span><p>
<span class="original">
      Fix assorted minor issues in planning of parallel queries (Robert Haas)
</span>
パラレルクエリのプラン作成での各種の些少な問題を修正しました。
(Robert Haas)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [76799fc89] 2017-04-17 15:29:15 -0400
Branch: REL9_6_STABLE [6c73b390b] 2017-04-17 15:29:00 -0400
Branch: REL9_5_STABLE [6f0f98bb0] 2017-04-17 15:29:00 -0400
</span><p>
<span class="original">
      Avoid applying &lt;quote&gt;physical targetlist&lt;/quote&gt; optimization to custom
      scans (Dmitry Ivanov, Tom Lane)
</span>
<span class="quote">「<span class="quote">物理ターゲットリスト</span>」</span>最適化をカスタムスキャンに適用しないようにしました。
(Dmitry Ivanov, Tom Lane)
     </p><p>
<span class="original">
      This optimization supposed that retrieving all columns of a tuple
      is inexpensive, which is true for ordinary Postgres tuples; but it
      might not be the case for a custom scan provider.
</span>
この最適化はタプルの全列を取得することが低コストであることを想定していて、それは通常のPostgresのタプルでは正しいのですが、カスタムスキャンプロバイダに対する場合はそうでないかもしれません。
     </p></li><li class="listitem"><span class="original">
Author: Stephen Frost &lt;sfrost@snowman.net&gt;
Branch: master [aa5d3c0b3] 2017-05-06 21:46:35 -0400
Branch: REL9_6_STABLE [92b15224b] 2017-05-06 21:46:41 -0400
Branch: REL9_5_STABLE [d617c7629] 2017-05-06 21:46:56 -0400
</span><p>
<span class="original">
      Use the correct sub-expression when applying a &lt;literal&gt;FOR ALL&lt;/literal&gt;
      row-level-security policy (Stephen Frost)
</span>
<code class="literal">FOR ALL</code>行単位セキュリティポリシーを適用するときに正しい副式を使うようにしました。
(Stephen Frost)
     </p><p>
<span class="original">
      In some cases the &lt;literal&gt;WITH CHECK&lt;/literal&gt; restriction would be applied
      when the &lt;literal&gt;USING&lt;/literal&gt; restriction is more appropriate.
</span>
場合によっては、<code class="literal">USING</code>制約がより適切であるときに<code class="literal">WITH CHECK</code>制約が適用されていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [9209e0760] 2017-05-02 18:06:09 -0400
Branch: REL9_6_STABLE [d56b8b41b] 2017-05-02 18:05:54 -0400
Branch: REL9_5_STABLE [d0d3a57bf] 2017-05-02 18:05:54 -0400
Branch: REL9_4_STABLE [c6b3d0706] 2017-05-02 18:05:54 -0400
Branch: REL9_3_STABLE [062824edd] 2017-05-02 18:05:54 -0400
Branch: REL9_2_STABLE [c9d6c564f] 2017-05-02 18:05:54 -0400
</span><p>
<span class="original">
      Ensure parsing of queries in extension scripts sees the results of
      immediately-preceding DDL (Julien Rouhaud, Tom Lane)
</span>
拡張のスクリプトで問い合わせの構文解析に直前のDDLの結果が見えることを保証しました。
(Julien Rouhaud, Tom Lane)
     </p><p>
<span class="original">
      Due to lack of a cache flush step between commands in an extension
      script file, non-utility queries might not see the effects of an
      immediately preceding catalog change, such as &lt;command&gt;ALTER TABLE
      ... RENAME&lt;/command&gt;.
</span>
拡張のスクリプトファイル内のコマンド間でキャッシュをフラッシュする手順が欠けていたため、ユーティリティ以外の問い合わせには直前の<code class="command">ALTER TABLE ... RENAME</code>のようなカタログ変更の結果が見えないかもしれませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [f30f34e58] 2017-02-12 16:03:41 -0500
Branch: REL9_6_STABLE [4d43d5d35] 2017-02-12 16:03:46 -0500
Branch: REL9_5_STABLE [660e457f5] 2017-02-12 16:03:54 -0500
Branch: REL9_4_STABLE [804aad8ff] 2017-02-12 16:04:09 -0500
Branch: REL9_3_STABLE [b167d57d5] 2017-02-12 16:05:12 -0500
Branch: REL9_2_STABLE [27a8c8033] 2017-02-12 16:05:23 -0500
</span><p>
<span class="original">
      Skip tablespace privilege checks when &lt;command&gt;ALTER TABLE ... ALTER
      COLUMN TYPE&lt;/command&gt; rebuilds an existing index (Noah Misch)
</span>
<code class="command">ALTER TABLE ... ALTER COLUMN TYPE</code>が既存インデックスを再構築するときのテーブルスペースの権限検査を省略しました。
(Noah Misch)
     </p><p>
<span class="original">
      The command failed if the calling user did not currently have
      &lt;literal&gt;CREATE&lt;/literal&gt; privilege for the tablespace containing the index.
      That behavior seems unhelpful, so skip the check, allowing the
      index to be rebuilt where it is.
</span>
呼び出すユーザがインデックスを含むテーブルスペースに対する<code class="literal">CREATE</code>権限をそのとき持っていなかった場合、コマンドは失敗していました。
この振る舞いは役に立たないと考えられるので、検査を省略し、ここではインデックスを再構築できるようにしました。
     </p></li><li class="listitem"><span class="original">
Author: Robert Haas &lt;rhaas@postgresql.org&gt;
Branch: master [6a4dda44e] 2017-04-28 14:48:38 -0400
Branch: REL9_6_STABLE [8a9c83bfa] 2017-04-28 14:48:44 -0400
Branch: REL9_5_STABLE [a0291c330] 2017-04-28 14:50:36 -0400
Branch: REL9_4_STABLE [93a07a68e] 2017-04-28 14:52:20 -0400
Branch: REL9_3_STABLE [954744f7a] 2017-04-28 14:53:56 -0400
Branch: REL9_2_STABLE [f60f0c8fe] 2017-04-28 14:55:42 -0400
</span><p>
<span class="original">
      Fix &lt;command&gt;ALTER TABLE ... VALIDATE CONSTRAINT&lt;/command&gt; to not recurse
      to child tables when the constraint is marked &lt;literal&gt;NO INHERIT&lt;/literal&gt;
      (Amit Langote)
</span>
制約が<code class="literal">NO INHERIT</code>と印付けされているときには、<code class="command">ALTER TABLE ... VALIDATE CONSTRAINT</code>が子テーブルに再帰処理をしないように修正しました。
(Amit Langote)
     </p><p>
<span class="original">
      This fix prevents unwanted &lt;quote&gt;constraint does not exist&lt;/quote&gt; failures
      when no matching constraint is present in the child tables.
</span>
この修正は一致する制約が子テーブルに無いときに望まれない<span class="quote">「<span class="quote">constraint does not exist（制約がありません）</span>」</span>エラーになるのを防ぎます。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [a8df75b0a] 2017-03-06 16:50:47 -0500
Branch: REL9_6_STABLE [943140d57] 2017-03-06 16:50:47 -0500
Branch: REL9_5_STABLE [420d9ec0a] 2017-03-06 16:50:47 -0500
</span><p>
<span class="original">
      Avoid dangling pointer in &lt;command&gt;COPY ... TO&lt;/command&gt; when row-level
      security is active for the source table (Tom Lane)
</span>
元となるテーブルの行単位セキュリティが有効のときに<code class="command">COPY ... TO</code>でダングリングポインタを回避しました。
(Tom Lane)
     </p><p>
<span class="original">
      Usually this had no ill effects, but sometimes it would cause
      unexpected errors or crashes.
</span>
通常は無害ですが、ときどき予期せぬエラーやクラッシュをひき起こしていました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [dbca84f04] 2017-03-04 16:09:33 -0500
Branch: REL9_6_STABLE [68f7b91e5] 2017-03-04 16:09:33 -0500
Branch: REL9_5_STABLE [807df31d1] 2017-03-04 16:09:33 -0500
</span><p>
<span class="original">
      Avoid accessing an already-closed relcache entry in &lt;command&gt;CLUSTER&lt;/command&gt;
      and &lt;command&gt;VACUUM FULL&lt;/command&gt; (Tom Lane)
</span>
<code class="command">CLUSTER</code>と<code class="command">VACUUM FULL</code>で既に閉じたrelcache項目へのアクセスを回避しました。
(Tom Lane)
     </p><p>
<span class="original">
      With some bad luck, this could lead to indexes on the target
      relation getting rebuilt with the wrong persistence setting.
</span>
不運な場合に対象テーブルのインデックスが誤った永続性設定で再構築される可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Andrew Gierth &lt;rhodiumtoad@postgresql.org&gt;
Branch: master [1914c5ea7] 2017-03-16 22:28:03 +0000
Branch: REL9_6_STABLE [9b626f6c3] 2017-03-16 22:31:49 +0000
Branch: REL9_5_STABLE [ee78ad5bc] 2017-03-16 22:33:59 +0000
Branch: REL9_4_STABLE [269efd052] 2017-03-16 22:32:56 +0000
Branch: REL9_3_STABLE [8f8a5aefc] 2017-03-16 22:33:18 +0000
Branch: REL9_2_STABLE [a494ff4b0] 2017-03-16 22:33:38 +0000
Branch: master [64ae420b2] 2017-03-17 14:35:54 +0000
Branch: REL9_6_STABLE [733488dc6] 2017-03-17 14:46:15 +0000
</span><p>
<span class="original">
      Fix &lt;command&gt;VACUUM&lt;/command&gt; to account properly for pages that could not
      be scanned due to conflicting page pins (Andrew Gierth)
</span>
ページピンの競合によりスキャンできなかったページを適切に計算するように<code class="command">VACUUM</code>を修正しました。
(Andrew Gierth)
     </p><p>
<span class="original">
      This tended to lead to underestimation of the number of tuples in
      the table.  In the worst case of a small heavily-contended
      table, &lt;command&gt;VACUUM&lt;/command&gt; could incorrectly report that the table
      contained no tuples, leading to very bad planning choices.
</span>
これはテーブルのタプル数の過小見積をもたらす傾向がありました。
小さくて競合が激しいテーブルという最悪の場合には、<code class="command">VACUUM</code>がテーブルにはタプルが一切含まれないという不正な報告をして、非常に悪いプラン選択をもたらす可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [f2ec57dee] 2017-02-15 16:40:05 -0500
Branch: REL9_6_STABLE [354dfa235] 2017-02-15 16:40:05 -0500
Branch: REL9_5_STABLE [96ba17640] 2017-02-15 16:40:06 -0500
Branch: REL9_4_STABLE [d0e9c0e31] 2017-02-15 16:40:06 -0500
Branch: REL9_3_STABLE [6a4941f8c] 2017-02-15 16:40:06 -0500
Branch: REL9_2_STABLE [030705e4f] 2017-02-15 16:40:06 -0500
</span><p>
<span class="original">
      Ensure that bulk-tuple-transfer loops within a hash join are
      interruptible by query cancel requests (Tom Lane, Thomas Munro)
</span>
ハッシュ結合の中での大量タプル転送ループを問い合わせキャンセル要求により確実に割り込みできるようにしました。
(Tom Lane, Thomas Munro)
     </p></li><li class="listitem"><span class="original">
Author: Teodor Sigaev &lt;teodor@sigaev.ru&gt;
Branch: master [d5286aa90] 2017-03-21 16:23:10 +0300
Branch: REL9_6_STABLE [a4d07d2e9] 2017-03-21 16:24:10 +0300
</span><p>
<span class="original">
      Fix incorrect support for certain &lt;type&gt;box&lt;/type&gt; operators in SP-GiST
      (Nikita Glukhov)
</span>
SP-GiSTでのある種の<code class="type">box</code>演算子に対する誤った対応を修正しました。
(Nikita Glukhov)
     </p><p>
<span class="original">
      SP-GiST index scans using the operators &lt;literal&gt;&amp;amp;&amp;lt;&lt;/literal&gt;
      &lt;literal&gt;&amp;amp;&amp;gt;&lt;/literal&gt; &lt;literal&gt;&amp;amp;&amp;lt;|&lt;/literal&gt; and &lt;literal&gt;|&amp;amp;&amp;gt;&lt;/literal&gt;
      would yield incorrect answers.
</span>
演算子<code class="literal">&amp;&lt;</code>、<code class="literal">&amp;&gt;</code>、<code class="literal">&amp;&lt;|</code>および<code class="literal">|&amp;&gt;</code>を使うSP-GiSTインデックススキャンは誤った答えを生み出していました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [df1a699e5] 2017-04-05 23:51:27 -0400
Branch: REL9_6_STABLE [fd52b8834] 2017-04-05 23:51:28 -0400
Branch: REL9_5_STABLE [d68a2b20a] 2017-04-05 23:51:28 -0400
Branch: REL9_4_STABLE [8851bcf88] 2017-04-05 23:51:28 -0400
</span><p>
<span class="original">
      Fix integer-overflow problems in &lt;type&gt;interval&lt;/type&gt; comparison (Kyotaro
      Horiguchi, Tom Lane)
</span>
<code class="type">interval</code>の比較で整数オーバーフロー問題を修正しました。
(Kyotaro Horiguchi, Tom Lane)
     </p><p>
<span class="original">
      The comparison operators for type &lt;type&gt;interval&lt;/type&gt; could yield wrong
      answers for intervals larger than about 296000 years.  Indexes on
      columns containing such large values should be reindexed, since they
      may be corrupt.
</span>
約296000年より大きい期間に対して<code class="type">interval</code>型の比較演算子が誤った答えを生み出す可能性がありました。
このような大きい値を含む列のインデックスは壊れているかもしれないので、インデックス再構築をしたほうがよいです。
     </p></li><li class="listitem"><span class="original">
Author: Peter Eisentraut &lt;peter_e@gmx.net&gt;
Branch: master [0de791ed7] 2017-05-03 21:41:10 -0400
Branch: REL9_6_STABLE [071d13395] 2017-05-04 21:17:46 -0400
Branch: REL9_5_STABLE [9750a9583] 2017-05-04 21:20:26 -0400
Branch: REL9_4_STABLE [12dd58d64] 2017-05-04 21:22:48 -0400
Branch: REL9_3_STABLE [6e86b448f] 2017-05-04 21:31:12 -0400
Branch: REL9_2_STABLE [a48d47908] 2017-05-04 22:39:23 -0400
</span><p>
<span class="original">
      Fix &lt;function&gt;cursor_to_xml()&lt;/function&gt; to produce valid output
      with &lt;replaceable&gt;tableforest&lt;/replaceable&gt; = false
      (Thomas Munro, Peter Eisentraut)
</span>
<em class="replaceable"><code>tableforest</code></em> = falseのとき、<code class="function">cursor_to_xml()</code>が正しいな出力をするように修正しました。
(Thomas Munro, Peter Eisentraut)
     </p><p>
<span class="original">
      Previously it failed to produce a wrapping &lt;literal&gt;&amp;lt;table&amp;gt;&lt;/literal&gt;
      element.
</span>
これまでは<code class="literal">&lt;table&gt;</code>要素の囲みを生成していませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [8f93bd851] 2017-02-08 18:04:59 -0500
Branch: REL9_6_STABLE [404756fe8] 2017-02-08 18:04:59 -0500
Branch: REL9_5_STABLE [7786b9848] 2017-02-08 18:04:59 -0500
Branch: REL9_4_STABLE [1888fad44] 2017-02-08 18:04:59 -0500
Branch: master [5d2adf0f8] 2017-02-09 15:50:16 -0500
Branch: REL9_6_STABLE [fc96a5fbc] 2017-02-09 15:49:57 -0500
Branch: REL9_5_STABLE [cf73c6bfc] 2017-02-09 15:49:57 -0500
Branch: REL9_4_STABLE [86ef376bb] 2017-02-09 15:49:58 -0500
</span><p>
<span class="original">
      Fix roundoff problems in &lt;function&gt;float8_timestamptz()&lt;/function&gt;
      and &lt;function&gt;make_interval()&lt;/function&gt; (Tom Lane)
</span>
<code class="function">float8_timestamptz()</code>と<code class="function">make_interval()</code>で端数丸めの問題を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      These functions truncated, rather than rounded, when converting a
      floating-point value to integer microseconds; that could cause
      unexpectedly off-by-one results.
</span>
これら関数は浮動小数点の値から整数のマイクロ秒に変換するときに丸めでなく、切り捨てをしていました。これにより予期せずひとつ少ない結果がもたらされる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [a3eac988c] 2017-03-16 12:51:08 -0300
Branch: REL9_6_STABLE [41306a511] 2017-03-16 12:51:08 -0300
Branch: REL9_5_STABLE [087e696f0] 2017-03-16 12:51:08 -0300
Branch: REL9_6_STABLE [1ec36a9eb] 2017-04-16 20:49:40 -0400
Branch: REL9_5_STABLE [b6e6ae1dc] 2017-04-16 20:50:31 -0400
</span><p>
<span class="original">
      Fix &lt;function&gt;pg_get_object_address()&lt;/function&gt; to handle members of operator
      families correctly (&amp;Aacute;lvaro Herrera)
</span>
<code class="function">pg_get_object_address()</code>を正しく演算子族のメンバーを処理するように修正しました。
(Álvaro Herrera)
     </p></li><li class="listitem"><span class="original">
Author: Teodor Sigaev &lt;teodor@sigaev.ru&gt;
Branch: master [78874531b] 2017-03-24 13:53:40 +0300
Branch: REL9_6_STABLE [8de6278d3] 2017-03-24 13:55:02 +0300
</span><p>
<span class="original">
      Fix cancelling of &lt;function&gt;pg_stop_backup()&lt;/function&gt; when attempting to stop
      a non-exclusive backup (Michael Paquier, David Steele)
</span>
非排他的バックアップを中止しようとしたときの<code class="function">pg_stop_backup()</code>のキャンセルについて修正しました。
(Michael Paquier, David Steele)
     </p><p>
<span class="original">
      If &lt;function&gt;pg_stop_backup()&lt;/function&gt; was cancelled while waiting for a
      non-exclusive backup to end, related state was left inconsistent;
      a new exclusive backup could not be started, and there were other minor
      problems.
</span>
非排他的バックアップが終了するのを待つ間に<code class="function">pg_stop_backup()</code>がキャンセルされた場合、関連する状態に不整合が残り、新たな排他的バックアップを開始できない可能性がありました。また、他の細かな問題がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [af2c5aa88] 2017-05-02 21:50:35 -0400
Branch: REL9_6_STABLE [c521d5a8d] 2017-05-02 21:50:42 -0400
Branch: REL9_5_STABLE [724cd4f06] 2017-05-02 21:50:47 -0400
Branch: REL9_4_STABLE [5557b6af5] 2017-05-02 21:50:52 -0400
Branch: REL9_3_STABLE [35ac926bf] 2017-05-02 21:50:56 -0400
Branch: REL9_2_STABLE [1b6db75ef] 2017-05-02 21:51:01 -0400
Branch: master [5788a5670] 2017-05-07 11:34:31 -0400
Branch: REL9_6_STABLE [5042e9492] 2017-05-07 11:34:41 -0400
Branch: REL9_5_STABLE [38ed45c91] 2017-05-07 11:34:48 -0400
Branch: REL9_4_STABLE [6eedc6c18] 2017-05-07 11:34:58 -0400
Branch: REL9_3_STABLE [07987304d] 2017-05-07 11:35:05 -0400
Branch: REL9_2_STABLE [9061680f0] 2017-05-07 11:35:11 -0400
</span><p>
<span class="original">
      Improve performance of &lt;structname&gt;pg_timezone_names&lt;/structname&gt; view
      (Tom Lane, David Rowley)
</span>
<code class="structname">pg_timezone_names</code>ビューの性能を改善しました。
(Tom Lane, David Rowley)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [ff97741bc] 2017-03-08 12:21:23 -0500
Branch: REL9_6_STABLE [e0a6ed8a2] 2017-03-08 12:21:12 -0500
Branch: REL9_5_STABLE [50a9d714a] 2017-03-08 12:21:12 -0500
Branch: REL9_4_STABLE [8dd5c4171] 2017-03-08 12:21:12 -0500
</span><p>
<span class="original">
      Reduce memory management overhead for contexts containing many large
      blocks (Tom Lane)
</span>
多数の大きいブロックを含むコンテキストについてメモリ管理オーバーヘッドを軽減しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [f97de05a1] 2017-02-21 17:51:37 -0500
Branch: REL9_6_STABLE [62ed08422] 2017-02-21 17:51:27 -0500
Branch: REL9_5_STABLE [ff1b032a9] 2017-02-21 17:51:28 -0500
Branch: REL9_4_STABLE [d9959e6eb] 2017-02-21 17:51:28 -0500
Branch: REL9_3_STABLE [3f613c6a4] 2017-02-21 17:51:28 -0500
Branch: REL9_2_STABLE [775227590] 2017-02-21 17:51:28 -0500
</span><p>
<span class="original">
      Fix sloppy handling of corner-case errors from &lt;function&gt;lseek()&lt;/function&gt;
      and &lt;function&gt;close()&lt;/function&gt; (Tom Lane)
</span>
<code class="function">lseek()</code>と<code class="function">close()</code>の稀な場合のエラーに対するいいかげんな処理を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      Neither of these system calls are likely to fail in typical situations,
      but if they did, &lt;filename&gt;fd.c&lt;/filename&gt; could get quite confused.
</span>
どちらも通常ではあまり失敗しないシステムコールですが、失敗した場合には<code class="filename">fd.c</code>がかなり混乱する可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [ff30aec75] 2017-03-17 11:14:01 +0200
Branch: REL9_6_STABLE [38bdba54a] 2017-03-17 11:14:36 +0200
Branch: REL9_5_STABLE [96fd76dd2] 2017-03-17 11:14:45 +0200
Branch: REL9_4_STABLE [6b584c36a] 2017-03-17 11:14:49 +0200
Branch: REL9_3_STABLE [3ebcc2498] 2017-03-17 11:14:53 +0200
Branch: REL9_2_STABLE [9c52ddfce] 2017-03-17 11:14:58 +0200
Branch: REL9_6_STABLE [4ae0805bb] 2017-03-24 12:39:23 +0200
Branch: REL9_5_STABLE [42a60aa7f] 2017-03-24 12:39:20 +0200
Branch: REL9_4_STABLE [6423ed7d4] 2017-03-24 12:39:17 +0200
Branch: REL9_3_STABLE [e0e1ef46d] 2017-03-24 12:39:14 +0200
Branch: REL9_2_STABLE [8ae3ff64b] 2017-03-24 12:39:01 +0200
</span><p>
<span class="original">
      Fix incorrect check for whether postmaster is running as a Windows
      service (Michael Paquier)
</span>
postmasterがWindowsサービスとして実行しているかどうかの誤った検査を修正しました。
(Michael Paquier)
     </p><p>
<span class="original">
      This could result in attempting to write to the event log when that
      isn't accessible, so that no logging happens at all.
</span>
これは、アクセス不能であるときにイベントログに書き出しを試みて、そのため全くログが書かれない結果をもたらしました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Meskes &lt;meskes@postgresql.org&gt;
Branch: master [43c79c7d6] 2017-03-13 21:03:55 +0100
Branch: REL9_6_STABLE [f08a90ecd] 2017-03-13 20:50:48 +0100
Branch: REL9_5_STABLE [a8b3262ab] 2017-03-13 20:51:46 +0100
Branch: REL9_4_STABLE [e060baaad] 2017-03-13 20:51:56 +0100
Branch: REL9_3_STABLE [04207ef76] 2017-03-13 20:52:05 +0100
Branch: REL9_2_STABLE [d8c207437] 2017-03-13 20:52:16 +0100
</span><p>
<span class="original">
      Fix &lt;application&gt;ecpg&lt;/application&gt; to support &lt;command&gt;COMMIT PREPARED&lt;/command&gt;
      and &lt;command&gt;ROLLBACK PREPARED&lt;/command&gt; (Masahiko Sawada)
</span>
<code class="command">COMMIT PREPARED</code>と<code class="command">ROLLBACK PREPARED</code>に対応するように<span class="application">ecpg</span>を修正しました。
(Masahiko Sawada)
     </p></li><li class="listitem"><span class="original">
Author: Michael Meskes &lt;meskes@postgresql.org&gt;
Branch: master [d1ca82d0a] 2017-03-10 10:32:41 +0100
Branch: REL9_6_STABLE [d0fef0654] 2017-03-10 10:50:46 +0100
Branch: REL9_5_STABLE [466ee7a53] 2017-03-10 10:51:24 +0100
Branch: REL9_4_STABLE [f6b906599] 2017-03-10 10:51:40 +0100
Branch: REL9_3_STABLE [af471919b] 2017-03-10 10:51:51 +0100
Branch: REL9_2_STABLE [731afc91f] 2017-03-10 10:52:01 +0100
</span><p>
<span class="original">
      Fix a double-free error when processing dollar-quoted string literals
      in &lt;application&gt;ecpg&lt;/application&gt; (Michael Meskes)
</span>
<span class="application">ecpg</span>で、$でクォートされた文字列リテラルを処理する際の二重解放エラーを修正しました。
(Michael Meskes)
     </p></li><li class="listitem"><span class="original">
Author: Teodor Sigaev &lt;teodor@sigaev.ru&gt;
Branch: REL9_6_STABLE [2ed391f95] 2017-03-24 19:23:13 +0300
</span><p>
<span class="original">
      Fix &lt;application&gt;pgbench&lt;/application&gt; to handle the combination
      of &lt;option&gt;&amp;#045;-connect&lt;/option&gt; and &lt;option&gt;&amp;#045;-rate&lt;/option&gt; options correctly
      (Fabien Coelho)
</span>
<code class="option">--connect</code>オプションと<code class="option">--rate</code>オプションの組み合わせを正しく処理するように<span class="application">pgbench</span>を修正しました。
(Fabien Coelho)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [ef2662394] 2017-03-07 11:36:42 -0500
Branch: REL9_6_STABLE [0e2c85d13] 2017-03-07 11:36:35 -0500
</span><p>
<span class="original">
      Fix &lt;application&gt;pgbench&lt;/application&gt; to honor the long-form option
      spelling &lt;option&gt;&amp;#045;-builtin&lt;/option&gt;, as per its documentation (Tom Lane)
</span>
ドキュメント通り<code class="option">--builtin</code>という長い形式のオプションに従うように<span class="application">pgbench</span>を修正しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Stephen Frost &lt;sfrost@snowman.net&gt;
Branch: master [330b84d8c] 2017-03-06 23:29:02 -0500
Branch: REL9_6_STABLE [e961341cc] 2017-03-06 23:29:08 -0500
</span><p>
<span class="original">
      Fix &lt;application&gt;pg_dump&lt;/application&gt;/&lt;application&gt;pg_restore&lt;/application&gt; to correctly
      handle privileges for the &lt;literal&gt;public&lt;/literal&gt; schema when
      using &lt;option&gt;&amp;#045;-clean&lt;/option&gt; option (Stephen Frost)
</span>
<code class="option">--clean</code>オプションを使ったときに<code class="literal">public</code>スキーマの権限を正しく処理するように、<span class="application">pg_dump</span>/<span class="application">pg_restore</span>を修正しました。
(Stephen Frost)
     </p><p>
<span class="original">
      Other schemas start out with no privileges granted,
      but &lt;literal&gt;public&lt;/literal&gt; does not; this requires special-case treatment
      when it is dropped and restored due to the &lt;option&gt;&amp;#045;-clean&lt;/option&gt; option.
</span>
他のスキーマは与えられた権限が無く始まりますが、<code class="literal">public</code>はそうではなく、ここでは<code class="option">--clean</code>オプションのために削除とリストアが行われたときには特別な扱いが必要です。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [299990ba1] 2017-03-06 19:33:59 -0500
Branch: REL9_6_STABLE [8ea8178cd] 2017-03-06 19:33:59 -0500
Branch: REL9_5_STABLE [b6882e9ec] 2017-03-06 19:33:59 -0500
Branch: REL9_4_STABLE [db9b4b716] 2017-03-06 19:33:59 -0500
Branch: REL9_3_STABLE [783acfd4d] 2017-03-06 19:33:59 -0500
Branch: REL9_2_STABLE [0ab75448e] 2017-03-06 19:33:59 -0500
</span><p>
<span class="original">
      In &lt;application&gt;pg_dump&lt;/application&gt;, fix incorrect schema and owner marking for
      comments and security labels of some types of database objects
      (Giuseppe Broccolo, Tom Lane)
</span>
<span class="application">pg_dump</span>で、コメントとデータベースオブジェクトのいくつかのタイプのセキュリティラベルに対する、誤ったスキーマと所有者の印付けを修正しました。
(Giuseppe Broccolo, Tom Lane)
     </p><p>
<span class="original">
      In simple cases this caused no ill effects; but for example, a
      schema-selective restore might omit comments it should include, because
      they were not marked as belonging to the schema of their associated
      object.
</span>
単純な使い方の場合には悪影響はありませんが、例えばスキーマを指定したリストアでは含まれるべきコメントが無視される可能性がありました。これはダンプ時にそれらが関連するオブジェクトのスキーマに属するという印付けがされなかったためです。
     </p></li><li class="listitem"><span class="original">
Author: Peter Eisentraut &lt;peter_e@gmx.net&gt;
Branch: master [39370e6a0] 2017-02-17 15:06:28 -0500
Branch: REL9_6_STABLE [4e8b2fd33] 2017-02-17 15:06:34 -0500
</span><p>
<span class="original">
      Fix typo in &lt;application&gt;pg_dump&lt;/application&gt;'s query for initial privileges
      of a procedural language (Peter Eisentraut)
</span>
<span class="application">pg_dump</span>の手続き言語の初期権限のための問い合わせのタイプミスを修正しました。
(Peter Eisentraut)
     </p><p>
<span class="original">
      This resulted in &lt;application&gt;pg_dump&lt;/application&gt; always believing that the
      language had no initial privileges.  Since that's true for most
      procedural languages, ill effects from this bug are probably rare.
</span>
これにより<span class="application">pg_dump</span>は常に手続き言語は初期権限を持たないとみなしていました。
ほとんどの手続き言語はその通りであるため、このバグによる悪影響はおそらく稀です。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [f39ddd843] 2017-03-10 14:15:09 -0500
Branch: REL9_6_STABLE [4cdd81d90] 2017-03-10 14:15:09 -0500
Branch: REL9_5_STABLE [88f3743cb] 2017-03-10 14:15:09 -0500
Branch: REL9_4_STABLE [64d132c29] 2017-03-10 14:15:09 -0500
Branch: REL9_3_STABLE [0c0a95c2f] 2017-03-10 14:15:09 -0500
Branch: REL9_2_STABLE [e6d2ba419] 2017-03-10 14:15:09 -0500
</span><p>
<span class="original">
      Avoid emitting an invalid list file in &lt;literal&gt;pg_restore -l&lt;/literal&gt;
      when SQL object names contain newlines (Tom Lane)
</span>
<code class="literal">pg_restore -l</code>で、SQLオブジェクト名に改行が含まれるときに無効なリストファイルが出力されるのを回避しました。
(Tom Lane)
     </p><p>
<span class="original">
      Replace newlines by spaces, which is sufficient to make the output
      valid for &lt;literal&gt;pg_restore -L&lt;/literal&gt;'s purposes.
</span>
改行を空白で置き換えました。出力を<code class="literal">pg_restore -L</code>の用途に使えるようにするにはこれで十分です。
     </p></li><li class="listitem"><span class="original">
Author: Stephen Frost &lt;sfrost@snowman.net&gt;
Branch: master [ff992c074] 2017-03-06 17:03:57 -0500
Branch: REL9_6_STABLE [65a3f233b] 2017-03-06 17:04:06 -0500
Branch: REL9_5_STABLE [6be8647f7] 2017-03-06 17:04:13 -0500
Branch: REL9_4_STABLE [93598898c] 2017-03-06 17:04:22 -0500
Branch: REL9_3_STABLE [7f831f09b] 2017-03-06 17:04:29 -0500
Branch: REL9_2_STABLE [e864cd25b] 2017-03-06 17:04:55 -0500
</span><p>
<span class="original">
      Fix &lt;application&gt;pg_upgrade&lt;/application&gt; to transfer comments and security labels
      attached to &lt;quote&gt;large objects&lt;/quote&gt; (blobs) (Stephen Frost)
</span>
<span class="quote">「<span class="quote">ラージオブジェクト</span>」</span>(BLOB)に付けられたコメントとセキュリティラベルを移行するように<span class="application">pg_upgrade</span>を修正しました。
(Stephen Frost)
     </p><p>
<span class="original">
      Previously, blobs were correctly transferred to the new database, but
      any comments or security labels attached to them were lost.
</span>
これまで、ラージオブジェクトは新データベースに正しく移行されていましたが、それに付加されたコメントとセキュリティラベルが失われていました。
     </p></li><li class="listitem"><span class="original">
Author: Noah Misch &lt;noah@leadboat.com&gt;
Branch: master [944a026b4] 2017-03-12 19:35:31 -0400
Branch: REL9_6_STABLE [08c6d42c8] 2017-03-12 19:35:49 -0400
Branch: REL9_5_STABLE [d0e5ac736] 2017-03-12 19:35:57 -0400
Branch: REL9_4_STABLE [4b2669ada] 2017-03-12 19:36:06 -0400
Branch: REL9_3_STABLE [e03c6d93b] 2017-03-12 19:36:15 -0400
Branch: REL9_2_STABLE [0276da5eb] 2017-03-12 19:36:28 -0400
</span><p>
<span class="original">
      Improve error handling
      in &lt;filename&gt;contrib/adminpack&lt;/filename&gt;'s &lt;function&gt;pg_file_write()&lt;/function&gt;
      function (Noah Misch)
</span>
<code class="filename">contrib/adminpack</code>の<code class="function">pg_file_write()</code>関数でエラー処理を改善しました。
(Noah Misch)
     </p><p>
<span class="original">
      Notably, it failed to detect errors reported
      by &lt;function&gt;fclose()&lt;/function&gt;.
</span>
特に<code class="function">fclose()</code>から報告されたエラーを検知していませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Joe Conway &lt;mail@joeconway.com&gt;
Branch: master [cd1e23e93] 2017-03-11 13:32:18 -0800
Branch: REL9_6_STABLE [8469923f3] 2017-03-11 13:32:26 -0800
Branch: REL9_5_STABLE [82f3792a4] 2017-03-11 13:32:40 -0800
Branch: REL9_4_STABLE [166dfb3a9] 2017-03-11 13:33:14 -0800
Branch: REL9_3_STABLE [f6cfc14e5] 2017-03-11 13:33:22 -0800
Branch: REL9_2_STABLE [c4613c3f4] 2017-03-11 13:33:30 -0800
</span><p>
<span class="original">
      In &lt;filename&gt;contrib/dblink&lt;/filename&gt;, avoid leaking the previous unnamed
      connection when establishing a new unnamed connection (Joe Conway)
</span>
<code class="filename">contrib/dblink</code>で新たな無名接続を確立するときに、前の無名接続がリークするのを回避しました。
(Joe Conway)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [9e43e8714] 2017-02-22 15:04:26 -0500
Branch: REL9_6_STABLE [16500d227] 2017-02-22 15:04:07 -0500
Branch: REL9_5_STABLE [513c9f9de] 2017-02-22 15:04:07 -0500
Branch: REL9_4_STABLE [98755681a] 2017-02-22 15:04:07 -0500
Branch: REL9_3_STABLE [53b5a8c13] 2017-02-22 15:04:07 -0500
Branch: master [1dffabed4] 2017-04-14 14:52:21 -0400
Branch: REL9_6_STABLE [d51279433] 2017-04-14 14:52:03 -0400
Branch: REL9_5_STABLE [9b48ce377] 2017-04-14 14:52:03 -0400
Branch: REL9_4_STABLE [e0eda580d] 2017-04-14 14:52:03 -0400
Branch: REL9_3_STABLE [fad06b287] 2017-04-14 14:52:03 -0400
Branch: master [6cfaffc0d] 2017-04-13 17:18:35 -0400
Branch: REL9_6_STABLE [a70b18b89] 2017-04-13 17:18:35 -0400
Branch: REL9_5_STABLE [67665a71c] 2017-04-13 17:18:35 -0400
Branch: REL9_4_STABLE [b179684c7] 2017-04-13 17:18:35 -0400
Branch: REL9_3_STABLE [5be58cc89] 2017-04-13 17:18:35 -0400
</span><p>
<span class="original">
      Fix &lt;filename&gt;contrib/pg_trgm&lt;/filename&gt;'s extraction of trigrams from regular
      expressions (Tom Lane)
</span>
<code class="filename">contrib/pg_trgm</code>の正規表現からのトライグラム抽出を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      In some cases it would produce a broken data structure that could never
      match anything, leading to GIN or GiST indexscans that use a trigram
      index not finding any matches to the regular expression.
</span>
場合によっては、何にも決してマッチしない壊れたデータ構造を生み出し、トライグラムインデックスを使うGINまたはGiSTのインデックススキャンが正規表現へのマッチを何も見つけられない結果になります。
     </p></li><li class="listitem"><span class="original">
Author: Peter Eisentraut &lt;peter_e@gmx.net&gt;
Branch: master [332bec1e6] 2017-04-24 22:50:07 -0400
Branch: REL9_6_STABLE [86e640a69] 2017-04-26 09:14:21 -0400
</span><p>
<span class="original">
      In &lt;filename&gt;contrib/postgres_fdw&lt;/filename&gt;, allow join conditions that
      contain shippable extension-provided functions to be pushed to the
      remote server (David Rowley, Ashutosh Bapat)
</span>
<code class="filename">contrib/postgres_fdw</code>で、送出可能な拡張で提供される関数を含む結合条件をリモートサーバにプッシュできるようにしました。
(David Rowley, Ashutosh Bapat)
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [14722c69f] 2017-05-05 12:38:29 -0300
Branch: REL9_6_STABLE [19a403378] 2017-05-05 12:05:34 -0300
Branch: REL9_5_STABLE [adfad4222] 2017-05-05 12:05:34 -0300
Branch: REL9_4_STABLE [41ba2ca08] 2017-05-05 12:05:34 -0300
Branch: REL9_3_STABLE [f692583dd] 2017-05-05 12:05:34 -0300
Branch: REL9_2_STABLE [992e581bf] 2017-05-05 12:05:34 -0300
</span><p>
<span class="original">
      Support Tcl 8.6 in MSVC builds (&amp;Aacute;lvaro Herrera)
</span>
MSVCビルドでTcl 8.6に対応しました。
(Álvaro Herrera)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [e18b2c480] 2017-04-30 15:13:51 -0400
Branch: REL9_6_STABLE [6872d96a3] 2017-04-30 15:14:06 -0400
Branch: REL9_5_STABLE [4d4d8fa77] 2017-04-30 15:14:11 -0400
Branch: REL9_4_STABLE [96cad6f24] 2017-04-30 15:14:15 -0400
Branch: REL9_3_STABLE [f8cf9719d] 2017-04-30 15:14:20 -0400
Branch: REL9_2_STABLE [54aeb8d3e] 2017-04-30 15:14:24 -0400
Branch: master [a54d5875f] 2017-05-07 12:33:12 -0400
Branch: REL9_6_STABLE [fab2d0d7f] 2017-05-07 12:33:18 -0400
Branch: REL9_5_STABLE [74e747fbd] 2017-05-07 12:33:22 -0400
Branch: REL9_4_STABLE [e829385f5] 2017-05-07 12:33:27 -0400
Branch: REL9_3_STABLE [9e5f3d013] 2017-05-07 12:33:31 -0400
Branch: REL9_2_STABLE [da55df018] 2017-05-07 12:33:35 -0400
</span><p>
<span class="original">
      Sync our copy of the timezone library with IANA release tzcode2017b
      (Tom Lane)
</span>
私たちのタイムゾーンライブラリのコピーをIANA release tzcode2017bに同期しました。
(Tom Lane)
     </p><p>
<span class="original">
      This fixes a bug affecting some DST transitions in January 2038.
</span>
これは、2038年1月の一部の夏時間遷移に影響するバグを修正します。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [74a20d0ab] 2017-05-01 11:53:11 -0400
Branch: REL9_6_STABLE [1fdc3f6e8] 2017-05-01 11:53:42 -0400
Branch: REL9_5_STABLE [9a8cc157c] 2017-05-01 11:53:49 -0400
Branch: REL9_4_STABLE [1c8862346] 2017-05-01 11:53:56 -0400
Branch: REL9_3_STABLE [dc93cafca] 2017-05-01 11:54:02 -0400
Branch: REL9_2_STABLE [c96ccc40e] 2017-05-01 11:54:08 -0400
</span><p>
<span class="original">
      Update time zone data files to &lt;application&gt;tzdata&lt;/application&gt; release 2017b
      for DST law changes in Chile, Haiti, and Mongolia, plus historical
      corrections for Ecuador, Kazakhstan, Liberia, and Spain.
      Switch to numeric abbreviations for numerous time zones in South
      America, the Pacific and Indian oceans, and some Asian and Middle
      Eastern countries.
</span>
タイムゾーンデータファイルを<span class="application">tzdata</span> release 2017bに更新しました。チリ、ハイチ、モンゴルの夏時間法の変更、エクアドル、カザフスタン、リベリア、スペインの歴史的修正が含まれます。
南米、太平洋、インド洋、および、一部アジア・中東の国々における多数のタイムゾーンを、数字による省略形に切り替えました。
     </p><p>
<span class="original">
      The IANA time zone database previously provided textual abbreviations
      for all time zones, sometimes making up abbreviations that have little
      or no currency among the local population.  They are in process of
      reversing that policy in favor of using numeric UTC offsets in zones
      where there is no evidence of real-world use of an English
      abbreviation.  At least for the time being, &lt;productname&gt;PostgreSQL&lt;/productname&gt;
      will continue to accept such removed abbreviations for timestamp input.
      But they will not be shown in the &lt;structname&gt;pg_timezone_names&lt;/structname&gt;
      view nor used for output.
</span>
IANAタイムゾーンデータベースはこれまで全てのタイムゾーンについて文字による省略形を提供しましたが、地元の人々の間でほとんど、あるいは全く通用していない省略形をしばしば作成していました。
IANAは英語の省略形が現実に使われている形跡がないゾーンにおいてはUTCオフセット数値を使うことを選ぶという方針に転換しようとしてるところです。
少なくともしばらくの間、<span class="productname">PostgreSQL</span>はタイムスタンプの入力に、このような削除された省略形を引き続き受け入れます。
しかし、それらは<code class="structname">pg_timezone_names</code>ビューには現れず、出力にも使用されなくなります。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [d4e59c552] 2017-05-07 11:57:41 -0400
Branch: REL9_6_STABLE [f75472817] 2017-05-07 11:57:41 -0400
Branch: REL9_5_STABLE [2f66002df] 2017-05-07 11:57:41 -0400
Branch: REL9_4_STABLE [62a288312] 2017-05-07 11:57:41 -0400
Branch: REL9_3_STABLE [5971accd8] 2017-05-07 11:57:41 -0400
Branch: REL9_2_STABLE [82e7d3dfd] 2017-05-07 11:57:41 -0400
</span><p>
<span class="original">
      Use correct daylight-savings rules for POSIX-style time zone names
      in MSVC builds (David Rowley)
</span>
MSVC ビルドにおいて、POSIX形式のタイムゾーン名に対して正しい夏時間規則を使用するようにしました。
(David Rowley)
     </p><p>
<span class="original">
      The Microsoft MSVC build scripts neglected to install
      the &lt;filename&gt;posixrules&lt;/filename&gt; file in the timezone directory tree.
      This resulted in the timezone code falling back to its built-in
      rule about what DST behavior to assume for a POSIX-style time zone
      name.  For historical reasons that still corresponds to the DST rules
      the USA was using before 2007 (i.e., change on first Sunday in April
      and last Sunday in October).  With this fix, a POSIX-style zone name
      will use the current and historical DST transition dates of
      the &lt;literal&gt;US/Eastern&lt;/literal&gt; zone.  If you don't want that, remove
      the &lt;filename&gt;posixrules&lt;/filename&gt; file, or replace it with a copy of some
      other zone file (see &lt;xref linkend="datatype-timezones"/&gt;).  Note that
      due to caching, you may need to restart the server to get such changes
      to take effect.
</span>
MicrosoftのMSVCビルドスクリプトは<code class="filename">posixrules</code>ファイルをタイムゾーンディレクトリツリーにインストールするのを怠っていました。
この結果、POSIX形式のタイムゾーン名に対し想定される夏時間の振る舞いについて、タイムゾーンコードがビルトインの規則に退行してしまっていました。
歴史的な理由により、その組み込み規則は、米国が2007年より前に使っていた夏時間規則（すなわち、4月最初の日曜日と 10月最終の日曜日の変更）に引き続き対応しています。
この修正にともない、POSIX形式のゾーン名は<code class="literal">US/Eastern</code>ゾーンの現在および歴史的な夏時間遷移日を使います。
そのようにしたくない場合には、<code class="filename">posixrules</code>ファイルを削除するか、他のゾーンファイルのコピーで置き換えてください（<a class="xref" href="datatype-datetime.html#DATATYPE-TIMEZONES" title="8.5.3. 時間帯">8.5.3</a>参照）。
キャッシュ利用のため、このような変更を反映させるにはサーバの再起動が必要であることに注意してください。
     </p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-9-6-4.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-9-6-2.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">E.17. リリース9.6.4 </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> E.19. リリース9.6.2</td></tr></table></div></body></html>