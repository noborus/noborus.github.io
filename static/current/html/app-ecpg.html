<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ecpg</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="app-dropuser.html" title="dropuser" /><link rel="next" href="app-pgbasebackup.html" title="pg_basebackup" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.5文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="reference-client.html" title="PostgreSQLクライアントアプリケーション">PostgreSQLクライアントアプリケーション</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 11.5 &#10;                      app-ecpg.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="app-dropuser.html" title="dropuser">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="reference-client.html" title="PostgreSQLクライアントアプリケーション">上へ</a></td><td width="60%" align="center"><span class="application">ecpg</span></td><td width="20%" align="right"> <a accesskey="n" href="app-pgbasebackup.html" title="pg_basebackup">次へ</a></td></tr></table><hr /></div><div class="refentry" id="APP-ECPG"><div class="titlepage"></div><a id="id-1.9.4.8.1" class="indexterm"></a><div class="refnamediv"><h2><span class="refentrytitle"><span class="application">ecpg</span></span></h2><p><span class="application">ecpg</span><span class="original">
  &lt;refpurpose&gt;embedded SQL C preprocessor&lt;/refpurpose&gt;
</span> — 埋め込みSQL用Cプリプロセッサ</p></div><div class="refsynopsisdiv"><h2>概要</h2><div class="cmdsynopsis"><p id="id-1.9.4.8.4.1"><code class="command">ecpg</code> [<em class="replaceable"><code>option</code></em>...]  <em class="replaceable"><code>file</code></em>... </p></div></div><div class="refsect1" id="APP-ECPG-DESCRIPTION"><h2>説明</h2><span class="original">
  &lt;title&gt;Description&lt;/title&gt;
</span><p>
<span class="original">
   &lt;command&gt;ecpg&lt;/command&gt; is the embedded SQL preprocessor for C
   programs.  It converts C programs with embedded SQL statements to
   normal C code by replacing the SQL invocations with special
   function calls.  The output files can then be processed with any C
   compiler tool chain.
</span>
<code class="command">ecpg</code>は、Cプログラム用の埋め込みSQLプリプロセッサです。
SQL呼び出しを特別な関数呼び出しに置き換えることによって、埋め込みSQL文を含むCプログラムを、通常のCコードに変換します。
これにより、出力ファイルは、任意のCコンパイラツールを使用して処理することができます。
  </p><p>
<span class="original">
   &lt;command&gt;ecpg&lt;/command&gt; will convert each input file given on the
   command line to the corresponding C output file.  Input files
   preferably have the extension &lt;filename&gt;.pgc&lt;/filename&gt;.
   The extension will be replaced by &lt;filename&gt;.c&lt;/filename&gt; to
   determine the output file name.
   The output file name can also be overridden using the
   &lt;option&gt;-o&lt;/option&gt; option.
</span>
<code class="command">ecpg</code>は、コマンドラインで指定される各入力ファイルを対応するCの出力ファイルに変換します。
入力ファイルは<code class="filename">.pgc</code>という拡張子であることが望ましいです。
出力ファイル名の決定にあたり、拡張子が<code class="filename">.c</code>に置き換えられます。
出力ファイル名は<code class="option">-o</code>オプションによっても指定でき、こちらが優先します。
  </p><p>
<span class="original">
   This reference page does not describe the embedded SQL language.
   See &lt;xref linkend="ecpg"/&gt; for more information on that topic.
</span>
このマニュアルページでは埋め込みSQL言語については説明しません。
<a class="xref" href="ecpg.html" title="第36章 ECPG - C言語による埋め込みSQL">第36章</a>を参照してください。
  </p></div><div class="refsect1" id="id-1.9.4.8.6"><h2>オプション</h2><span class="original">
  &lt;title&gt;Options&lt;/title&gt;
</span><p>
<span class="original">
   &lt;command&gt;ecpg&lt;/command&gt; accepts the following command-line
   arguments:
</span>
   <code class="command">ecpg</code>は、以下のコマンドライン引数を受け付けます。

   </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-c</code></span></dt><dd><p>
<span class="original">
       Automatically generate certain C code from SQL code.  Currently, this
       works for &lt;literal&gt;EXEC SQL TYPE&lt;/literal&gt;.
</span>
SQLコードから有効なCコードを自動的に生成します。
現在、このオプションは<code class="literal">EXEC SQL TYPE</code>に対して使用できます。
      </p></dd><dt><span class="term"><code class="option">-C <em class="replaceable"><code>mode</code></em></code></span></dt><dd><p>
<span class="original">
       Set a compatibility mode.  &lt;replaceable&gt;mode&lt;/replaceable&gt; can
       be &lt;literal&gt;INFORMIX&lt;/literal&gt;,
       &lt;literal&gt;INFORMIX_SE&lt;/literal&gt;, or &lt;literal&gt;ORACLE&lt;/literal&gt;.
</span>
互換モードを設定します。
<em class="replaceable"><code>mode</code></em>は<code class="literal">INFORMIX</code>、<code class="literal">INFORMIX_SE</code>、<code class="literal">ORACLE</code>のどれかを取ることができます。
      </p></dd><dt><span class="term"><code class="option">-D <em class="replaceable"><code>symbol</code></em></code></span></dt><dd><p>
<span class="original">
       Define a C preprocessor symbol.
</span>
Cプリプロセッサのシンボルを定義します。
      </p></dd><dt><span class="term"><code class="option">-i</code></span></dt><dd><p>
<span class="original">
       Parse system include files as well.
</span>
同様にシステムインクルードファイルも解析します。
      </p></dd><dt><span class="term"><code class="option">-I <em class="replaceable"><code>directory</code></em></code></span></dt><dd><p>
<span class="original">
       Specify an additional include path, used to find files included
       via &lt;literal&gt;EXEC SQL INCLUDE&lt;/literal&gt;.  Defaults are
       &lt;filename&gt;.&lt;/filename&gt; (current directory),
       &lt;filename&gt;/usr/local/include&lt;/filename&gt;, the
       &lt;productname&gt;PostgreSQL&lt;/productname&gt; include directory which
       is defined at compile time (default:
       &lt;filename&gt;/usr/local/pgsql/include&lt;/filename&gt;), and
       &lt;filename&gt;/usr/include&lt;/filename&gt;, in that order.
</span>
追加のインクルード用パスを指定します。
これは、<code class="literal">EXEC SQL INCLUDE</code>を使用してインクルードされるファイルを検索する際に使用されます。
デフォルトでは順に、<code class="filename">.</code>（カレントディレクトリ）、<code class="filename">/usr/local/include</code>、コンパイル時に定義される<span class="productname">PostgreSQL</span>のインクルードディレクトリ（デフォルトでは<code class="filename">/usr/local/pgsql/include</code>）、<code class="filename">/usr/include</code>です。
      </p></dd><dt><span class="term"><code class="option">-o <em class="replaceable"><code>filename</code></em></code></span></dt><dd><p>
<span class="original">
       Specifies that &lt;command&gt;ecpg&lt;/command&gt; should write all
       its output to the given &lt;replaceable&gt;filename&lt;/replaceable&gt;.
</span>
<code class="command">ecpg</code>が全ての出力を<em class="replaceable"><code>filename</code></em>に書き込むことを指定します。
      </p></dd><dt><span class="term"><code class="option">-r <em class="replaceable"><code>option</code></em></code></span></dt><dd><p>
<span class="original">
       Selects run-time behavior.  &lt;replaceable&gt;Option&lt;/replaceable&gt; can be
       one of the following:
</span>
実行時の動作を選択します。
以下のいずれかを<em class="replaceable"><code>option</code></em>として取ることができます。
       </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">no_indicator</code></span></dt><dd><p>
<span class="original">
         Do not use indicators but instead use special values to represent
         null values. Historically there have been databases using this approach.
</span>
指示子を使用せずにNULL値を表す特殊な値を使用します。
歴史的にこの方式を使用したデータベースが存在します。
         </p></dd><dt><span class="term"><code class="option">prepare</code></span></dt><dd><p>
<span class="original">
         Prepare all statements before using them. Libecpg will keep a cache of
         prepared statements and reuse a statement if it gets executed again. If the
         cache runs full, libecpg will free the least used statement.
</span>
すべての文を使用する前に準備(プリペア)します。
libecpgはプリペアド文のキャッシュを保持し、再実行される場合に文を再利用します。
キャッシュが満杯になった場合、libecpgは最も使用されていない文を解放します。
         </p></dd><dt><span class="term"><code class="option">questionmarks</code></span></dt><dd><p>
<span class="original">
         Allow question mark as placeholder for compatibility reasons.
         This used to be the default long ago.
</span>
互換性のためにクエスチョンマークをプレースホルダとして許します。
これは大昔にデフォルトでした。
         </p></dd></dl></div></dd><dt><span class="term"><code class="option">-t</code></span></dt><dd><p>
<span class="original">
       Turn on autocommit of transactions. In this mode, each SQL command is
       automatically committed unless it is inside an explicit
       transaction block. In the default mode, commands are committed
       only when &lt;command&gt;EXEC SQL COMMIT&lt;/command&gt; is issued.
</span>
トランザクションの自動コミットを有効にします。
このモードでは、各SQLコマンドは明示的なトランザクションブロックの内部にない限り、自動的にコミットされます。
デフォルトのモードでは、<code class="command">EXEC SQL COMMIT</code>が発行された時にのみコマンドがコミットされます。
      </p></dd><dt><span class="term"><code class="option">-v</code></span></dt><dd><p>
<span class="original">
       Print additional information including the version and the
       "include" path.
</span>
バージョンやインクルード用パスなどの補足情報を表示します。
      </p></dd><dt><span class="term"><code class="option">--version</code></span></dt><dd><p>
<span class="original">
       Print the &lt;application&gt;ecpg&lt;/application&gt; version and exit.
</span>
<span class="application">ecpg</span>のバージョンを表示し、終了します。
      </p></dd><dt><span class="term"><code class="option">-?</code><br /></span><span class="term"><code class="option">--help</code></span></dt><dd><p>
<span class="original">
       Show help about &lt;application&gt;ecpg&lt;/application&gt; command line
       arguments, and exit.
</span>
<span class="application">ecpg</span>のコマンドライン引数の使用方法を表示し、終了します。
      </p></dd></dl></div><p>
  </p></div><div class="refsect1" id="id-1.9.4.8.7"><h2>注釈</h2><span class="original">
  &lt;title&gt;Notes&lt;/title&gt;
</span><p>
<span class="original">
   When compiling the preprocessed C code files, the compiler needs to
   be able to find the &lt;application&gt;ECPG&lt;/application&gt; header files in the
   &lt;productname&gt;PostgreSQL&lt;/productname&gt; include directory.  Therefore, you might
   have to use the &lt;option&gt;-I&lt;/option&gt; option when invoking the compiler
   (e.g., &lt;literal&gt;-I/usr/local/pgsql/include&lt;/literal&gt;).
</span>
前処理されたCコードファイルをコンパイルする際、コンパイラが<span class="productname">PostgreSQL</span>のインクルードディレクトリ内にある<span class="application">ECPG</span>ヘッダファイルを検索できるようにしなければなりません。
そのため、コンパイラの呼び出し時に、<code class="option">-I</code>オプションを使用しなければならない可能性があります（例：<code class="literal">-I/usr/local/pgsql/include</code>）。
  </p><p>
<span class="original">
   Programs using C code with embedded SQL have to be linked against
   the &lt;filename&gt;libecpg&lt;/filename&gt; library, for example using the
   linker options &lt;literal&gt;-L/usr/local/pgsql/lib -lecpg&lt;/literal&gt;.
</span>
SQLが埋め込まれたCプログラムには、リンカオプション<code class="literal">-L/usr/local/pgsql/lib -lecpg</code>を使用するなどして、<code class="filename">libecpg</code>ライブラリをリンクする必要があります。
  </p><p>
<span class="original">
   The value of either of these directories that is appropriate for
   the installation can be found out using &lt;xref
   linkend="app-pgconfig"/&gt;.
</span>
使用するシステムにおいて上記の2つに対応するディレクトリを調べるには、<a class="xref" href="app-pgconfig.html" title="pg_config"><span class="refentrytitle">pg_config</span></a>を使用します。
  </p></div><div class="refsect1" id="id-1.9.4.8.8"><h2>例</h2><span class="original">
  &lt;title&gt;Examples&lt;/title&gt;
</span><p>
<span class="original">
   If you have an embedded SQL C source file named
   &lt;filename&gt;prog1.pgc&lt;/filename&gt;, you can create an executable
   program using the following sequence of commands:
</span>
埋め込みSQLを使用した<code class="filename">prog1.pgc</code>というCソースファイルがある場合、次のコマンドを順番に実行すれば、実行可能プログラムを作成することができます。
</p><pre class="programlisting">
ecpg prog1.pgc
cc -I/usr/local/pgsql/include -c prog1.c
cc -o prog1 prog1.o -L/usr/local/pgsql/lib -lecpg
</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="app-dropuser.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="reference-client.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="app-pgbasebackup.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top"><span class="application">dropuser</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> pg_basebackup</td></tr></table></div></body></html>