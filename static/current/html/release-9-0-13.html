<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.145. リリース9.0.13</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-9-0-14.html" title="E.144. リリース9.0.14" /><link rel="next" href="release-9-0-12.html" title="E.146. リリース9.0.12" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.1文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 11.1 &#10;                      release-9-0-13.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-9-0-14.html" title="E.144. リリース9.0.14">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.145. リリース9.0.13</td><td width="20%" align="right"> <a accesskey="n" href="release-9-0-12.html" title="E.146. リリース9.0.12">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-9-0-13"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.145. リリース9.0.13</h2></div></div></div><span class="original">
  &lt;title&gt;Release 9.0.13&lt;/title&gt;
</span><p><span class="original">
  &lt;title&gt;Release date:&lt;/title&gt;
</span><strong>リリース日: </strong>2013-04-04</p><p>
<span class="original">
   This release contains a variety of fixes from 9.0.12.
   For information about new features in the 9.0 major release, see
   &lt;xref linkend="release-9-0"/&gt;.
</span>
このリリースは9.0.12に対し、各種不具合を修正したものです。
9.0メジャーリリースにおける新機能については、<a class="xref" href="release-9-0.html" title="E.158. リリース9.0">E.158</a>を参照してください。
  </p><div class="sect2" id="id-1.11.6.149.4"><div class="titlepage"><div><div><h3 class="title">E.145.1. バージョン9.0.13への移行</h3></div></div></div><span class="original">
   &lt;title&gt;Migration to Version 9.0.13&lt;/title&gt;
</span><p>
<span class="original">
    A dump/restore is not required for those running 9.0.X.
</span>
9.0.Xからの移行ではダンプ/リストアは不要です。
   </p><p>
<span class="original">
    However, this release corrects several errors in management of GiST
    indexes.  After installing this update, it is advisable to
    &lt;command&gt;REINDEX&lt;/command&gt; any GiST indexes that meet one or more of the
    conditions described below.
</span>
しかしながら、このリリースではGiSTインデックスの管理についていくつかの不具合を修正しています。
このアップデートをインストールした後、以下に記述する条件の1つ以上に該当するGiSTインデックスすべてについて、<code class="command">REINDEX</code>を実行することを推奨します。
   </p><p>
<span class="original">
    Also, if you are upgrading from a version earlier than 9.0.6,
    see &lt;xref linkend="release-9-0-6"/&gt;.
</span>
また、9.0.6よりも前のバージョンからアップグレードする場合は、<a class="xref" href="release-9-0-6.html" title="E.152. リリース9.0.6">E.152</a>を参照してください。
   </p></div><div class="sect2" id="id-1.11.6.149.5"><div class="titlepage"><div><div><h3 class="title">E.145.2. 変更点</h3></div></div></div><span class="original">
   &lt;title&gt;Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="original">
      Fix insecure parsing of server command-line switches (Mitsumasa
      Kondo, Kyotaro Horiguchi)
</span>
サーバのコマンド行スイッチについての安全でない解析を修正しました。(Mitsumasa Kondo、Kyotaro Horiguchi)
     </p><p>
<span class="original">
      A connection request containing a database name that begins with
      &lt;quote&gt;&lt;literal&gt;-&lt;/literal&gt;&lt;/quote&gt; could be crafted to damage or destroy
      files within the server's data directory, even if the request is
      eventually rejected.  (CVE-2013-1899)
</span>
<span class="quote">「<span class="quote"><code class="literal">-</code></span>」</span>で始まるデータベース名を含む接続要求に細工をすることで、例えその要求が最終的に拒絶された場合でも、サーバのデータディレクトリ内のファイルを損傷させる、あるいは破壊することが可能でした。(CVE-2013-1899)
     </p></li><li class="listitem"><p>
<span class="original">
      Reset OpenSSL randomness state in each postmaster child process
      (Marko Kreen)
</span>
OpenSSLの乱数の状態を、postmasterのそれぞれの子プロセスでリセットするようにしました。(Marko Kreen)
     </p><p>
<span class="original">
      This avoids a scenario wherein random numbers generated by
      &lt;filename&gt;contrib/pgcrypto&lt;/filename&gt; functions might be relatively easy for
      another database user to guess.  The risk is only significant when
      the postmaster is configured with &lt;varname&gt;ssl&lt;/varname&gt; = &lt;literal&gt;on&lt;/literal&gt;
      but most connections don't use SSL encryption.  (CVE-2013-1900)
</span>
<code class="filename">contrib/pgcrypto</code>関数によって生成された乱数が、他のデータベースユーザによって比較的推定しやすいという問題が、これにより回避されます。
この危険はpostmasterが<code class="varname">ssl</code> = <code class="literal">on</code>で構成されている時にのみ問題となりますが、ほとんどの接続ではSSL暗号化を利用していません。(CVE-2013-1900)
     </p></li><li class="listitem"><p>
<span class="original">
      Fix GiST indexes to not use &lt;quote&gt;fuzzy&lt;/quote&gt; geometric comparisons when
      it's not appropriate to do so (Alexander Korotkov)
</span>
GiSTインデックスで、<span class="quote">「<span class="quote">fuzzy</span>」</span>な幾何比較を使うのが適切でないときは、使わないようにしました。(Alexander Korotkov)
     </p><p>
<span class="original">
      The core geometric types perform comparisons using &lt;quote&gt;fuzzy&lt;/quote&gt;
      equality, but &lt;function&gt;gist_box_same&lt;/function&gt; must do exact comparisons,
      else GiST indexes using it might become inconsistent.  After installing
      this update, users should &lt;command&gt;REINDEX&lt;/command&gt; any GiST indexes on
      &lt;type&gt;box&lt;/type&gt;, &lt;type&gt;polygon&lt;/type&gt;, &lt;type&gt;circle&lt;/type&gt;, or &lt;type&gt;point&lt;/type&gt;
      columns, since all of these use &lt;function&gt;gist_box_same&lt;/function&gt;.
</span>
幾何データ型のコアでは<span class="quote">「<span class="quote">fuzzy</span>」</span>な同値性を利用して比較を行ないますが、<code class="function">gist_box_same</code>では正確な比較を行う必要があり、そうしなければ、それを利用するGiSTインデックスは一貫しないものになります。
このアップデートをインストールした後、<code class="type">box</code>、<code class="type">polygon</code>、<code class="type">circle</code>、<code class="type">point</code>型の列のすべてのGiSTインデックスについて<code class="command">REINDEX</code>を実行してください。
これらはいずれも<code class="function">gist_box_same</code>を使っています。
     </p></li><li class="listitem"><p>
<span class="original">
      Fix erroneous range-union and penalty logic in GiST indexes that use
      &lt;filename&gt;contrib/btree_gist&lt;/filename&gt; for variable-width data types, that is
      &lt;type&gt;text&lt;/type&gt;, &lt;type&gt;bytea&lt;/type&gt;, &lt;type&gt;bit&lt;/type&gt;, and &lt;type&gt;numeric&lt;/type&gt;
      columns (Tom Lane)
</span>
可変長のデータ型、つまり<code class="type">text</code>、<code class="type">bytea</code>、<code class="type">bit</code>、<code class="type">numeric</code>型の列で<code class="filename">contrib/btree_gist</code>を使うGiSTインデックスについて誤った範囲の結合と不正なロジックを修正しました。(Tom Lane)
     </p><p>
<span class="original">
      These errors could result in inconsistent indexes in which some keys
      that are present would not be found by searches, and also in useless
      index bloat.  Users are advised to &lt;command&gt;REINDEX&lt;/command&gt; such indexes
      after installing this update.
</span>
この誤りにより、存在するキーが検索で見つからないような一貫性のないインデックスが作成されたり、インデックスが無駄に大きくなることがありました。
このアップデートをインストールした後、そのようなインデックスについて<code class="command">REINDEX</code>を実行することを推奨します。
     </p></li><li class="listitem"><p>
<span class="original">
      Fix bugs in GiST page splitting code for multi-column indexes
      (Tom Lane)
</span>
複数列についてのインデックスで、GiSTページを分割するコードの不具合を修正しました。(Tom Lane)
     </p><p>
<span class="original">
      These errors could result in inconsistent indexes in which some keys
      that are present would not be found by searches, and also in indexes
      that are unnecessarily inefficient to search.  Users are advised to
      &lt;command&gt;REINDEX&lt;/command&gt; multi-column GiST indexes after installing this
      update.
</span>
この誤りにより、存在するキーが検索で見つからないような一貫性のないインデックスが作られることや、検索が非常に非効率になるインデックスが作られることがありました。
このアップデートをインストールした後、複数列についてのGiSTインデックスについて<code class="command">REINDEX</code>を実行することを推奨します。
     </p></li><li class="listitem"><p>
<span class="original">
      Fix &lt;function&gt;gist_point_consistent&lt;/function&gt;
      to handle fuzziness consistently (Alexander Korotkov)
</span>
<code class="function">gist_point_consistent</code>で曖昧さを一貫性のある方法で処理するようにしました。(Alexander Korotkov)
     </p><p>
<span class="original">
      Index scans on GiST indexes on &lt;type&gt;point&lt;/type&gt; columns would sometimes
      yield results different from a sequential scan, because
      &lt;function&gt;gist_point_consistent&lt;/function&gt; disagreed with the underlying
      operator code about whether to do comparisons exactly or fuzzily.
</span>
<code class="type">point</code>型の列のGiSTインデックスについてのインデックススキャンは、シーケンシャルスキャンとは異なる結果になる場合がありました。
これは、<code class="function">gist_point_consistent</code>と演算子のコードで、厳密な比較をするか、曖昧な比較をするかについて不一致があったからです。
     </p></li><li class="listitem"><p>
<span class="original">
      Fix buffer leak in WAL replay (Heikki Linnakangas)
</span>
WAL再生におけるバッファのリークを修正しました。(Heikki Linnakangas)
     </p><p>
<span class="original">
      This bug could result in &lt;quote&gt;incorrect local pin count&lt;/quote&gt; errors
      during replay, making recovery impossible.
</span>
この不具合により、再生中に<span class="quote">「<span class="quote">incorrect local pin count</span>」</span>のエラーが発生し、リカバリができなくなる場合がありました。
     </p></li><li class="listitem"><p>
<span class="original">
      Fix race condition in &lt;command&gt;DELETE RETURNING&lt;/command&gt; (Tom Lane)
</span>
<code class="command">DELETE RETURNING</code>での競合条件を修正しました。(Tom Lane)
     </p><p>
<span class="original">
      Under the right circumstances, &lt;command&gt;DELETE RETURNING&lt;/command&gt; could
      attempt to fetch data from a shared buffer that the current process
      no longer has any pin on.  If some other process changed the buffer
      meanwhile, this would lead to garbage &lt;literal&gt;RETURNING&lt;/literal&gt; output, or
      even a crash.
</span>
特定の条件下で、<code class="command">DELETE RETURNING</code>は現在のプロセスがもはや確保していない共有バッファからデータをフェッチすることがありました。
その間に他のプロセスがそのバッファを変更した場合、ゴミの値が<code class="literal">RETURNING</code>の出力となったり、あるいはクラッシュすることもありました。
     </p></li><li class="listitem"><p>
<span class="original">
      Fix infinite-loop risk in regular expression compilation (Tom Lane,
      Don Porter)
</span>
正規表現のコンパイルで無限ループになる可能性があるのを修正しました。(Tom Lane、Don Porter)
     </p></li><li class="listitem"><p>
<span class="original">
      Fix potential null-pointer dereference in regular expression compilation
      (Tom Lane)
</span>
正規表現のコンパイル時にNULLポインタから参照先を取得する可能性があるのを修正しました。(Tom Lane)
     </p></li><li class="listitem"><p>
<span class="original">
      Fix &lt;function&gt;to_char()&lt;/function&gt; to use ASCII-only case-folding rules where
      appropriate (Tom Lane)
</span>
<code class="function">to_char()</code>で、それが適切な場合、ASCIIのみの大文字変換規則を利用するように修正しました。(Tom Lane)
     </p><p>
<span class="original">
      This fixes misbehavior of some template patterns that should be
      locale-independent, but mishandled &lt;quote&gt;&lt;literal&gt;I&lt;/literal&gt;&lt;/quote&gt; and
      &lt;quote&gt;&lt;literal&gt;i&lt;/literal&gt;&lt;/quote&gt; in Turkish locales.
</span>
これにより、ロケールに依存すべきでないいくつかのテンプレートのパターンにおける誤った動作が修正されます。
トルコ語のロケールで<span class="quote">「<span class="quote"><code class="literal">I</code></span>」</span>と<span class="quote">「<span class="quote"><code class="literal">i</code></span>」</span>が正しく処理されていませんでした。
     </p></li><li class="listitem"><p>
<span class="original">
      Fix unwanted rejection of timestamp &lt;literal&gt;1999-12-31 24:00:00&lt;/literal&gt;
      (Tom Lane)
</span>
<code class="literal">1999-12-31 24:00:00</code>というタイムスタンプが理由もなく拒絶されていたのを修正しました。(Tom Lane)
     </p></li><li class="listitem"><p>
<span class="original">
      Fix logic error when a single transaction does &lt;command&gt;UNLISTEN&lt;/command&gt;
      then &lt;command&gt;LISTEN&lt;/command&gt; (Tom Lane)
</span>
単一のトランザクションが<code class="command">UNLISTEN</code>を実行し、その後<code class="command">LISTEN</code>を実行した場合のロジックの誤りを修正しました。(Tom Lane)
     </p><p>
<span class="original">
      The session wound up not listening for notify events at all, though it
      surely should listen in this case.
</span>
この場合、セッションは通知イベントを監視すべきですが、実際には全く監視しない状態になっていました。
     </p></li><li class="listitem"><p>
<span class="original">
      Remove useless &lt;quote&gt;picksplit doesn't support secondary split&lt;/quote&gt; log
      messages (Josh Hansen, Tom Lane)
</span>
<span class="quote">「<span class="quote">picksplit doesn't support secondary split</span>」</span>という不必要なログメッセージを削除しました。(Josh Hansen、Tom Lane)
     </p><p>
<span class="original">
      This message seems to have been added in expectation of code that was
      never written, and probably never will be, since GiST's default
      handling of secondary splits is actually pretty good.  So stop nagging
      end users about it.
</span>
このメッセージは何らかのコードを期待して追加されたように思われますが、そのコードは書かれませんでした。
また、GiSTによる二次的分割のデフォルト処理は実際には非常に良いので、そのコードは今後も書かれないでしょう。
そのため、エンドユーザにブツブツ言うのをやめることにしました。
     </p></li><li class="listitem"><p>
<span class="original">
      Fix possible failure to send a session's last few transaction
      commit/abort counts to the statistics collector (Tom Lane)
</span>
セッションの最後のいくつかのコミットとアボートの件数を統計情報コレクタに送信するのに失敗する可能性があるのを修正しました。(Tom Lane)
     </p></li><li class="listitem"><p>
<span class="original">
      Eliminate memory leaks in PL/Perl's &lt;function&gt;spi_prepare()&lt;/function&gt; function
      (Alex Hunsaker, Tom Lane)
</span>
PL/Perlの<code class="function">spi_prepare()</code>関数のメモリリークを修正しました。(Alex Hunsaker、Tom Lane)
     </p></li><li class="listitem"><p>
<span class="original">
      Fix &lt;application&gt;pg_dumpall&lt;/application&gt; to handle database names containing
      &lt;quote&gt;&lt;literal&gt;=&lt;/literal&gt;&lt;/quote&gt; correctly (Heikki Linnakangas)
</span>
<span class="application">pg_dumpall</span>でデータベース名に<span class="quote">「<span class="quote"><code class="literal">=</code></span>」</span>が含まれるものを正しく処理できるよう修正しました。(Heikki Linnakangas)
     </p></li><li class="listitem"><p>
<span class="original">
      Avoid crash in &lt;application&gt;pg_dump&lt;/application&gt; when an incorrect connection
      string is given (Heikki Linnakangas)
</span>
<span class="application">pg_dump</span>が不正な接続文字列が渡された時にクラッシュしないようにしました。(Heikki Linnakangas)
     </p></li><li class="listitem"><p>
<span class="original">
      Ignore invalid indexes in &lt;application&gt;pg_dump&lt;/application&gt; and
      &lt;application&gt;pg_upgrade&lt;/application&gt; (Michael Paquier, Bruce Momjian)
</span>
<span class="application">pg_dump</span>と<span class="application">pg_upgrade</span>で不正なインデックスを無視するようにしました。(Michael Paquier、Bruce Momjian)
     </p><p>
<span class="original">
      Dumping invalid indexes can cause problems at restore time, for example
      if the reason the index creation failed was because it tried to enforce
      a uniqueness condition not satisfied by the table's data.  Also, if the
      index creation is in fact still in progress, it seems reasonable to
      consider it to be an uncommitted DDL change, which
      &lt;application&gt;pg_dump&lt;/application&gt; wouldn't be expected to dump anyway.
      &lt;application&gt;pg_upgrade&lt;/application&gt; now also skips invalid indexes rather than
      failing.
</span>
不正なインデックスをダンプするとリストア時に問題が発生する可能性があります。
例えば、ユニーク条件を満たさないテーブルのデータに対してユニーク条件を強制したためにインデックス作成に失敗したような場合です。
また、インデックスの作成が実際にはまだ進行中の場合もありますが、このときはDDLによる更新がまだコミットされていないと考えるのが適当でしょうから、<span class="application">pg_dump</span>がダンプする必要はありません。
<span class="application">pg_upgrade</span>は不正なインデックスでエラーを起こす代わりに、それをスキップするようになります。
     </p></li><li class="listitem"><p>
<span class="original">
      Fix &lt;filename&gt;contrib/pg_trgm&lt;/filename&gt;'s &lt;function&gt;similarity()&lt;/function&gt; function
      to return zero for trigram-less strings (Tom Lane)
</span>
<code class="filename">contrib/pg_trgm</code>の<code class="function">similarity()</code>関数が、トライグラムのない文字列について0を返すよう修正しました。(Tom Lane)
     </p><p>
<span class="original">
      Previously it returned &lt;literal&gt;NaN&lt;/literal&gt; due to internal division by zero.
</span>
以前は内部でのゼロ割りにより<code class="literal">NaN</code>を返していました。
     </p></li><li class="listitem"><p>
<span class="original">
      Update time zone data files to &lt;application&gt;tzdata&lt;/application&gt; release 2013b
      for DST law changes in Chile, Haiti, Morocco, Paraguay, and some
      Russian areas.  Also, historical zone data corrections for numerous
      places.
</span>
時間帯データファイルを<span class="application">tzdata</span>リリース2013bに更新しました。
チリ、ハイチ、モロッコ、パラグアイ、およびロシアのいくつかの地域での夏時間の変更が含まれます。
また、数多くの場所での歴史的な地域データの修正が含まれます。
     </p><p>
<span class="original">
      Also, update the time zone abbreviation files for recent changes in
      Russia and elsewhere: &lt;literal&gt;CHOT&lt;/literal&gt;, &lt;literal&gt;GET&lt;/literal&gt;,
      &lt;literal&gt;IRKT&lt;/literal&gt;, &lt;literal&gt;KGT&lt;/literal&gt;, &lt;literal&gt;KRAT&lt;/literal&gt;, &lt;literal&gt;MAGT&lt;/literal&gt;,
      &lt;literal&gt;MAWT&lt;/literal&gt;, &lt;literal&gt;MSK&lt;/literal&gt;, &lt;literal&gt;NOVT&lt;/literal&gt;, &lt;literal&gt;OMST&lt;/literal&gt;,
      &lt;literal&gt;TKT&lt;/literal&gt;, &lt;literal&gt;VLAT&lt;/literal&gt;, &lt;literal&gt;WST&lt;/literal&gt;, &lt;literal&gt;YAKT&lt;/literal&gt;,
      &lt;literal&gt;YEKT&lt;/literal&gt; now follow their current meanings, and
      &lt;literal&gt;VOLT&lt;/literal&gt; (Europe/Volgograd) and &lt;literal&gt;MIST&lt;/literal&gt;
      (Antarctica/Macquarie) are added to the default abbreviations list.
</span>
また、時間帯の略称について、ロシアおよび他の地域での以下の最近の変更を反映しました。
<code class="literal">CHOT</code>、<code class="literal">GET</code>、<code class="literal">IRKT</code>、<code class="literal">KGT</code>、<code class="literal">KRAT</code>、<code class="literal">MAGT</code>、<code class="literal">MAWT</code>、<code class="literal">MSK</code>、<code class="literal">NOVT</code>、<code class="literal">OMST</code>、<code class="literal">TKT</code>、<code class="literal">VLAT</code>、<code class="literal">WST</code>、<code class="literal">YAKT</code>、<code class="literal">YEKT</code>については、それらの現在の意味に従います。
<code class="literal">VOLT</code> (Europe/Volgograd (ヨーロッパ/ヴォルゴグラード))および <code class="literal">MIST</code> (Antarctica/Macquarie (南極/マッコーリー島))をデフォルトの短縮名リストに追加しました。
     </p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-9-0-14.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-9-0-12.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">E.144. リリース9.0.14 </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> E.146. リリース9.0.12</td></tr></table></div></body></html>