<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.4. リリース 10.5</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-10-6.html" title="E.3. リリース 10.6" /><link rel="next" href="release-10-4.html" title="E.5. リリース10.4" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.1文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 11.1 &#10;                      release-10-5.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-10-6.html" title="E.3. リリース 10.6">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.4. リリース 10.5</td><td width="20%" align="right"> <a accesskey="n" href="release-10-4.html" title="E.5. リリース10.4">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-10-5"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.4. リリース 10.5</h2></div></div></div><span class="original">
  &lt;title&gt;Release 10.5&lt;/title&gt;
</span><p><span class="original">
  &lt;title&gt;Release date:&lt;/title&gt;
</span><strong>リリース日: </strong>2018-08-09</p><p>
<span class="original">
   This release contains a variety of fixes from 10.4.
   For information about new features in major release 10, see
   &lt;xref linkend="release-10"/&gt;.
</span>
このリリースは10.4に対し、様々な不具合を修正したものです。
10メジャーリリースにおける新機能については、<a class="xref" href="release-10.html" title="E.9. リリース10">E.9</a>を参照してください。
  </p><div class="sect2" id="id-1.11.6.8.4"><div class="titlepage"><div><div><h3 class="title">E.4.1. バージョン10.5への移行</h3></div></div></div><span class="original">
   &lt;title&gt;Migration to Version 10.5&lt;/title&gt;
</span><p>
<span class="original">
    A dump/restore is not required for those running 10.X.
</span>
10.Xからの移行ではダンプ/リストアは不要です。
   </p><p>
<span class="original">
    However, if you are upgrading from a version earlier than 10.4,
    see &lt;xref linkend="release-10-4"/&gt;.
</span>
しかしながら、10.4よりも前のバージョンからアップグレードする場合には、<a class="xref" href="release-10-4.html" title="E.5. リリース10.4">E.5</a>を参照してください。
   </p></div><div class="sect2" id="id-1.11.6.8.5"><div class="titlepage"><div><div><h3 class="title">E.4.2. 変更点</h3></div></div></div><span class="original">
   &lt;title&gt;Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [d1c6a14ba] 2018-08-06 10:53:35 -0400
Branch: REL_11_STABLE [f6f735f78] 2018-08-06 10:53:35 -0400
Branch: REL_10_STABLE [ab5400469] 2018-08-06 10:53:35 -0400
Branch: REL9_6_STABLE [a8094d0fe] 2018-08-06 10:53:35 -0400
Branch: REL9_5_STABLE [7aabfd1d8] 2018-08-06 10:53:35 -0400
Branch: REL9_4_STABLE [6de9766b8] 2018-08-06 10:53:35 -0400
Branch: REL9_3_STABLE [243de06be] 2018-08-06 10:53:35 -0400
</span><p>
<span class="original">
      Fix failure to reset &lt;application&gt;libpq&lt;/application&gt;'s state fully
      between connection attempts (Tom Lane)
</span>
接続試行の間で<span class="application">libpq</span>の状態の完全リセットに失敗していたものを修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      An unprivileged user of &lt;filename&gt;dblink&lt;/filename&gt;
      or &lt;filename&gt;postgres_fdw&lt;/filename&gt; could bypass the checks intended
      to prevent use of server-side credentials, such as
      a &lt;filename&gt;~/.pgpass&lt;/filename&gt; file owned by the operating-system
      user running the server.  Servers allowing peer authentication on
      local connections are particularly vulnerable.  Other attacks such
      as SQL injection into a &lt;filename&gt;postgres_fdw&lt;/filename&gt; session
      are also possible.
      Attacking &lt;filename&gt;postgres_fdw&lt;/filename&gt; in this way requires the
      ability to create a foreign server object with selected connection
      parameters, but any user with access to &lt;filename&gt;dblink&lt;/filename&gt;
      could exploit the problem.
      In general, an attacker with the ability to select the connection
      parameters for a &lt;application&gt;libpq&lt;/application&gt;-using application
      could cause mischief, though other plausible attack scenarios are
      harder to think of.
      Our thanks to Andrew Krasichkov for reporting this issue.
      (CVE-2018-10915)
</span>
<code class="filename">dblink</code>や<code class="filename">postgres_fdw</code>の権限の無いユーザが、サーバ実行OSユーザが所有する<code class="filename">~/.pgpass</code>ファイルなどのサーバ側認証情報を利用するのを防ぐ狙いの検査をすり抜けるおそれがありました。
ローカル接続上のpeer認証を許可しているサーバは特に攻撃されやすいです。
<code class="filename">postgres_fdw</code>セッションに対するSQLインジェクションなどの他の攻撃も可能です。
この方法による<code class="filename">postgres_fdw</code>への攻撃には指定の接続パラメータで外部サーバオブジェクトを作れることが必要ですが、<code class="filename">dblink</code>に対してはアクセス可能な任意のユーザがこの問題を悪用できます。
他のありえそうな攻撃シナリオは考えにくいですが、一般には<span class="application">libpq</span>を使ったアプリケーションに対して接続パラメータを指定できる攻撃者は悪さをすることが可能です。
この問題を報告したAndrew Krasichkovに感謝します。
(CVE-2018-10915)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [b8a1247a3] 2018-08-04 19:38:58 -0400
Branch: REL_11_STABLE [e7154b6ac] 2018-08-04 19:38:58 -0400
Branch: REL_10_STABLE [f6a124d01] 2018-08-04 19:38:58 -0400
Branch: REL9_6_STABLE [b484bffe7] 2018-08-04 19:38:58 -0400
Branch: REL9_5_STABLE [5ad143cda] 2018-08-04 19:38:59 -0400
</span><p>
<span class="original">
      Fix &lt;literal&gt;INSERT ... ON CONFLICT UPDATE&lt;/literal&gt; through a view
      that isn't just &lt;literal&gt;SELECT * FROM ...&lt;/literal&gt;
      (Dean Rasheed, Amit Langote)
</span>
単純な<code class="literal">SELECT * FROM ...</code>でないビューへの<code class="literal">INSERT ... ON CONFLICT UPDATE</code>を修正しました。
(Dean Rasheed, Amit Langote)
     </p><p>
<span class="original">
      Erroneous expansion of an updatable view could lead to crashes
      or &lt;quote&gt;attribute ... has the wrong type&lt;/quote&gt; errors, if the
      view's &lt;literal&gt;SELECT&lt;/literal&gt; list doesn't match one-to-one with
      the underlying table's columns.
      Furthermore, this bug could be leveraged to allow updates of columns
      that an attacking user lacks &lt;literal&gt;UPDATE&lt;/literal&gt; privilege for,
      if that user has &lt;literal&gt;INSERT&lt;/literal&gt; and &lt;literal&gt;UPDATE&lt;/literal&gt;
      privileges for some other column(s) of the table.
      Any user could also use it for disclosure of server memory.
      (CVE-2018-10925)
</span>
ビューの<code class="literal">SELECT</code>リストが元テーブルの列と１対１対応していない場合、誤った更新可能ビューの展開がクラッシュや<span class="quote">「<span class="quote">attribute ... has the wrong type（属性...は誤ったデータ型です）</span>」</span>エラーをひき起こす可能性がありました。
さらに、このバグで攻撃者がテーブルに<code class="literal">INSERT</code>権限と他のいくつかの列に対する<code class="literal">UPDATE</code>権限を持つ場合に、対象列に<code class="literal">UPDATE</code>権限が無くともその列の更新を可能にできるおそれがありました。
また、任意ユーザがサーバメモリを露出させるのにこの障害を利用できます。
(CVE-2018-10925)
     </p></li><li class="listitem"><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master Release: REL_11_BR [a54e1f158] 2018-06-12 11:13:21 -0700
Branch: REL_10_STABLE [2ce64caaf] 2018-06-12 11:13:21 -0700
Branch: REL9_6_STABLE [6a46aba1c] 2018-06-12 11:13:21 -0700
Branch: REL9_5_STABLE [14b3ec6f3] 2018-06-12 11:13:21 -0700
Branch: REL9_4_STABLE [817f9f9a8] 2018-06-12 11:13:22 -0700
Branch: REL9_3_STABLE [9b9b622b2] 2018-06-12 11:13:22 -0700
</span><p>
<span class="original">
      Ensure that updates to the &lt;structfield&gt;relfrozenxid&lt;/structfield&gt;
      and &lt;structfield&gt;relminmxid&lt;/structfield&gt; values
      for &lt;quote&gt;nailed&lt;/quote&gt; system catalogs are processed in a timely
      fashion (Andres Freund)
</span>
<span class="quote">「<span class="quote">nailed</span>」</span>な（固定された）システムカタログに対する<code class="structfield">relfrozenxid</code>値および<code class="structfield">relminmxid</code>値の更新が適時に処理されるようにしました。
(Andres Freund)
     </p><p>
<span class="original">
      Overoptimistic caching rules could prevent these updates from being
      seen by other sessions, leading to spurious errors and/or data
      corruption.  The problem was significantly worse for shared catalogs,
      such as &lt;structname&gt;pg_authid&lt;/structname&gt;, because the stale cache
      data could persist into new sessions as well as existing ones.
</span>
過度に楽観的なキャッシュ方式は、これらの更新が他のセッションから参照されることを妨げるおそれがあり、偽性のエラー、および/または、データ破損をひき起こしました。
古くなったキャッシュデータが既存セッションのみならず新たなセッションにまで持続する可能性があるため、この問題は<code class="structname">pg_authid</code>などの共有カタログにおいて著しくより悪質です。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [3c64dcb1e] 2018-07-05 10:46:18 +0900
Branch: REL_11_STABLE [9a1bd8271] 2018-07-05 10:46:43 +0900
Branch: REL_10_STABLE [6716f2f96] 2018-07-05 10:47:01 +0900
Branch: REL9_6_STABLE [8d68ee6f3] 2018-07-05 10:47:19 +0900
Branch: REL9_5_STABLE [23eef5cd7] 2018-07-05 10:47:32 +0900
Branch: REL9_4_STABLE [f352f43d3] 2018-07-05 10:47:50 +0900
Branch: REL9_3_STABLE [56535dcdc] 2018-07-05 10:48:03 +0900
</span><p>
<span class="original">
      Fix case where a freshly-promoted standby crashes before having
      completed its first post-recovery checkpoint (Michael Paquier, Kyotaro
      Horiguchi, Pavan Deolasee, &amp;Aacute;lvaro Herrera)
</span>
昇格したばかりのスタンバイがリカバリ後の最初のチェックポイントを完了する前にクラッシュする場合について修正しました。
(Michael Paquier, Kyotaro Horiguchi, Pavan Deolasee, Álvaro Herrera)
     </p><p>
<span class="original">
      This led to a situation where the server did not think it had reached
      a consistent database state during subsequent WAL replay, preventing
      restart.
</span>
本障害により、続くWALをリプレイする際にサーバが一貫性をもったデータベース状態に到達していないと認識する状態になって、再起動を妨げました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [0905fe891] 2018-07-09 19:26:19 -0400
Branch: REL_11_STABLE [cfcfbd39b] 2018-07-09 19:26:19 -0400
Branch: REL_10_STABLE [59b2dcbf4] 2018-07-09 19:26:19 -0400
Branch: REL9_6_STABLE [568995be6] 2018-07-09 19:26:19 -0400
Branch: REL9_5_STABLE [7ddac4e8f] 2018-07-09 19:26:19 -0400
Branch: REL9_4_STABLE [d80ec868f] 2018-07-09 19:26:19 -0400
Branch: REL9_3_STABLE [e8fe3bb23] 2018-07-09 19:26:19 -0400
</span><p>
<span class="original">
      Avoid emitting a bogus WAL record when recycling an all-zero btree
      page (Amit Kapila)
</span>
全てゼロのBツリーのページを再利用するときに、でたらめなWALレコードの出力を回避しました。
(Amit Kapila)
     </p><p>
<span class="original">
      This mistake has been seen to cause assertion failures, and
      potentially it could result in unnecessary query cancellations on hot
      standby servers.
</span>
この誤りはアサート失敗としてあらわれました。また、潜在的にホットスタンバイサーバで不要な問い合わせキャンセルをひき起こす可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_11_BR [70b4f82a4] 2018-06-18 10:43:27 +0900
Branch: REL_10_STABLE [fb28104a4] 2018-06-18 10:43:42 +0900
Branch: REL9_6_STABLE [5860b22c4] 2018-06-18 10:43:59 +0900
Branch: REL9_5_STABLE [e41c79548] 2018-06-18 10:44:10 +0900
</span><p>
<span class="original">
      During WAL replay, guard against corrupted record lengths exceeding
      1GB (Michael Paquier)
</span>
WALリプレイの際に1GBを超える長さの破損したレコードに対して保護しました。
(Michael Paquier)
     </p><p>
<span class="original">
      Treat such a case as corrupt data.  Previously, the code would try to
      allocate space and get a hard error, making recovery impossible.
</span>
このような場合に破損データとして扱います。
これまでは当該コードは空間を確保しようとして強いエラーになり、リカバリを不可能にしていました。
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [cbc55da55] 2018-07-09 10:22:34 +0900
Branch: REL_11_STABLE [5d7c9347e] 2018-07-09 10:25:40 +0900
Branch: REL_10_STABLE [c030db349] 2018-07-09 10:26:18 +0900
Branch: REL9_6_STABLE [619dea467] 2018-07-09 10:26:41 +0900
Branch: REL9_5_STABLE [62203e608] 2018-07-09 10:27:10 +0900
</span><p>
<span class="original">
      When ending recovery, delay writing the timeline history file as long
      as possible (Heikki Linnakangas)
</span>
リカバリの最後にタイムラインヒストリファイルを書くのをできるだけ遅延しました。
(Heikki Linnakangas)
     </p><p>
<span class="original">
      This avoids some situations where a failure during recovery cleanup
      (such as a problem with a two-phase state file) led to inconsistent
      timeline state on-disk.
</span>
これにより（２相状態ファイルの問題などの）リカバリクリーンアップ中のエラーがディスク上に一貫性に欠けたタイムライン状態をもたらす状況を回避します。
     </p></li><li class="listitem"><span class="original">
Author: Fujii Masao &lt;fujii@postgresql.org&gt;
Branch: master [b41669118] 2018-07-05 02:23:46 +0900
Branch: REL_11_STABLE [9e53171b1] 2018-07-05 02:25:45 +0900
Branch: REL_10_STABLE [8463be060] 2018-07-05 02:26:22 +0900
Branch: REL9_6_STABLE [7da22d866] 2018-07-05 02:27:05 +0900
Branch: REL9_5_STABLE [614e0729a] 2018-07-05 02:27:46 +0900
Branch: REL9_4_STABLE [62c2fe644] 2018-07-05 02:46:44 +0900
Branch: REL9_3_STABLE [7ffe0127e] 2018-07-05 02:52:28 +0900
</span><p>
<span class="original">
      Improve performance of WAL replay for transactions that drop many
      relations (Fujii Masao)
</span>
多数のリレーションを削除するトランザクションに対するWALリプレイ性能を改善しました。
(Fujii Masao)
     </p><p>
<span class="original">
      This change reduces the number of times that shared buffers are
      scanned, so that it is of most benefit when that setting is large.
</span>
この変更は共有バッファをスキャンする回数を減らすので、共有バッファ設定が大きいときに最も恩恵があります。
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master Release: REL_11_BR [a40cff895] 2018-06-26 18:45:45 +1200
Branch: REL_10_STABLE [88554c091] 2018-06-26 17:17:27 +1200
Branch: REL9_6_STABLE [35750a38b] 2018-06-26 18:44:31 +1200
Branch: REL9_5_STABLE [7bcda60d4] 2018-06-26 17:56:20 +1200
Branch: REL9_4_STABLE [c4ccbcc1a] 2018-06-26 18:23:36 +1200
Branch: REL9_3_STABLE [12f7d9199] 2018-06-26 18:23:17 +1200
</span><p>
<span class="original">
      Improve performance of lock releasing in standby server WAL replay
      (Thomas Munro)
</span>
スタンバイサーバのWALリプレイにてロック解放の性能を改善しました。
(Thomas Munro)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [9a7b7adc1] 2018-07-12 10:19:35 +0900
Branch: REL_11_STABLE [0414ac6a1] 2018-07-12 10:19:51 +0900
Branch: REL_10_STABLE [11abea37d] 2018-07-12 10:20:08 +0900
Branch: REL9_6_STABLE [d5eb1fe0d] 2018-07-12 10:20:14 +0900
Branch: REL9_5_STABLE [19648375c] 2018-07-12 10:20:21 +0900
Branch: REL9_4_STABLE [98e2c298c] 2018-07-12 10:20:27 +0900
</span><p>
<span class="original">
      Make logical WAL senders report streaming state correctly (Simon
      Riggs, Sawada Masahiko)
</span>
ロジカルWAL senderがストリーミング状態を正しく報告するようにしました。
(Simon Riggs, Sawada Masahiko)
     </p><p>
<span class="original">
      The code previously mis-detected whether or not it had caught up with
      the upstream server.
</span>
これまでのコードは上流サーバに追いついているかどうかを誤判断していました。
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [4f10e7ea7] 2018-07-30 16:30:07 -0400
Branch: REL_11_STABLE [5dbd0beb8] 2018-07-30 16:30:07 -0400
Branch: REL_10_STABLE [2c4d0f32e] 2018-07-30 16:30:07 -0400
</span><p>
<span class="original">
      Ensure that a snapshot is provided when executing data type input
      functions in logical replication subscribers (Minh-Quan Tran,
      &amp;Aacute;lvaro Herrera)
</span>
ロジカルレプリケーションのサブスクライバでデータ型入力関数を実行するときにスナップショットが提供されるようにしました。
(Minh-Quan Tran, Álvaro Herrera)
     </p><p>
<span class="original">
      This omission led to failures in some cases, such as domains with
      constraints using SQL-language functions.
</span>
この遺漏は、SQL言語の関数を使った制約を伴うドメインなど、幾つかの場合で障害をもたらしました。
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master Release: REL_11_BR [f49a80c48] 2018-06-26 16:48:10 -0400
Branch: REL_10_STABLE [b767b3f2e] 2018-06-26 16:38:34 -0400
Branch: REL9_6_STABLE [da10d6a8a] 2018-06-26 16:38:34 -0400
Branch: REL9_5_STABLE [4cb6f7837] 2018-06-26 16:38:34 -0400
Branch: REL9_4_STABLE [962313558] 2018-06-26 16:38:34 -0400
</span><p>
<span class="original">
      Fix bugs in snapshot handling during logical decoding, allowing wrong
      decoding results in rare cases (Arseny Sher, &amp;Aacute;lvaro Herrera)
</span>
ロジカルデコーディング中のスナップショット処理でのバグを修正しました。
稀な場合に誤ったデコーディング結果があり得ました。
(Arseny Sher, Álvaro Herrera)
     </p></li><li class="listitem"><span class="original">
Author: Robert Haas &lt;rhaas@postgresql.org&gt;
Branch: master [32df1c9af] 2018-07-16 17:33:22 -0400
Branch: REL_11_STABLE [9ec9f8f68] 2018-07-16 17:33:35 -0400
Branch: REL_10_STABLE [4beb25c63] 2018-07-16 17:55:13 -0400
</span><p>
<span class="original">
      Add subtransaction handling in logical-replication table
      synchronization workers (Amit Khandekar, Robert Haas)
</span>
ロジカルレプリケーションのテーブル同期ワーカにサブトランザクション処理を追加しました。
(Amit Khandekar, Robert Haas)
     </p><p>
<span class="original">
      Previously, table synchronization could misbehave if any
      subtransactions were aborted after modifying a table being
      synchronized.
</span>
これまでは、同期されているテーブルを変更した後に何らかのサブトランザクションが中断された場合に、テーブル同期が誤動作するおそれがありました。
     </p></li><li class="listitem"><span class="original">
Author: Peter Geoghegan &lt;pg@bowt.ie&gt;
Branch: master [b3f919da0] 2018-08-03 15:11:31 -0700
Branch: REL_11_STABLE [b9612e5cf] 2018-08-03 14:45:02 -0700
Branch: REL_10_STABLE [c83408aa7] 2018-08-03 14:44:56 -0700
Branch: REL9_6_STABLE [0a60a291c] 2018-08-03 14:44:44 -0700
Branch: REL9_5_STABLE [aca225741] 2018-08-03 14:44:38 -0700
Branch: REL9_4_STABLE [250528cec] 2018-08-03 14:44:33 -0700
Branch: REL9_3_STABLE [0229e087d] 2018-08-03 14:44:26 -0700
</span><p>
<span class="original">
      Ensure a table's cached index list is correctly rebuilt after an index
      creation fails partway through (Peter Geoghegan)
</span>
インデックス作成が途中で失敗した後に、テーブルのキャッシュされたインデックスリストが正しく再構築されるようにしました。
(Peter Geoghegan)
     </p><p>
<span class="original">
      Previously, the failed index's OID could remain in the list, causing
      problems later in the same session.
</span>
これまでは、失敗したインデックスのOIDがリストに残る可能性があり、同セッション内で後に問題をひき起こしました。
     </p></li><li class="listitem"><span class="original">
Author: Alexander Korotkov &lt;akorotkov@postgresql.org&gt;
Branch: master [309765fa1] 2018-07-19 21:04:17 +0300
Branch: REL_11_STABLE [608793266] 2018-07-19 23:26:15 +0300
Branch: REL_10_STABLE [0d26812a4] 2018-07-19 21:12:43 +0300
Branch: REL9_6_STABLE [44b550e0d] 2018-07-19 21:19:19 +0300
Branch: REL9_5_STABLE [3c09b032a] 2018-07-19 21:22:07 +0300
Branch: REL9_4_STABLE [9c6a676c4] 2018-07-19 21:24:53 +0300
</span><p>
<span class="original">
      Fix mishandling of empty uncompressed posting list pages in GIN
      indexes (Sivasubramanian Ramasubramanian, Alexander Korotkov)
</span>
GINインデックスにおける空で圧縮されていないポスティングリストページの誤った処理を修正しました。
(Sivasubramanian Ramasubramanian, Alexander Korotkov)
     </p><p>
<span class="original">
      This could result in an assertion failure after pg_upgrade of a
      pre-9.4 GIN index (9.4 and later will not create such pages).
</span>
この障害で、9.4より前のGINインデックスからのpg_upgrade後にアサート失敗をひき起こす可能性があります（9.4以降ではこのようなページを作りません）。
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master [2d3067595] 2018-07-25 11:00:29 +1200
Branch: REL_11_STABLE [f2db5f3bb] 2018-07-25 11:00:42 +1200
Branch: REL_10_STABLE [46201d603] 2018-07-25 11:00:53 +1200
</span><p>
<span class="original">
      Pad arrays of unnamed POSIX semaphores to reduce cache line sharing
      (Thomas Munro)
</span>
キャッシュライン共有を減らすため、無名POSIXセマフォの配列を埋めるようにしました。
(Thomas Munro)
     </p><p>
<span class="original">
      This reduces contention on many-CPU systems, fixing a performance
      regression (compared to previous releases) on Linux and FreeBSD.
</span>
これにより多CPUシステムでの競合を減らし、LinuxとFreeBSDでの（前リリースと比べての）性能退行を修正します。
     </p></li><li class="listitem"><span class="original">
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master [8ce29bb4f] 2018-07-27 10:53:00 +0530
Branch: REL_11_STABLE [09a5be587] 2018-07-27 10:56:07 +0530
Branch: REL_10_STABLE [ff8ce0b79] 2018-07-27 11:05:06 +0530
</span><p>
<span class="original">
      Ensure that a process doing a parallel index scan will respond to
      signals (Amit Kapila)
</span>
パラレルインデックススキャンをするプロセスが確実にシグナル応答するようにしました。
(Amit Kapila)
     </p><p>
<span class="original">
      Previously, parallel workers could get stuck waiting for a lock on an
      index page, and not notice requests to abort the query.
</span>
これまではパラレルワーカはインデックスページ上のロックを待って詰まる可能性があり、問い合わせを中断する要求に気づきませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Andres Freund &lt;andres@anarazel.de&gt;
Branch: master [3a01f68e3] 2018-07-04 14:58:25 -0700
Branch: REL_11_STABLE [0c69db762] 2018-07-04 15:08:32 -0700
Branch: REL_10_STABLE [009580989] 2018-07-04 14:58:39 -0700
Branch: REL9_6_STABLE [2adadf018] 2018-07-04 14:58:26 -0700
Branch: REL9_5_STABLE [f411108c9] 2018-07-04 14:58:26 -0700
Branch: REL9_4_STABLE [8c8c9f37c] 2018-07-04 14:58:26 -0700
</span><p>
<span class="original">
      Ensure that &lt;command&gt;VACUUM&lt;/command&gt; will respond to signals
      within btree page deletion loops (Andres Freund)
</span>
<code class="command">VACUUM</code>がBツリーページの削除ループの中で確実にシグナルに応答するようにしました。
(Andres Freund)
     </p><p>
<span class="original">
      Corrupted btree indexes could result in an infinite loop here, and
      that previously wasn't interruptible without forcing a crash.
</span>
破損したBツリーインデックスはそこで無限ループする可能性があり、これまではクラッシュを強制する以外では割り込みができませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [1007b0a12] 2018-07-14 11:59:12 -0400
Branch: REL_11_STABLE [704e39319] 2018-07-14 11:59:12 -0400
Branch: REL_10_STABLE [0bb28ca36] 2018-07-14 11:59:12 -0400
</span><p>
<span class="original">
      Fix hash-join costing mistake introduced with inner_unique
      optimization (David Rowley)
</span>
inner_unique最適化で入り込んだハッシュ結合のコスト計算の誤りを修正しました。
     </p><p>
<span class="original">
      This could lead to bad plan choices in situations where that
      optimization was applicable.
</span>
この最適化が適用可能な場合に悪いプラン選択をもたらす可能性があります。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [a11b3bd37] 2018-05-16 13:46:23 -0400
Branch: REL_10_STABLE [aada0a764] 2018-05-16 13:46:09 -0400
Branch: REL9_6_STABLE [ace3c7cc0] 2018-05-16 13:46:09 -0400
Branch: REL9_5_STABLE [6d7629094] 2018-05-16 13:46:09 -0400
Branch: REL9_4_STABLE [62e0020ad] 2018-05-16 13:46:09 -0400
Branch: REL9_3_STABLE [bc711befd] 2018-05-16 13:46:09 -0400
</span><p>
<span class="original">
      Fix misoptimization of equivalence classes involving composite-type
      columns (Tom Lane)
</span>
複合型列に関する同値クラスの誤った最適化を修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      This resulted in failure to recognize that an index on a composite
      column could provide the sort order needed for a mergejoin on that
      column.
</span>
この障害により、複合列のインデックスがその列でのマージ結合に対してソート順を提供できることが認識できませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [07e5a2135] 2018-06-21 10:58:42 -0400
Branch: REL_10_STABLE [a4c95b0b8] 2018-06-21 10:58:42 -0400
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [57cd2b6e6] 2018-07-11 15:25:28 -0400
Branch: REL_11_STABLE [5b762d96e] 2018-07-11 15:25:28 -0400
Branch: REL_10_STABLE [c35032027] 2018-07-11 15:25:29 -0400
Branch: REL9_6_STABLE [4b8860e2d] 2018-07-11 15:25:29 -0400
</span><p>
<span class="original">
      Fix planner to avoid &lt;quote&gt;ORDER/GROUP BY expression not found in
      targetlist&lt;/quote&gt; errors in some queries with set-returning functions
      (Tom Lane)
</span>
一部の集合を返す関数を伴う問い合わせで、<span class="quote">「<span class="quote">ORDER/GROUP BY expression not found in targetlist（ORDER/GROUP BYの式がターゲットリストに見つかりません）</span>」</span>エラーを回避するようにプランナを修正しました。
      (Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [b6e3a3a49] 2018-07-10 15:19:40 -0400
Branch: REL_11_STABLE [e7df94f31] 2018-07-10 15:16:27 -0400
Branch: REL_10_STABLE [7c644b7d3] 2018-07-10 15:07:28 -0400
</span><p>
<span class="original">
      Fix handling of partition keys whose data type uses a polymorphic
      btree operator class, such as arrays (Amit Langote, &amp;Aacute;lvaro
      Herrera)
</span>
配列などの、データ型に多態Bツリー演算子クラスを使っているパーティションキーの処理を修正しました。
(Amit Langote, Álvaro Herrera)
     </p></li><li class="listitem"><span class="original">
Author: Andrew Gierth &lt;rhodiumtoad@postgresql.org&gt;
Branch: master Release: REL_11_BR [1da162e1f] 2018-05-21 17:27:08 +0100
Branch: REL_10_STABLE [cf516dc9d] 2018-05-21 17:31:01 +0100
Branch: REL9_6_STABLE [7a0aa8d12] 2018-05-21 17:32:18 +0100
Branch: REL9_5_STABLE [3b0fb2529] 2018-05-21 17:32:24 +0100
Branch: REL9_4_STABLE [769e6fcd1] 2018-05-21 17:32:29 +0100
Branch: REL9_3_STABLE [89b09db01] 2018-05-21 17:32:34 +0100
</span><p>
<span class="original">
      Fix SQL-standard &lt;literal&gt;FETCH FIRST&lt;/literal&gt; syntax to allow
      parameters (&lt;literal&gt;$&lt;replaceable&gt;n&lt;/replaceable&gt;&lt;/literal&gt;), as the
      standard expects (Andrew Gierth)
</span>
SQL標準の<code class="literal">FETCH FIRST</code>構文を、標準で期待されている通り、パラメータ（<code class="literal">$<em class="replaceable"><code>n</code></em></code>）が使えるように修正しました。
(Andrew Gierth)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [240971675] 2018-07-19 15:41:46 -0400
Branch: REL_11_STABLE [b1af4bcc4] 2018-07-19 15:41:46 -0400
Branch: REL_10_STABLE [2131d4501] 2018-07-19 15:41:46 -0400
</span><p>
<span class="original">
      Remove undocumented restriction against duplicate partition key
      columns (Yugo Nagata)
</span>
重複するパーティションキー列に対するドキュメント化されていない制限を取り除きました。
(Yugo Nagata)
     </p></li><li class="listitem"><span class="original">
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_11_BR [1c7c317cd] 2018-06-20 10:42:25 +0900
Branch: REL_10_STABLE [5862174ec] 2018-06-20 10:48:28 +0900
</span><p>
<span class="original">
      Disallow temporary tables from being partitions of non-temporary
      tables (Amit Langote, Michael Paquier)
</span>
一時テーブルを非一時テーブルのパーティションとすることを禁止しました。
(Amit Langote, Michael Paquier)
     </p><p>
<span class="original">
      While previously allowed, this case didn't work reliably.
</span>
以前には許されていましたが、この場合は信頼できる動作をしませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master [85c9d3475] 2018-08-03 11:02:02 +0530
Branch: REL_11_STABLE [dac7fe13b] 2018-08-03 11:16:25 +0530
Branch: REL_10_STABLE [b805b63ac] 2018-08-03 11:27:11 +0530
Branch: REL9_6_STABLE [19df1702f] 2018-08-03 11:43:01 +0530
Author: Amit Kapila &lt;akapila@postgresql.org&gt;
Branch: master [ccc84a956] 2018-08-03 09:11:37 +0530
Branch: REL_11_STABLE [ef305bd59] 2018-08-03 09:29:45 +0530
Branch: REL_10_STABLE [3f02b5150] 2018-08-03 09:50:24 +0530
Branch: REL9_6_STABLE [7124c93fb] 2018-08-03 10:07:56 +0530
</span><p>
<span class="original">
      Fix &lt;command&gt;EXPLAIN&lt;/command&gt;'s accounting for resource usage,
      particularly buffer accesses, in parallel workers
      (Amit Kapila, Robert Haas)
</span>
パラレルワーカでの<code class="command">EXPLAIN</code>の、特にバッファアクセスの、リソース使用集計を修正しました。
(Amit Kapila, Robert Haas)
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master Release: REL_11_BR [0c8910a0c] 2018-06-08 16:19:05 -0400
Branch: REL_10_STABLE [a25c207b2] 2018-06-08 16:27:56 -0400
</span><p>
<span class="original">
      Fix &lt;command&gt;SHOW ALL&lt;/command&gt; to show all settings to roles that are
      members of &lt;literal&gt;pg_read_all_settings&lt;/literal&gt;, and also allow
      such roles to see source filename and line number in
      the &lt;structname&gt;pg_settings&lt;/structname&gt; view (Laurenz Albe,
      &amp;Aacute;lvaro Herrera)
</span>
<code class="command">SHOW ALL</code>を<code class="literal">pg_read_all_settings</code>のメンバーであるロールに対して全ての設定を見せるように修正しました。
また、そのようなロールが<code class="structname">pg_settings</code>ビューでソースファイル名と行番号を見ることができるようにしました。
(Laurenz Albe, Álvaro Herrera)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [1a31baf61] 2018-05-24 12:38:55 -0400
Branch: REL_10_STABLE [e8cb8fdfd] 2018-05-24 12:38:55 -0400
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [056f52d9c] 2018-05-24 12:07:41 -0400
Branch: REL_10_STABLE [eb1aa1b46] 2018-05-24 12:07:41 -0400
Branch: REL9_6_STABLE [3d3165210] 2018-05-24 12:07:41 -0400
Branch: REL9_5_STABLE [ad73c07b4] 2018-05-24 12:07:41 -0400
Branch: REL9_4_STABLE [8f2143bc8] 2018-05-24 12:07:41 -0400
Branch: REL9_3_STABLE [cbb37b2e1] 2018-05-24 12:07:42 -0400
</span><p>
<span class="original">
      Fix failure to schema-qualify some object names
      in &lt;function&gt;getObjectDescription&lt;/function&gt;
      and &lt;function&gt;getObjectIdentity&lt;/function&gt; output
      (Kyotaro Horiguchi, Tom Lane)
</span>
<code class="function">getObjectDescription</code>と<code class="function">getObjectIdentity</code>の出力で、一部のオブジェクト名をスキーマ修飾するのに失敗していたものを修正しました。
(Kyotaro Horiguchi, Tom Lane)
     </p><p>
<span class="original">
      Names of collations, conversions, text search objects, publication
      relations, and extended statistics objects were not schema-qualified
      when they should be.
</span>
照合順序、符号化方式変換、テキスト検索オブジェクト、パブリケーションリレーション、および、拡張統計オブジェクトの名前が、されるべきケースでスキーマ修飾されませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [05ca21b87] 2018-05-15 15:06:53 -0400
Branch: REL_10_STABLE [17083ab7e] 2018-05-15 15:06:53 -0400
Branch: REL9_6_STABLE [f92491186] 2018-05-15 15:06:53 -0400
</span><p>
<span class="original">
      Fix &lt;command&gt;CREATE AGGREGATE&lt;/command&gt; type checking so that
      parallelism support functions can be attached to variadic aggregates
      (Alexey Bashtanov)
</span>
<code class="command">CREATE AGGREGATE</code>の型検査を並列動作をサポートする関数をvariadic集約に付与できるように修正しました。
(Alexey Bashtanov)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [ecac23511] 2018-05-22 13:32:52 -0400
Branch: REL_10_STABLE [c92d1461e] 2018-05-22 13:32:52 -0400
Branch: REL9_6_STABLE [588edd83e] 2018-05-22 13:32:52 -0400
Branch: REL9_5_STABLE [7df277827] 2018-05-22 13:32:52 -0400
Branch: REL9_4_STABLE [d25714d0a] 2018-05-22 13:32:52 -0400
Branch: REL9_3_STABLE [d78028350] 2018-05-22 13:32:52 -0400
</span><p>
<span class="original">
      Widen &lt;command&gt;COPY FROM&lt;/command&gt;'s current-line-number counter
      from 32 to 64 bits (David Rowley)
</span>
<code class="command">COPY FROM</code>の現在行番号カウンタを32ビットから64ビットに拡張しました。
(David Rowley)
     </p><p>
<span class="original">
      This avoids two problems with input exceeding 4G lines: &lt;literal&gt;COPY
      FROM WITH HEADER&lt;/literal&gt; would drop a line every 4G lines, not only
      the first line, and error reports could show a wrong line number.
</span>
これは4G行を超える入力に対して二つの問題を回避します。
<code class="literal">COPY FROM WITH HEADER</code>が先頭行のみならず4G行毎に1行を捨ててしまっていました。
また、エラー報告が誤った行番号を示す可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master [0ce5cf2ef] 2018-07-06 16:38:30 -0400
Branch: REL_11_STABLE [ef6464595] 2018-07-06 16:38:29 -0400
Branch: REL_10_STABLE [a1f680d96] 2018-07-06 16:38:29 -0400
</span><p>
<span class="original">
      Allow replication slots to be dropped in single-user mode
      (&amp;Aacute;lvaro Herrera)
</span>
シングルユーザモードでレプリケーションスロットを削除できるようにしました。
(Álvaro Herrera)
     </p><p>
<span class="original">
      This use-case was accidentally broken in release 10.0.
</span>
このユースケースはリリース10.0で偶然に壊されました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [ec4719cd1] 2018-06-21 16:18:39 -0400
Branch: REL_10_STABLE [b8a1d0302] 2018-06-21 16:18:34 -0400
</span><p>
<span class="original">
      Fix incorrect results from &lt;function&gt;variance(int4)&lt;/function&gt; and
      related aggregates when run in parallel aggregation mode
      (David Rowley)
</span>
パラレル集約モードで動作するときに<code class="function">variance(int4)</code>と関連する集約から誤った結果が返るのを修正しました。
(David Rowley)
     </p></li><li class="listitem"><span class="original">
Author: Alvaro Herrera &lt;alvherre@alvh.no-ip.org&gt;
Branch: master Release: REL_11_BR [b7f0be9a7] 2018-06-20 12:58:12 -0400
Branch: REL_10_STABLE [e10bc161f] 2018-06-20 12:58:12 -0400
Branch: REL_10_STABLE [04ab840b8] 2018-06-20 13:02:46 -0400
</span><p>
<span class="original">
      Process &lt;literal&gt;TEXT&lt;/literal&gt; and &lt;literal&gt;CDATA&lt;/literal&gt; nodes
      correctly in &lt;function&gt;xmltable()&lt;/function&gt; column expressions
      (Markus Winand)
</span>
<code class="function">xmltable()</code>の列式で<code class="literal">TEXT</code>および<code class="literal">CDATA</code>ノードを適切に処理するようにしました。
(Markus Winand)
     </p></li><li class="listitem"><span class="original">
Author: Dean Rasheed &lt;dean.a.rasheed@gmail.com&gt;
Branch: master [8f6ce7fb0] 2018-07-20 08:55:44 +0100
Branch: REL_11_STABLE [1f919e663] 2018-07-20 08:57:08 +0100
Branch: REL_10_STABLE [821200405] 2018-07-20 08:58:37 +0100
</span><p>
<span class="original">
      Cope with possible failure of &lt;application&gt;OpenSSL&lt;/application&gt;'s
      &lt;function&gt;RAND_bytes()&lt;/function&gt; function
      (Dean Rasheed, Michael Paquier)
</span>
起こりうる<span class="application">OpenSSL</span>の<code class="function">RAND_bytes()</code>関数の失敗を適切に処理するようにしました。
      (Dean Rasheed, Michael Paquier)
     </p><p>
<span class="original">
      Under rare circumstances, this oversight could result in &lt;quote&gt;could
      not generate random cancel key&lt;/quote&gt; failures that could only be
      resolved by restarting the postmaster.
</span>
この誤りは、稀な状況で、postmasterを再起動することでしか解消できない<span class="quote">「<span class="quote">could not generate random cancel key（ランダムキャンセルキーを生成できませんでした）</span>」</span>エラーをひき起こす可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Peter Eisentraut &lt;peter_e@gmx.net&gt;
Branch: master Release: REL_11_BR [1944cdc98] 2018-03-27 12:32:18 -0400
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: REL_10_STABLE [62038810b] 2018-08-03 11:30:34 -0400
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [24986c955] 2018-08-03 12:12:10 -0400
Branch: REL_11_STABLE [6efc30167] 2018-08-03 12:12:10 -0400
Branch: REL_10_STABLE [8d00858ba] 2018-08-03 12:12:10 -0400
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [c7a8f7867] 2018-08-03 12:20:47 -0400
Branch: REL_11_STABLE [d8b2beb26] 2018-08-03 12:20:47 -0400
Branch: REL_10_STABLE [ed5d8196c] 2018-08-03 12:20:47 -0400
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [e3f99e03e] 2018-08-01 12:30:36 -0400
Branch: REL_11_STABLE [e9bbfe608] 2018-08-01 12:30:36 -0400
Branch: REL_10_STABLE [71e3b2890] 2018-08-01 12:30:36 -0400
Author: Heikki Linnakangas &lt;heikki.linnakangas@iki.fi&gt;
Branch: master [b90d97e08] 2018-07-19 20:24:29 +0300
Branch: REL_11_STABLE [dc961e582] 2018-07-19 20:24:59 +0300
Branch: REL_10_STABLE [ff4fb4cc1] 2018-07-19 20:25:05 +0300
</span><p>
<span class="original">
      Fix &lt;application&gt;libpq&lt;/application&gt;'s handling of some cases
      where &lt;literal&gt;hostaddr&lt;/literal&gt; is specified
      (Hari Babu, Tom Lane, Robert Haas)
</span>
<code class="literal">hostaddr</code>が指定された場合のいくつかのケースについて<span class="application">libpq</span>の処理を修正しました。
(Hari Babu, Tom Lane, Robert Haas)
     </p><p>
<span class="original">
      &lt;function&gt;PQhost()&lt;/function&gt; gave misleading or incorrect results
      in some cases.  Now, it uniformly returns the host name if specified,
      or the host address if only that is specified, or the default host
      name (typically &lt;literal&gt;/tmp&lt;/literal&gt;
      or &lt;literal&gt;localhost&lt;/literal&gt;) if both parameters are omitted.
</span>
いくつかの場合に<code class="function">PQhost()</code>は誤解を招く、あるいは、誤った結果を返しました。
これからは一律に、ホスト名が指定されていたならホスト名を、そうでなくホストアドレスだけが指定されていたならホストアドレスを、両パラメータとも省略されていたならデフォルトホスト名（典型的には<code class="literal">/tmp</code>か<code class="literal">localhost</code>）を返します。
     </p><p>
<span class="original">
      Also, the wrong value might be compared to the server name when
      verifying an SSL certificate.
</span>
また、SSL証明書を検証するときに誤った値がサーバ名と比較されるかもしれませんでした。
     </p><p>
<span class="original">
      Also, the wrong value might be compared to the host name field in
      &lt;filename&gt;~/.pgpass&lt;/filename&gt;.  Now, that field is compared to the
      host name if specified, or the host address if only that is specified,
      or &lt;literal&gt;localhost&lt;/literal&gt; if both parameters are omitted.
</span>
また、誤った値が<code class="filename">~/.pgpass</code>のホスト名フィールドと比較されるかもしれませんでした。
これからは、そのフィールドはホスト名が指定されていたならホスト名と、そうでなくホストアドレスだけが指定されていたならホストアドレスと、両パラメータとも省略されていたなら<code class="literal">localhost</code>と、比較されます。
     </p><p>
<span class="original">
      Also, an incorrect error message was reported for an unparseable
      &lt;literal&gt;hostaddr&lt;/literal&gt; value.
</span>
また、パース不能な<code class="literal">hostaddr</code>値に対して不適当なエラーメッセージが報告されました。
     </p><p>
<span class="original">
      Also, when the &lt;literal&gt;host&lt;/literal&gt;, &lt;literal&gt;hostaddr&lt;/literal&gt;,
      or &lt;literal&gt;port&lt;/literal&gt; parameters contain comma-separated
      lists, &lt;application&gt;libpq&lt;/application&gt; is now more careful to treat
      empty elements of a list as selecting the default behavior.
</span>
また、これからは<code class="literal">host</code>、<code class="literal">hostaddr</code>、または、<code class="literal">port</code>パラメータがカンマ区切りリストを含むときに、<span class="application">libpq</span>がリストの空要素をデフォルトの振る舞いを指定するものとして、より注意深く扱います。
     </p></li><li class="listitem"><span class="original">
Author: Thomas Munro &lt;tmunro@postgresql.org&gt;
Branch: master Release: REL_11_BR [4c8156d87] 2018-06-18 18:33:53 +1200
Branch: REL_10_STABLE [3566873f2] 2018-06-26 19:49:52 +1200
Branch: REL9_6_STABLE [b5b973ef0] 2018-06-26 20:54:09 +1200
Branch: REL9_5_STABLE [3bc19d0d2] 2018-06-26 20:54:40 +1200
Branch: REL9_4_STABLE [db05d0b90] 2018-06-26 23:21:39 +1200
Branch: REL9_3_STABLE [edabd8f5a] 2018-06-26 23:37:49 +1200
</span><p>
<span class="original">
      Add a string freeing function
      to &lt;application&gt;ecpg&lt;/application&gt;'s &lt;filename&gt;pgtypes&lt;/filename&gt;
      library, so that cross-module memory management problems can be
      avoided on Windows (Takayuki Tsunakawa)
</span>
<span class="application">ecpg</span>の<code class="filename">pgtypes</code>ライブラリに文字列解放関数を追加しました。
これにより、Windowsにおけるモジュールにまたがるメモリ管理の問題が回避できます。
(Takayuki Tsunakawa)
     </p><p>
<span class="original">
      On Windows, crashes can ensue if the &lt;function&gt;free&lt;/function&gt; call
      for a given chunk of memory is not made from the same DLL
      that &lt;function&gt;malloc&lt;/function&gt;'ed the memory.
      The &lt;filename&gt;pgtypes&lt;/filename&gt; library sometimes returns strings
      that it expects the caller to free, making it impossible to follow
      this rule.  Add a &lt;function&gt;PGTYPESchar_free()&lt;/function&gt; function
      that just wraps &lt;function&gt;free&lt;/function&gt;, allowing applications
      to follow this rule.
</span>
Windowsでは、与えられたメモリチャンクに対する<code class="function">free</code>呼び出しがメモリを<code class="function">malloc</code>した同じDLLから行われているのではない場合、クラッシュが起こりえます。
<code class="filename">pgtypes</code>ライブラリはときどき呼び出し側が解放することを想定した文字列を返しますが、この使い方に従うことが不可能になっていました。
<code class="function">free</code>をラップする<code class="function">PGTYPESchar_free()</code>関数を追加して、アプリケーションがこの使い方に従えるようにしました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [f586f8638] 2018-05-18 12:52:28 -0400
Branch: REL_10_STABLE [cf39aebf1] 2018-05-18 12:52:28 -0400
Branch: REL9_6_STABLE [25caeae8d] 2018-05-18 12:52:28 -0400
Branch: REL9_5_STABLE [11a110595] 2018-05-18 12:52:28 -0400
Branch: REL9_4_STABLE [385f4acbf] 2018-05-18 12:52:28 -0400
Branch: REL9_3_STABLE [63d3e787f] 2018-05-18 12:52:28 -0400
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [a6228128f] 2018-05-18 22:42:10 -0400
Branch: REL_10_STABLE [c964c2147] 2018-05-18 22:42:10 -0400
Branch: REL9_6_STABLE [4ffd7909c] 2018-05-18 22:42:10 -0400
Branch: REL9_5_STABLE [95fef6e82] 2018-05-18 22:42:10 -0400
Branch: REL9_4_STABLE [023aa76e1] 2018-05-18 22:42:10 -0400
Branch: REL9_3_STABLE [e9f475f99] 2018-05-18 22:42:10 -0400
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [06f66cff9] 2018-05-19 14:22:18 -0400
Branch: REL_10_STABLE [a5be529aa] 2018-05-19 14:22:18 -0400
Branch: REL9_6_STABLE [22d22e4bd] 2018-05-19 14:22:18 -0400
Branch: REL9_5_STABLE [7329af6b9] 2018-05-19 14:22:18 -0400
Branch: REL9_4_STABLE [8109f201d] 2018-05-19 14:22:19 -0400
Branch: REL9_3_STABLE [91f3bcc9e] 2018-05-19 14:22:19 -0400
</span><p>
<span class="original">
      Fix &lt;application&gt;ecpg&lt;/application&gt;'s support for &lt;type&gt;long
      long&lt;/type&gt; variables on Windows, as well as other platforms that
      declare &lt;function&gt;strtoll&lt;/function&gt;/&lt;function&gt;strtoull&lt;/function&gt;
      nonstandardly or not at all (Dang Minh Huong, Tom Lane)
</span>
Windowsで<span class="application">ecpg</span>の<code class="type">long long</code>変数対応を修正しました。
<code class="function">strtoll</code>/<code class="function">strtoull</code>を非標準に宣言する、あるいは全く宣言しない、他のプラットフォームにおいても修正しました。
(Dang Minh Huong, Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [9a8aa25cc] 2018-05-25 14:31:06 -0400
Branch: REL_10_STABLE [5a225b0d6] 2018-05-25 14:31:06 -0400
Branch: REL9_6_STABLE [f9ecb6cab] 2018-05-25 14:31:07 -0400
Branch: REL9_5_STABLE [004293c66] 2018-05-25 14:31:07 -0400
Branch: REL9_4_STABLE [98d522a1d] 2018-05-25 14:31:07 -0400
Branch: REL9_3_STABLE [da757bf0f] 2018-05-25 14:31:07 -0400
</span><p>
<span class="original">
      Fix misidentification of SQL statement type in PL/pgSQL, when a rule
      change causes a change in the semantics of a statement intra-session
      (Tom Lane)
</span>
PL/pgSQLでSQLステートメントタイプの誤識別を修正しました。
RULEの変更がステートメント内部セッションの文脈の変化をひき起こすときに該当します。
(Tom Lane)
     </p><p>
<span class="original">
      This error led to assertion failures, or in rare cases, failure to
      enforce the &lt;literal&gt;INTO STRICT&lt;/literal&gt; option as expected.
</span>
この誤りはアサート失敗、あるいは稀な場合に<code class="literal">INTO STRICT</code>オプションでの期待される強制の失敗をもたらします。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [50485b3e2] 2018-05-23 19:04:34 -0400
Branch: REL_10_STABLE [bed74e9d4] 2018-05-23 19:04:34 -0400
Branch: REL9_6_STABLE [bbaf75ee0] 2018-05-23 19:04:34 -0400
Branch: REL9_5_STABLE [085791b8a] 2018-05-23 19:04:34 -0400
Branch: REL9_4_STABLE [09fb2d5d3] 2018-05-23 19:04:34 -0400
Branch: REL9_3_STABLE [3466b0202] 2018-05-23 19:04:34 -0400
</span><p>
<span class="original">
      Fix password prompting in client programs so that echo is properly
      disabled on Windows when &lt;literal&gt;stdin&lt;/literal&gt; is not the
      terminal (Matthew Stickney)
</span>
<code class="literal">stdin</code>がターミナルでないときWindowsでエコー出力が適切に無効化されるように、クライアントプログラムでのパスワードプロンプト表示を修正しました。
(Matthew Stickney)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [f3eb76b39] 2018-07-31 13:00:14 -0400
Branch: REL_11_STABLE [a56c11d44] 2018-07-31 13:00:08 -0400
Branch: REL_10_STABLE [31b29b1b3] 2018-07-31 13:00:08 -0400
Branch: REL9_6_STABLE [6680d19a8] 2018-07-31 13:00:08 -0400
Branch: REL9_5_STABLE [12f2d814a] 2018-07-31 13:00:08 -0400
Branch: REL9_4_STABLE [88adf1add] 2018-07-31 13:00:08 -0400
Branch: REL9_3_STABLE [461e2e433] 2018-07-31 13:00:08 -0400
</span><p>
<span class="original">
      Further fix mis-quoting of values for list-valued GUC variables in
      dumps (Tom Lane)
</span>
ダンプでのリスト値になっているGUC変数値のクォート間違いをさらに修正しました。
(Tom Lane)
     </p><p>
<span class="original">
      The previous fix for quoting of &lt;varname&gt;search_path&lt;/varname&gt; and
      other list-valued variables in &lt;application&gt;pg_dump&lt;/application&gt;
      output turned out to misbehave for empty-string list elements, and it
      risked truncation of long file paths.
</span>
以前の<span class="application">pg_dump</span>出力における<code class="varname">search_path</code>および他のリスト値変数のクォート処理の修正は、空文字列リスト要素に対して誤動作をして、長いファイルパスが切り捨てられる危険性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [c0a552921] 2018-07-30 12:35:49 -0400
Branch: REL_11_STABLE [f6ef3ed43] 2018-07-30 12:35:49 -0400
Branch: REL_10_STABLE [96b1d984f] 2018-07-30 12:35:49 -0400
Branch: REL9_6_STABLE [8c7f64b0e] 2018-07-30 12:35:49 -0400
Branch: REL9_5_STABLE [b868c08eb] 2018-07-30 12:35:49 -0400
Branch: REL9_4_STABLE [addf9e1bd] 2018-07-30 12:35:49 -0400
</span><p>
<span class="original">
      Fix &lt;application&gt;pg_dump&lt;/application&gt;'s failure to
      dump &lt;literal&gt;REPLICA IDENTITY&lt;/literal&gt; properties for constraint
      indexes (Tom Lane)
</span>
<span class="application">pg_dump</span>が制約インデックスに対する<code class="literal">REPLICA IDENTITY</code>属性のダンプに失敗していたものが修正されました。
(Tom Lane)
     </p><p>
<span class="original">
      Manually created unique indexes were properly marked, but not those
      created by declaring &lt;literal&gt;UNIQUE&lt;/literal&gt; or &lt;literal&gt;PRIMARY
      KEY&lt;/literal&gt; constraints.
</span>
手動で作成したユニークインデックスには適切に属性が付与されますが、<code class="literal">UNIQUE</code>や<code class="literal">PRIMARY KEY</code>制約を宣言することで作られたものはそうなりませんでした。
     </p></li><li class="listitem"><span class="original">
Author: Bruce Momjian &lt;bruce@momjian.us&gt;
Branch: master [244142d32] 2018-07-28 15:01:55 -0400
Branch: REL_11_STABLE [113224848] 2018-07-28 15:01:55 -0400
Branch: REL_10_STABLE [9a13e7f0f] 2018-07-28 15:01:55 -0400
Branch: REL9_6_STABLE [a326ca75b] 2018-07-28 15:01:55 -0400
Branch: REL9_5_STABLE [260fe9f2b] 2018-07-28 15:01:55 -0400
Branch: REL9_4_STABLE [f87878106] 2018-07-28 15:01:55 -0400
Branch: REL9_3_STABLE [a5c84e0b7] 2018-07-28 15:01:55 -0400
Branch: master [b6d6488a3] 2018-07-31 18:10:06 -0400
Branch: REL_11_STABLE [920001633] 2018-07-31 18:10:06 -0400
Branch: REL_10_STABLE [d8dd8d221] 2018-07-31 18:10:06 -0400
Branch: REL9_6_STABLE [764e21db0] 2018-07-31 18:10:06 -0400
Branch: REL9_5_STABLE [92a11a0d8] 2018-07-31 18:10:06 -0400
Branch: REL9_4_STABLE [12dd07008] 2018-07-31 18:10:06 -0400
Branch: REL9_3_STABLE [a1d383ab5] 2018-07-31 18:10:06 -0400
Branch: REL9_3_STABLE [dfc71a1b2] 2018-07-31 19:06:32 -0400
</span><p>
<span class="original">
      Make &lt;application&gt;pg_upgrade&lt;/application&gt; check that the old server
      was shut down cleanly (Bruce Momjian)
</span>
<span class="application">pg_upgrade</span>が古いサーバがクリーンにシャットダウンされたことを検査するようにしました。
(Bruce Momjian)
     </p><p>
<span class="original">
      The previous check could be fooled by an immediate-mode shutdown.
</span>
これまでの検査ではimmediateモードでのシャットダウンについてだまされる可能性がありました。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [e3b7f7cc5] 2018-06-18 15:55:06 -0400
Branch: REL_10_STABLE [7594b7a53] 2018-06-18 15:55:06 -0400
Branch: REL9_6_STABLE [1bebfb9b6] 2018-06-18 15:55:06 -0400
Branch: REL9_5_STABLE [645929c54] 2018-06-18 15:55:06 -0400
</span><p>
<span class="original">
      Fix &lt;filename&gt;contrib/hstore_plperl&lt;/filename&gt; to look through Perl
      scalar references, and to not crash if it doesn't find a hash
      reference where it expects one (Tom Lane)
</span>
Perlスカラ参照を一通り調べて、期待されたハッシュ参照が見つからない場合にクラッシュしないように、<code class="filename">contrib/hstore_plperl</code>を修正しました。
(Tom Lane)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master [28a1ae534] 2018-07-13 18:45:30 -0400
Branch: REL_11_STABLE [dbd7f4e7c] 2018-07-13 18:45:30 -0400
Branch: REL_10_STABLE [1f47eb08c] 2018-07-13 18:45:30 -0400
Branch: REL9_6_STABLE [330cad2c4] 2018-07-13 18:45:30 -0400
Branch: REL9_5_STABLE [ac6b69c19] 2018-07-13 18:45:30 -0400
Branch: REL9_4_STABLE [f8e8be7f2] 2018-07-13 18:45:30 -0400
Branch: REL9_3_STABLE [cbbe75fe6] 2018-07-13 18:45:30 -0400
</span><p>
<span class="original">
      Fix crash in &lt;filename&gt;contrib/ltree&lt;/filename&gt;'s
      &lt;function&gt;lca()&lt;/function&gt; function when the input array is empty
      (Pierre Ducroquet)
</span>
<code class="filename">contrib/ltree</code>の<code class="function">lca()</code>関数での入力配列が空であったときのクラッシュを修正しました。
(Pierre Ducroquet)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [81256cd05] 2018-05-21 00:32:28 -0400
Branch: REL_10_STABLE [28782d7e3] 2018-05-21 00:32:39 -0400
Branch: REL9_6_STABLE [1545ca9a7] 2018-05-21 00:32:44 -0400
Branch: REL9_5_STABLE [ced0cdc76] 2018-05-21 00:32:48 -0400
Branch: REL9_4_STABLE [5517367e9] 2018-05-21 00:32:52 -0400
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master Release: REL_11_BR [6cb337241] 2018-06-25 11:19:05 +0900
Branch: REL_10_STABLE [6eec6724f] 2018-06-25 11:20:19 +0900
Branch: REL9_6_STABLE [7fdf56b0a] 2018-06-25 11:20:50 +0900
Branch: REL9_5_STABLE [910e2aca1] 2018-06-25 11:21:49 +0900
Branch: REL9_4_STABLE [79b5b101f] 2018-06-25 11:22:02 +0900
Branch: REL9_3_STABLE [f53ed82b7] 2018-06-25 11:22:24 +0900
Author: Michael Paquier &lt;michael@paquier.xyz&gt;
Branch: master [5a23c74b6] 2018-08-05 05:31:18 +0900
Branch: REL_11_STABLE [58673b4a5] 2018-08-05 05:31:56 +0900
Branch: REL_10_STABLE [7124e6452] 2018-08-05 05:32:12 +0900
Branch: REL9_6_STABLE [f5b4bb881] 2018-08-05 05:32:27 +0900
Branch: REL9_5_STABLE [afd5fde85] 2018-08-05 05:32:37 +0900
Branch: REL9_4_STABLE [e69a3ac4a] 2018-08-05 05:32:44 +0900
Branch: REL9_3_STABLE [69599cc49] 2018-08-05 05:32:54 +0900
Author: Magnus Hagander &lt;magnus@hagander.net&gt;
Branch: master Release: REL_11_BR [cfb758b6d] 2018-05-18 17:54:18 +0200
Branch: REL_10_STABLE [29ce50091] 2018-05-18 17:53:12 +0200
Branch: REL9_6_STABLE [830e8e360] 2018-05-18 17:53:15 +0200
Branch: REL9_5_STABLE [714d8e5fa] 2018-05-18 17:53:17 +0200
Branch: REL9_4_STABLE [b5f096d50] 2018-05-18 17:53:19 +0200
Branch: REL9_3_STABLE [048caa556] 2018-05-18 17:53:20 +0200
</span><p>
<span class="original">
      Fix various error-handling code paths in which an incorrect error code
      might be reported (Michael Paquier, Tom Lane, Magnus Hagander)
</span>
不適切なエラーコードが報告されるかもしれない様々なエラー処理コードパスを修正しました。
(Michael Paquier, Tom Lane, Magnus Hagander)
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [dddfc4cb2] 2018-04-03 16:26:05 -0400
Branch: REL_10_STABLE [c74f48a4e] 2018-07-09 17:23:31 -0400
Branch: REL9_6_STABLE [ccc286da1] 2018-07-09 17:23:31 -0400
Branch: REL9_5_STABLE [6532ca57a] 2018-07-09 17:23:31 -0400
Branch: REL9_4_STABLE [dd4e83674] 2018-07-09 17:23:32 -0400
Branch: REL9_3_STABLE [f6f75539d] 2018-07-09 17:23:32 -0400
</span><p>
<span class="original">
      Rearrange makefiles to ensure that programs link to freshly-built
      libraries (such as &lt;filename&gt;libpq.so&lt;/filename&gt;) rather than ones
      that might exist in the system library directories (Tom Lane)
</span>
プログラムが既存のシステムライブラリディレクトリにあるものではなく、ビルドされたばかりのライブラリ（<code class="filename">libpq.so</code>など）に確実にリンクするように、Makefileを調整しました。
(Tom Lane)
     </p><p>
<span class="original">
      This avoids problems when building on platforms that supply old copies
      of &lt;productname&gt;PostgreSQL&lt;/productname&gt; libraries.
</span>
これにより、<span class="productname">PostgreSQL</span>ライブラリの古いコピーを提供するプラットフォームでビルドするときの問題を回避します。
     </p></li><li class="listitem"><span class="original">
Author: Tom Lane &lt;tgl@sss.pgh.pa.us&gt;
Branch: master Release: REL_11_BR [234bb985c] 2018-05-09 13:56:22 -0400
Branch: REL_10_STABLE [aba2f5522] 2018-05-09 13:55:42 -0400
Branch: REL9_6_STABLE [22e524d97] 2018-05-09 13:55:48 -0400
Branch: REL9_5_STABLE [777918e34] 2018-05-09 13:55:54 -0400
Branch: REL9_4_STABLE [32453bc5a] 2018-05-09 13:56:00 -0400
Branch: REL9_3_STABLE [3f36e4fc5] 2018-05-09 13:56:06 -0400
</span><p>
<span class="original">
      Update time zone data files to &lt;application&gt;tzdata&lt;/application&gt;
      release 2018e for DST law changes in North Korea, plus historical
      corrections for Czechoslovakia.
</span>
タイムゾーンデータファイルを<span class="application">tzdata</span> release 2018eに更新しました。
北朝鮮の夏時間(DST)法の変更に加え、チェコスロバキアの歴史的修正が含まれます。
     </p><p>
<span class="original">
      This update includes a redefinition of &lt;quote&gt;daylight savings&lt;/quote&gt;
      in Ireland, as well as for some past years in Namibia and
      Czechoslovakia.  In those jurisdictions, legally standard time is
      observed in summer, and daylight savings time in winter, so that the
      daylight savings offset is one hour behind standard time not one hour
      ahead.  This does not affect either the actual UTC offset or the
      timezone abbreviations in use; the only known effect is that
      the &lt;structfield&gt;is_dst&lt;/structfield&gt; column in
      the &lt;structname&gt;pg_timezone_names&lt;/structname&gt; view will now be true
      in winter and false in summer in these cases.
</span>
この更新には、アイルランドおよび過去の何年間かのでのナミビアやチェコスロバキアにおける<span class="quote">「<span class="quote">daylight savings</span>」</span>の再定義が含まれます。
これらの管区では法律上、夏に標準時間、冬にDST（訳注：daylight saving timeを通常「夏時間」としているがここでは文脈上DSTとする）であると述べられていて、そのためDSTオフセットは標準時間の1時間後でなく1時間前です。
このことは、実際のUTCオフセットや使われるタイムゾーン略記法のいずれにも影響を与えませんが、唯一の影響として、これらの場合は<code class="structname">pg_timezone_names</code>ビューの<code class="structfield">is_dst</code>が冬に真、夏に偽となります。
     </p></li></ul></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-10-6.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-10-4.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">E.3. リリース 10.6 </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> E.5. リリース10.4</td></tr></table></div></body></html>