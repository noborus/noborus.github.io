<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.4. リリース 14.2</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="release-14-3.html" title="E.3. リリース 14.3" /><link rel="next" href="release-14-1.html" title="E.5. リリース 14.1" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 14.5文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-14-3.html" title="E.3. リリース 14.3">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.4. リリース 14.2</td><td width="20%" align="right"> <a accesskey="n" href="release-14-1.html" title="E.5. リリース 14.1">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-14-2"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.4. リリース 14.2</h2></div></div></div><!--
  <title>Release 14.2</title>
--><p><!--
  <title>Release date:</title>
--><strong>リリース日: </strong>2022-02-10</p><p>
<!--
   This release contains a variety of fixes from 14.1.
   For information about new features in major release 14, see
   <xref linkend="release-14"/>.
-->
このリリースは14.0に対し、様々な不具合を修正したものです。
14メジャーリリースにおける新機能については、<a class="xref" href="release-14.html" title="E.6. リリース 14">E.6</a>を参照してください。
  </p><div class="sect2" id="id-1.11.6.8.4"><div class="titlepage"><div><div><h3 class="title">E.4.1. バージョン14.2への移行</h3></div></div></div><!--
   <title>Migration to Version 14.2</title>
--><p>
<!--
    A dump/restore is not required for those running 14.X.
-->
14.Xからの移行ではダンプ/リストアは不要です。
   </p><p>
<!--
    However, some bugs have been found that may have resulted in
    corrupted indexes, as explained in the first two changelog entries.
    If any of those cases apply to you, it's recommended to reindex
    possibly-affected indexes after updating.
-->
しかしながら、最初の2つの変更点で説明されているように、インデックスが破損する可能性のあるいくつかのバグが見つかっています。
これらのケースに該当する場合は、アップデート後に影響を受けている可能性のあるインデックスを再作成することをお勧めします。
   </p><p>
<!--
    Also, if you are upgrading from a version earlier than 14.1,
    see <xref linkend="release-14-1"/>.
-->
また、14.1より前のバージョンからアップグレードする場合には、<a class="xref" href="release-14-1.html" title="E.5. リリース 14.1">E.5</a>を参照してください。
   </p></div><div class="sect2" id="id-1.11.6.8.5"><div class="titlepage"><div><div><h3 class="title">E.4.2. 変更点</h3></div></div></div><!--
   <title>Changes</title>
--><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><!--
Author: Michael Paquier <michael@paquier.xyz>
Branch: master [f99870dd8] 2021-12-08 11:01:08 +0900
Branch: REL_14_STABLE [64ab21f0e] 2021-12-08 11:01:14 +0900
Branch: REL_13_STABLE [9acea52ea] 2021-12-08 11:01:19 +0900
Branch: REL_12_STABLE [5ed74d874] 2021-12-08 11:01:23 +0900
--><p>
<!--
      Enforce standard locking protocol for TOAST table updates, to prevent
      problems with <command>REINDEX CONCURRENTLY</command> (Michael Paquier)
-->
<code class="command">REINDEX CONCURRENTLY</code>の問題を防止するため、TOASTテーブルの更新に標準のロックプロトコルが適用されました。
(Michael Paquier)
     </p><p>
<!--
      If applied to a TOAST table or TOAST table's index, <command>REINDEX
      CONCURRENTLY</command> tended to produce a corrupted index.  This
      happened because sessions updating TOAST entries released
      their <literal>ROW EXCLUSIVE</literal> locks immediately, rather
      than holding them until transaction commit as all other updates do.
      The fix is to make TOAST updates hold the table lock according to the
      normal rule.  Any existing corrupted indexes can be repaired by
      reindexing again.
-->
<code class="command">REINDEX CONCURRENTLY</code>を TOASTテーブルまたはTOASTテーブルのインデックスに適用した場合、破損したインデックスを生成することがよくありました。
これはTOASTエントリを更新するセッションが、他の更新の動作と同様にトランザクションがコミットされるまで<code class="literal">ROW EXCLUSIVE</code>ロックを保持するのではなく、<code class="literal">ROW EXCLUSIVE</code>ロックをすぐに解放したために発生しました。
今回TOAST更新が通常のルールに従ってテーブルロックを保持するよう修正されました。
既存の破損したインデックスは、再度REINDEXを実行することで修復できます。
     </p></li><li class="listitem"><!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [18b87b201] 2022-01-13 18:13:41 -0800
Branch: REL_14_STABLE [dad1539ae] 2022-01-14 10:56:12 -0800
--><p>
<!--
      Fix corruption of HOT chains when a RECENTLY_DEAD tuple changes
      state to fully DEAD during page pruning (Andres Freund)
-->
ページプルーニング中にRECENTLY_DEADタプルが状態を完全にDEADに変更した時のHOTチェーンの破損が修正されました。
(Andres Freund)
     </p><p>
<!--
      It was possible for <command>VACUUM</command> to remove a
      recently-dead tuple while leaving behind a redirect item that
      pointed to it.  When the tuple's item slot is later re-used by
      some new tuple, that tuple would be seen as part of the
      pre-existing HOT chain, creating a form of index corruption.
      If this has happened, reindexing the table should repair the
      damage.  However, this is an extremely low-probability scenario,
      so we do not recommend reindexing just on the chance that it might
      have happened.
-->
<code class="command">VACUUM</code>では、それを指すリダイレクトアイテムが残っている状態でRECENTLY_DEADのタプルを削除することがありえました。
そのようなタプルのアイテムスロットが後に新しいタプルで再利用されると、既存のHOTチェーンの一部とみなされ、インデックス破損が形成されます。
発生した場合はテーブルのインデックス再作成で修復できます。
しかし、これは非常に確率の低いシナリオであるため、発生したかもしれないという可能性だけでインデックスを再作成することは推奨されません。
     </p></li><li class="listitem"><!--
Author: Etsuro Fujita <efujita@postgresql.org>
Branch: master [f862d5705] 2022-02-03 15:15:00 +0900
Branch: REL_14_STABLE [7b0cec2fa] 2022-02-03 15:15:01 +0900
Author: Andres Freund <andres@anarazel.de>
Branch: master [7c1aead6c] 2022-02-03 10:44:26 -0800
Branch: REL_14_STABLE [2a3958e4d] 2022-02-03 10:44:38 -0800
--><p>
<!--
      Fix crash in EvalPlanQual rechecks for tables with a mix of local
      and foreign partitions (Etsuro Fujita)
-->
ローカルパーミッションと外部パーティションが混在するテーブルのEvalPlanQual再チェックでのクラッシュが修正されました。
(Etsuro Fujita)
     </p></li><li class="listitem"><!--
Author: Michael Paquier <michael@paquier.xyz>
Branch: master [dc084d7c7] 2022-01-29 10:22:42 +0900
Branch: REL_14_STABLE [b30282fcc] 2022-01-29 10:23:17 +0900
--><p>
<!--
      Fix dangling pointer in <command>COPY TO</command>
      (Bharath Rupireddy)
-->
<code class="command">COPY TO</code>でのメモリ処理の誤りが修正されました。
(Bharath Rupireddy)
     </p><p>
<!--
      This oversight could cause an incorrect error message or a crash
      after an error in <command>COPY</command>.
-->
この見落としにより、<code class="command">COPY</code>でエラーが発生した後、誤ったエラーメッセージやクラッシュが発生することがありました。
     </p></li><li class="listitem"><!--
Author: Tomas Vondra <tomas.vondra@postgresql.org>
Branch: master [6d554e3fc] 2022-01-23 03:16:31 +0100
Branch: REL_14_STABLE [a192243c7] 2022-01-23 03:18:02 +0100
Branch: REL_13_STABLE [267ccc38b] 2022-01-23 03:20:32 +0100
--><p>
<!--
      Avoid null-pointer crash in <command>ALTER STATISTICS</command>
      when the statistics object is dropped concurrently (Tomas Vondra)
-->
同時に統計オブジェクトが削除された時に発生する<code class="command">ALTER STATISTICS</code>でのNULLポインタ参照によるクラッシュが回避されました。
(Tomas Vondra)
     </p></li><li class="listitem"><!--
Author: Alexander Korotkov <akorotkov@postgresql.org>
Branch: master [5cc9c8374] 2021-12-13 17:17:33 +0300
Branch: REL_14_STABLE [7615edd1d] 2021-12-13 17:20:07 +0300
--><p>
<!--
      Correctly handle alignment padding when extracting a range from a
      multirange (Alexander Korotkov)
-->
多重範囲型データから範囲を抽出する際に、アライメントのパディングが正しく処理されるようになりました。
(Alexander Korotkov)
     </p><p>
<!--
      This error could cause crashes when handling multiranges over
      variable-length data types.
-->
この誤りは可変長データ型の多重範囲を処理する際にクラッシュを引き起こす可能性がありました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [647889667] 2022-01-16 16:39:26 -0500
Branch: REL_14_STABLE [17da9d4c2] 2022-01-16 16:39:26 -0500
--><p>
<!--
      Fix over-optimistic use of hashing for
      anonymous <type>RECORD</type> data types (Tom Lane)
-->
無名<code class="type">RECORD</code>データ型に対するハッシュの過度な楽観的使用が修正されました。
(Tom Lane)
     </p><p>
<!--
      This prevents some cases of <quote>could not identify a hash
      function for type record</quote> errors.
-->
これにより、<span class="quote">「<span class="quote">could not identify a hash function for type record</span>」</span>（型レコードのハッシュ関数を識別できない）のエラーが防止されます。
     </p></li><li class="listitem"><!--
Author: David Rowley <drowley@postgresql.org>
Branch: master [f9a74c149] 2022-01-25 21:10:03 +1300
Branch: REL_14_STABLE [357ff6615] 2022-01-25 21:14:27 +1300
Branch: REL_13_STABLE [f8807e774] 2022-01-25 21:15:00 +1300
Branch: REL_12_STABLE [2ccd8fb29] 2022-01-25 21:15:40 +1300
--><p>
<!--
      Fix incorrect plan creation for parallel single-child Append nodes
      (David Rowley)
-->
パラレルで単一の子ノードを持つAppendノードに対する誤ったプラン作成が修正されました。
(David Rowley)
     </p><p>
<!--
      In some cases the Append would be simplified away when it should not
      be, leading to wrong query results (duplicated rows).
-->
場合によっては、Appendが単純化されるべきではない時に単純化され、誤った問い合わせ結果（重複した行）が発生することがありました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [4ace45677] 2022-01-01 16:12:03 -0500
Branch: REL_14_STABLE [cabea571d] 2022-01-01 16:12:03 -0500
Branch: REL_13_STABLE [45ae42714] 2022-01-01 16:12:03 -0500
Branch: REL_12_STABLE [f789b7732] 2022-01-01 16:12:03 -0500
Branch: REL_11_STABLE [e3a4c7981] 2022-01-01 16:12:03 -0500
Branch: REL_10_STABLE [70a31a0e3] 2022-01-01 16:12:03 -0500
Branch: master [9a3ddeb51] 2022-01-03 15:42:27 -0500
Branch: REL_14_STABLE [d228af79d] 2022-01-03 15:42:27 -0500
Branch: REL_13_STABLE [20d08b2c6] 2022-01-03 15:42:27 -0500
Branch: REL_12_STABLE [9c4f38908] 2022-01-03 15:42:27 -0500
Branch: REL_11_STABLE [ec3674521] 2022-01-03 15:42:27 -0500
Branch: REL_10_STABLE [7d344f004] 2022-01-03 15:42:27 -0500
--><p>
<!--
      Fix index-only scan plans for cases where not all index columns can
      be returned (Tom Lane)
-->
インデックスに返却不能の列が含まれる場合について、インデックスオンリースキャンプランが修正されました。
(Tom Lane)
     </p><p>
<!--
      If an index has both returnable and non-returnable columns, and one
      of the non-returnable columns is an expression using a table column
      that appears in a returnable index column, then a query using that
      expression could result in an index-only scan plan that attempts to
      read the non-returnable column, instead of recomputing the
      expression from the returnable column as intended.  The
      non-returnable column would read as NULL, resulting in wrong query
      results.
-->
インデックスの列にはインデックスオンリースキャンで返すことができるか（返却可能列か返却不能列か）を示す、returnable属性があります。
インデックスが返却可能列と返却不能列の両方を持ち、返却不能列の1つが返却可能列にあらわれるテーブル列を使用した式である場合、その式を使用した問い合わせは、返却可能列から式を再計算するのではなく、返却不能列を読もうとするインデックスオンリースキャンプランとなる可能性がありました。
返却不能列はNULLとして読み込まれるため、誤った問い合わせ結果が発生しました。
     </p></li><li class="listitem"><!--
Author: David Rowley <drowley@postgresql.org>
Branch: master [411137a42] 2021-11-24 23:29:14 +1300
Branch: REL_14_STABLE [c2dc7b9e1] 2021-11-24 23:29:56 +1300
--><p>
<!--
      Fix Memoize plan nodes to handle subplans that use parameters
      coming from above the Memoize (David Rowley)
-->
Memoizeの上位からきたパラメータを使用するサブプランを処理できるように、Memoizeプランノードが修正されました。
(David Rowley)
     </p></li><li class="listitem"><!--
Author: David Rowley <drowley@postgresql.org>
Branch: master [e502150f7] 2021-11-24 10:06:59 +1300
Branch: REL_14_STABLE [6c32c0977] 2021-11-24 10:07:38 +1300
--><p>
<!--
      Fix Memoize plan nodes to work correctly with non-hashable join
      operators (David Rowley)
-->
Memoizeプランノードがハッシュ不可能な結合の演算子で正しく動作するように修正されました。
(David Rowley)
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9c356f4b2] 2021-12-16 15:36:02 -0500
Branch: REL_14_STABLE [f9a8bc9f2] 2021-12-16 15:36:02 -0500
Branch: REL_13_STABLE [da0d8a454] 2021-12-16 15:36:02 -0500
Branch: REL_12_STABLE [e1fd61c8c] 2021-12-16 15:36:02 -0500
Branch: REL_11_STABLE [c43d72b24] 2021-12-16 15:36:02 -0500
Branch: REL_10_STABLE [1acf34586] 2021-12-16 15:36:02 -0500
--><p>
<!--
      Ensure that casting to an unspecified typmod generates a RelabelType
      node rather than a length-coercion function call (Tom Lane)
-->
指定されていない型修飾へのキャストにより、長さの強制関数の呼び出しではなく、RelabelTypeノードが生成されるようになりました。
(Tom Lane)
     </p><p>
<!--
      While the coercion function should do the right thing (nothing),
      this translation is undesirably inefficient.
-->
強制関数は正しい動作（何もしないこと）を実行しますが、この変換は非効率で望ましくありません。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [8e2e0f758] 2022-01-29 11:41:18 -0500
Branch: REL_14_STABLE [c025067f6] 2022-01-29 11:41:18 -0500
Branch: REL_13_STABLE [5ad70564f] 2022-01-29 11:41:12 -0500
--><p>
<!--
      Fix checking of <type>anycompatible</type>-family data type matches
      (Tom Lane)
-->
<code class="type">anycompatible</code>で始まる名前の疑似データ型について一致判定が修正されました。
(Tom Lane)
     </p><p>
<!--
      In some cases the parser would think that a function or operator
      with <type>anycompatible</type>-family polymorphic parameters
      matches a set of arguments that it really shouldn't match.  In
      reported cases, that led to matching more than one operator to a
      call, leading to ambiguous-operator errors; but a failure later on
      is also possible.
-->
<code class="type">anycompatible</code>で始まる名前の疑似データ型の多相パラメータを持つ関数や演算子が、実際には本当は一致しないはずの引数の集合に一致したとパーサが誤判断することがありました。
報告されたケースでは、一つの呼び出しに複数の演算子を一致させることになり、あいまいな演算子だというエラーを引き起こしました。
一方、より後の処理段階でエラーを起こすこともあり得ました。
     </p></li><li class="listitem"><!--
Author: Alvaro Herrera <alvherre@alvh.no-ip.org>
Branch: master [44bd3ed33] 2021-11-26 11:14:27 -0300
Branch: REL_14_STABLE [d24dac954] 2021-11-26 11:14:27 -0300
Branch: REL_13_STABLE [ef41c3fd6] 2021-11-26 11:14:27 -0300
Branch: REL_12_STABLE [9c6ab1ef3] 2021-11-26 11:14:27 -0300
Branch: REL_11_STABLE [2c3fddcbb] 2021-11-26 11:14:27 -0300
Branch: REL_10_STABLE [72cf39d51] 2021-11-26 11:14:27 -0300
--><p>
<!--
      Fix WAL replay failure when database consistency is reached exactly
      at a WAL page boundary (&Aacute;lvaro Herrera)
-->
ちょうどWALページの境界でデータベースが整合性を持つ状態に到達した場合の、WALリプレイ失敗が修正されました。
(Álvaro Herrera)
     </p></li><li class="listitem"><!--
Author: Tomas Vondra <tomas.vondra@postgresql.org>
Branch: master [f192e1bdf] 2022-01-27 20:13:55 +0100
Branch: REL_14_STABLE [fb2f8e534] 2022-01-27 20:15:37 +0100
Branch: REL_13_STABLE [e90f258ac] 2022-01-27 20:16:39 +0100
Branch: REL_12_STABLE [4b8af2bf8] 2022-01-27 20:17:36 +0100
Branch: REL_11_STABLE [5cb88648e] 2022-01-27 20:18:22 +0100
Branch: REL_10_STABLE [4ef38fbe8] 2022-01-27 20:19:39 +0100
--><p>
<!--
      Fix startup of a physical replica to tolerate transaction ID
      wraparound (Abhijit Menon-Sen, Tomas Vondra)
-->
物理ストリーミングレプリケーションのスタンバイサーバのstartup処理がトランザクションID周回を許容するように修正されました。
(Abhijit Menon-Sen, Tomas Vondra)
     </p><p>
<!--
      If a replica server is started while the set of active transactions
      on the primary crosses a wraparound boundary (so that there are some
      newer transactions with smaller XIDs than older ones), the replica
      would fail with <quote>out-of-order XID insertion in
      KnownAssignedXids</quote>.  The replica would retry, but could never
      get past that error.
-->
プライマリ上のアクティブなトランザクションのセットが周回境界を越えている間にレプリカサーバが起動すると（古いトランザクションよりも小さいXIDを持つ新しいトランザクションがいくつか存在するため）、<span class="quote">「<span class="quote">out-of-order XID insertion in KnownAssignedXids</span>」</span>エラーが生じました。
レプリカは再試行されますがこのエラーを乗り越えることはできません。
     </p></li><li class="listitem"><!--
Author: Amit Kapila <akapila@postgresql.org>
Branch: master [5e97905a2] 2021-12-09 08:36:59 +0530
Branch: REL_14_STABLE [614b77d65] 2021-12-09 08:49:50 +0530
Branch: REL_13_STABLE [3f06c00cf] 2021-12-09 09:00:35 +0530
--><p>
<!--
      In logical replication, avoid double transmission of a child table's
      data (Hou Zhijie)
-->
ロジカルレプリケーションで子テーブルのデータの二重送信が回避されるようになりました。
(Hou Zhijie)
     </p><p>
<!--
      If a publication includes both child and parent tables, and has
      the <literal>publish_via_partition_root</literal> option set,
      subscribers uselessly initiated synchronization on both child and
      parent tables.  Ensure that only the parent table is synchronized in
      such cases.
-->
パブリケーションに子テーブルと親テーブルの両方が含まれ、<code class="literal">publish_via_partition_root</code>オプションが設定されている場合、サブスクライバは子テーブルと親テーブルの両方で無駄な同期を開始していました。
このような場合は親テーブルのみが同期されるようになりました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [6aa518614] 2022-01-24 15:33:38 -0500
Branch: REL_14_STABLE [1efcc5946] 2022-01-24 15:33:34 -0500
Branch: REL_13_STABLE [d67354d87] 2022-01-24 15:33:34 -0500
Branch: REL_12_STABLE [689f75d6e] 2022-01-24 15:33:34 -0500
Branch: REL_11_STABLE [4ec54498c] 2022-01-24 15:33:34 -0500
Branch: REL_10_STABLE [9af6d4b5a] 2022-01-24 15:33:34 -0500
Branch: master [3c06ec6d1] 2022-01-24 12:09:46 -0500
Branch: REL_14_STABLE [ef9706bbc] 2022-01-24 12:09:46 -0500
Branch: REL_13_STABLE [c94c6612d] 2022-01-24 12:09:46 -0500
Branch: REL_12_STABLE [a8ce5c8d7] 2022-01-24 12:09:46 -0500
Branch: REL_11_STABLE [449a69623] 2022-01-24 12:09:46 -0500
Branch: REL_10_STABLE [daf658982] 2022-01-24 12:09:46 -0500
--><p>
<!--
      Remove lexical limitations for SQL commands issued on a logical
      replication connection (Tom Lane)
-->
ロジカルレプリケーション接続で発行されるSQLコマンドの字句制限が撤廃されました。
(Tom Lane)
     </p><p>
<!--
      The walsender process would fail for a SQL command containing an
      unquoted semicolon, or with dollar-quoted literals containing odd
      numbers of single or double quote marks, or when the SQL command
      starts with a comment.  Moreover, faulty error recovery could lead
      to unexpected errors in later commands too.
-->
これまでは、引用符で囲まれていないセミコロンを含むSQLコマンド、奇数の一重引用符または二重引用符を含むドル引用符で囲まれたリテラル、またはSQLコマンドがコメントで始まる場合、walsenderプロセスがエラーを起こしました。
さらに、不完全なエラーからの回復処理により以降のコマンドでも予期せぬエラーが発生する可能性がありました。
     </p></li><li class="listitem"><!--
Author: Amit Kapila <akapila@postgresql.org>
Branch: master [e464cb7af] 2021-12-08 15:18:56 +0530
Branch: REL_14_STABLE [f2e1730ee] 2021-12-08 15:21:12 +0530
--><p>
<!--
      Ensure that replication origin timestamp is set while replicating
      a <command>ROLLBACK PREPARED</command> operation (Masahiko Sawada)
-->
<code class="command">ROLLBACK PREPARED</code>操作のレプリケーションに際して、レプリケーション元のタイムスタンプが確実に設定されるようになりました。
(Masahiko Sawada)
     </p></li><li class="listitem"><!--
Author: Michael Paquier <michael@paquier.xyz>
Branch: master [237d1f317] 2022-01-21 14:54:04 +0900
Branch: REL_14_STABLE [84db5169d] 2022-01-21 14:54:47 +0900
Branch: REL_13_STABLE [b5f634116] 2022-01-21 14:54:51 +0900
Branch: REL_12_STABLE [1c0452c48] 2022-01-21 14:54:55 +0900
Branch: REL_11_STABLE [0ffe2975c] 2022-01-21 14:54:59 +0900
Branch: REL_10_STABLE [919be95c6] 2022-01-21 14:55:04 +0900
--><p>
<!--
      Fix possible loss of the commit timestamp for the last
      subtransaction of a transaction (Alex Kingsborough, Kyotaro Horiguchi)
-->
トランザクションの最後のサブトランザクションのコミットタイムスタンプが記録されない可能性があり、修正されました。
(Alex Kingsborough, Kyotaro Horiguchi)
     </p></li><li class="listitem"><!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [1fabec7d7] 2022-01-21 11:22:55 -0800
Branch: REL_14_STABLE [2b7dbe4bd] 2022-01-21 11:24:12 -0800
Branch: REL_13_STABLE [fd48e5f5d] 2022-01-21 11:24:12 -0800
Branch: REL_12_STABLE [1c6d055ba] 2022-01-21 11:24:12 -0800
Branch: REL_11_STABLE [2c15b29f7] 2022-01-21 11:24:12 -0800
Branch: REL_10_STABLE [f862cc09f] 2022-01-21 11:24:12 -0800
--><p>
<!--
      Be sure to <function>fsync</function>
      the <filename>pg_logical/mappings</filename> subdirectory during
      checkpoints (Nathan Bossart)
-->
チェックポイントに際して、<code class="filename">pg_logical/mappings</code>サブディレクトリを必ず<code class="function">fsync</code>するようになりました。
(Nathan Bossart)
     </p><p>
<!--
      On some filesystems this oversight could lead to losing logical
      rewrite status files after a system crash.
-->
一部のファイルシステムでは、この見落としによりシステムクラッシュ後に論理書き換えの状態ファイルが失われる可能性がありました。
     </p></li><li class="listitem"><!--
Author: Tomas Vondra <tomas.vondra@postgresql.org>
Branch: master [20b9fa308] 2022-01-15 19:06:48 +0100
Branch: REL_14_STABLE [ea212bd95] 2022-01-15 19:05:22 +0100
Branch: REL_13_STABLE [d6817032d] 2022-01-15 19:14:00 +0100
Branch: REL_12_STABLE [9d1bcf5dc] 2022-01-15 19:02:58 +0100
Branch: REL_11_STABLE [491182e52] 2022-01-15 18:32:20 +0100
Branch: REL_10_STABLE [9211c2e38] 2022-01-15 18:30:45 +0100
--><p>
<!--
      Build extended statistics for partitioned tables (Justin Pryzby)
-->
パーティションテーブルの拡張統計情報が作成されるようになりました。
(Justin Pryzby)
     </p><p>
<!--
      A previous bug fix disabled building of extended statistics for
      old-style inheritance trees, but it also prevented building them for
      partitioned tables, which was an unnecessary restriction.
      This change allows <command>ANALYZE</command> to compute values for
      statistics objects for partitioned tables.  (But note that
      autovacuum does not process partitioned tables as such, so you must
      periodically issue manual <command>ANALYZE</command> on the
      partitioned table if you want to maintain such statistics.)
-->
以前のバグ修正により、古い形式の継承ツリーに対する拡張統計の構築が無効になりましたが、パーティションテーブルに対する構築も無効になっており、不要な制限となっていました。
今回の変更により、<code class="command">ANALYZE</code>はパーティションテーブルの統計オブジェクトの値を計算できるようになりました。
（しかし、autovacuumはパーティションテーブルを自動処理しないので、パーティションテーブルの統計情報を維持したい場合は、パーティションテーブルに対して定期的に手動<code class="command">ANALYZE</code>を実行する必要があることに注意してください。）
     </p></li><li class="listitem"><!--
Author: Tomas Vondra <tomas.vondra@postgresql.org>
Branch: master [36c4bc6e7] 2022-01-15 02:20:54 +0100
Branch: REL_14_STABLE [2cc007fd0] 2022-01-15 02:26:26 +0100
Branch: REL_13_STABLE [acfde7c58] 2022-01-15 02:30:06 +0100
Branch: REL_12_STABLE [76569ad6f] 2022-01-15 03:14:55 +0100
Branch: REL_11_STABLE [b3cac25f4] 2022-01-15 02:40:40 +0100
Branch: REL_10_STABLE [ff0e7c7e8] 2022-01-15 03:05:06 +0100
--><p>
<!--
      Ignore extended statistics for inheritance trees (Justin Pryzby)
-->
継承ツリーの拡張統計情報を無視するようになりました。
(Justin Pryzby)
     </p><p>
<!--
      Currently, extended statistics values are only computed locally for
      each table, not for entire inheritance trees.  However the values
      were mistakenly consulted when planning queries across inheritance
      trees, possibly resulting in worse-than-default estimates.
-->
現在、拡張統計情報の値は継承ツリー全体ではなく各テーブルに対してローカルでのみ計算されます。
しかし、この値が継承ツリーをまたがる問い合わせを計画する際に誤って参照されたため、デフォルトよりも悪い推定値になる可能性がありました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [7ead9925f] 2022-01-06 16:46:46 -0500
Branch: REL_14_STABLE [f285d9583] 2022-01-06 16:46:46 -0500
Branch: REL_13_STABLE [86d4bbb56] 2022-01-06 16:46:46 -0500
Branch: REL_12_STABLE [ccc7c3ad8] 2022-01-06 16:46:46 -0500
Branch: REL_11_STABLE [2ce113a4f] 2022-01-06 16:46:46 -0500
Branch: REL_10_STABLE [e5b044c84] 2022-01-06 16:46:46 -0500
--><p>
<!--
      Disallow altering data type of a partitioned table's columns when
      the partitioned table's row type is used as a composite type
      elsewhere (Tom Lane)
-->
パーティションテーブルの行型が他の場所で複合型として使用されている場合、パーティションテーブルの列のデータ型を変更することが禁止されました。
(Tom Lane)
     </p><p>
<!--
      This restriction has long existed for regular tables, but through an
      oversight it was not checked for partitioned tables.
-->
この制限は通常のテーブルでは長い間存在していましたが、見落としによりパーティションテーブルではチェックされていませんでした。
     </p></li><li class="listitem"><!--
Author: Michael Paquier <michael@paquier.xyz>
Branch: master [f0d43947a] 2021-11-25 15:04:56 +0900
Branch: REL_14_STABLE [e415916e2] 2021-11-25 15:05:24 +0900
Branch: REL_13_STABLE [37827de43] 2021-11-25 15:05:28 +0900
Branch: REL_12_STABLE [216156fec] 2021-11-25 15:05:31 +0900
Branch: REL_11_STABLE [dffe80e55] 2021-11-25 15:05:34 +0900
Branch: REL_10_STABLE [817c469c2] 2021-11-25 15:05:37 +0900
--><p>
<!--
      Disallow <literal>ALTER TABLE ... DROP NOT NULL</literal> for a
      column that is part of a replica identity index (Haiying Tang, Hou
      Zhijie)
-->
レプリカアイデンティティ(REPLICA IDENTITY) のインデックスの一部である列に対する<code class="literal">ALTER TABLE ... DROP NOT NULL</code>が禁止されました。
(Haiying Tang, Hou Zhijie)
     </p><p>
<!--
      The same prohibition already existed for primary key indexes.
-->
同じ禁止事項はすでに主キーインデックスに存在していました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [d8fbbb925] 2022-01-22 13:32:40 -0500
Branch: REL_14_STABLE [3839e29c5] 2022-01-22 13:32:40 -0500
Branch: REL_13_STABLE [31b7b4d26] 2022-01-22 13:32:40 -0500
Branch: REL_12_STABLE [e2d53c876] 2022-01-22 13:32:40 -0500
Branch: REL_11_STABLE [26c841ed1] 2022-01-22 13:32:40 -0500
--><p>
<!--
      Correctly update cached table state during <command>ALTER TABLE ADD
      PRIMARY KEY USING INDEX</command> (Hou Zhijie)
-->
<code class="command">ALTER TABLE ADD PRIMARY KEY USING INDEX</code>の実行に際して、キャッシュされたテーブルの状態が正しく更新されるようになりました。
(Hou Zhijie)
     </p><p>
<!--
      Concurrent sessions failed to update their opinion of whether the
      table has a primary key, possibly causing incorrect logical
      replication behavior.
-->
同時実行中のセッションが、テーブルに主キーがあるかどうかに関する判定を更新できなかったため、不正なロジカルレプリケーションの動作が発生する可能性がありました。
     </p></li><li class="listitem"><!--
Author: Amit Kapila <akapila@postgresql.org>
Branch: master [354a1f8d2] 2021-11-16 08:10:13 +0530
Branch: REL_14_STABLE [232fd72a5] 2021-11-16 08:34:24 +0530
Branch: REL_13_STABLE [63c3eeddc] 2021-11-16 08:46:12 +0530
Branch: REL_12_STABLE [9816e2d31] 2021-11-16 09:05:51 +0530
Branch: REL_11_STABLE [40fb634b1] 2021-11-16 09:25:04 +0530
Branch: REL_10_STABLE [2c0443c59] 2021-11-16 09:44:00 +0530
--><p>
<!--
      Correctly update cached table state when switching <literal>REPLICA
      IDENTITY</literal> index (Tang Haiying, Hou Zhijie)
-->
<code class="literal">REPLICA IDENTITY</code>インデックスから切り替えを行う際、キャッシュされたテーブルの状態が正しく更新されるようになりました。
(Tang Haiying, Hou Zhijie)
     </p><p>
<!--
      Concurrent sessions failed to update their opinion of which index is
      the replica identity one, possibly causing incorrect logical
      replication behavior.
-->
同時実行中のセッションが、どのインデックスが<code class="literal">REPLICA IDENTITY</code>であるかの判定を更新できなかったため、不正なロジカルレプリケーションの動作が発生する可能性がありました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [f4e7ae2b8] 2021-11-20 14:29:56 -0500
Branch: REL_14_STABLE [6d07cbc50] 2021-11-20 14:29:56 -0500
--><p>
<!--
      Fix failure of SP-GiST indexes when the indexed column's data type
      is binary-compatible with the declared input type of the operator
      class (Tom Lane)
-->
SP-GiSTインデックス作成で、インデックス対象列のデータ型が演算子クラスの宣言された入力型とバイナリ互換性がある場合でもエラーとなっていたのが修正されました。
(Tom Lane)
     </p><p>
<!--
      Such cases should work, but failed with <quote>compress method must
      be defined when leaf type is different from input type</quote>.
-->
このような場合は動作すべきでしたが<span class="quote">「<span class="quote">compress method must be defined when leaf type is different from input type</span>」</span>エラーが発生していました。
     </p></li><li class="listitem"><!--
Author: Amit Kapila <akapila@postgresql.org>
Branch: master [0f0cfb494] 2021-11-19 09:04:40 +0530
Branch: REL_14_STABLE [ead49ebc0] 2021-11-19 09:14:09 +0530
Branch: REL_13_STABLE [33b6dd83e] 2021-11-19 09:24:00 +0530
--><p>
<!--
      Allow parallel vacuuming and concurrent index building to be ignored
      while computing oldest xmin (Masahiko Sawada)
-->
最も古いxmin値を計算する際、並列のバキュームとインデックス同時構築を無視できるようにようになりました。
(Masahiko Sawada)
     </p><p>
<!--
      Non-parallelized instances of these operations were already ignored,
      but the logic did not work for parallelized cases.  Holding back the
      xmin horizon has undesirable effects such as delaying vacuum
      cleanup.
-->
並列化されていない処理では既に無視されていましたが、並列化されたロジックでは機能していませんでした。
その結果、xminの限界値の前進が抑えられることで、バキュームのクリーンアップが遅れるなどの望ましくない影響がありました。
     </p></li><li class="listitem"><!--
Author: Peter Geoghegan <pg@bowt.ie>
Branch: master [db6736c93] 2022-01-12 15:41:04 -0800
Branch: REL_14_STABLE [41ee68a91] 2022-01-12 15:41:02 -0800
--><p>
<!--
      Fix memory leak when updating expression indexes (Peter Geoghegan)
-->
式インデックスを更新するときのメモリリークが修正されました。
(Peter Geoghegan)
     </p><p>
<!--
      An <command>UPDATE</command> affecting many rows could consume
      significant amounts of memory.
-->
式インデックスを持つテーブルの多くの行を更新する<code class="command">UPDATE</code>文は、大量のメモリを消費する可能性がありました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [babe545ca] 2021-12-01 13:44:46 -0500
Branch: REL_14_STABLE [8f4b0200e] 2021-12-01 13:44:47 -0500
Branch: REL_13_STABLE [7413caabe] 2021-12-01 13:44:47 -0500
Branch: REL_12_STABLE [5cf08b4db] 2021-12-01 13:44:47 -0500
Branch: REL_11_STABLE [82d354411] 2021-12-01 13:44:47 -0500
Branch: REL_10_STABLE [fec187dc3] 2021-12-01 13:44:47 -0500
--><p>
<!--
      Avoid leaking memory during <command>REASSIGN OWNED BY</command>
      operations that reassign ownership of many objects (Justin Pryzby)
-->
多数のオブジェクトの所有権を変更する<code class="command">REASSIGN OWNED BY</code>コマンド実行中にメモリリークが発生しないように修正されました。
(Justin Pryzby)
     </p></li><li class="listitem"><!--
Author: Michael Paquier <michael@paquier.xyz>
Branch: master [6ce16088b] 2022-01-05 10:27:07 +0900
Branch: REL_14_STABLE [5ddfebded] 2022-01-05 10:27:47 +0900
Branch: REL_13_STABLE [3f8062bcf] 2022-01-05 10:27:53 +0900
--><p>
<!--
      Improve performance of walsenders sending logical changes by
      avoiding unnecessary cache accesses (Hou Zhijie)
-->
不要なキャッシュアクセスを回避することにより、ロジカル変更を送信するwalsenderのパフォーマンスが向上しました。
(Hou Zhijie)
     </p></li><li class="listitem"><!--
Author: Magnus Hagander <magnus@hagander.net>
Branch: master [2dbb7b9b2] 2022-01-26 09:58:59 +0100
Branch: REL_14_STABLE [4afae689e] 2022-01-26 09:59:14 +0100
Branch: REL_13_STABLE [81596645c] 2022-01-26 09:59:19 +0100
Branch: REL_12_STABLE [aa58f5c53] 2022-01-26 09:59:23 +0100
--><p>
<!--
      Fix display of <literal>cert</literal> authentication method's
      options in <structname>pg_hba_file_rules</structname> view (Magnus
      Hagander)
-->
<code class="structname">pg_hba_file_rules</code>ビューでの<code class="literal">cert</code>認証方式のオプションの表示が修正されました。
(Magnus Hagander)
     </p><p>
<!--
      The <literal>cert</literal> authentication method implies
      <literal>clientcert=verify-full</literal>, but the
      <structname>pg_hba_file_rules</structname> view incorrectly reported
      <literal>clientcert=verify-ca</literal>.
-->
認証方式が<code class="literal">cert</code>の場合、<code class="literal">clientcert=verify-full</code>が暗黙的に指定されますが、<code class="structname">pg_hba_file_rules</code>ビューは誤って<code class="literal">clientcert=verify-ca</code>と報告していました。
     </p></li><li class="listitem"><!--
Author: Fujii Masao <fujii@postgresql.org>
Branch: master [108505d76] 2022-01-28 11:24:42 +0900
Branch: REL_14_STABLE [6e7ee55e7] 2022-01-28 11:25:45 +0900
--><p>
<!--
      Ensure that the session targeted
      by <function>pg_log_backend_memory_contexts()</function> sends its
      results only to the server's log (Fujii Masao)
-->
<code class="function">pg_log_backend_memory_contexts()</code>で対象とされるセッションが、結果をサーバのログのみに送信するよう修正されました。
(Fujii Masao)
     </p><p>
<!--
      Previously, a sufficiently high setting
      of <varname>client_min_messages</varname> could result in the log
      message also being sent to the connected client.  Since that client
      hadn't requested it, that would be surprising (and possibly a wire
      protocol violation).
-->
以前は、<code class="varname">client_min_messages</code>のレベルを高く設定すると、接続しているクライアントにもログメッセージが送信される可能性がありました。
これはクライアントが要求していない動作です（そしておそらくワイヤープロトコル違反でした）。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [43c217512] 2022-01-13 17:49:46 -0500
Branch: REL_14_STABLE [4aee39ddb] 2022-01-13 17:49:26 -0500
Branch: REL_13_STABLE [ca14c4184] 2022-01-13 17:49:26 -0500
Branch: REL_12_STABLE [45a3cefad] 2022-01-13 17:49:26 -0500
Branch: REL_11_STABLE [3a1bfe256] 2022-01-13 17:49:26 -0500
Branch: REL_10_STABLE [3433a1fc7] 2022-01-13 17:49:26 -0500
--><p>
<!--
      Fix display of whole-row variables appearing
      in <literal>INSERT ... VALUES</literal> rules (Tom Lane)
-->
<code class="literal">INSERT ... VALUES</code>のルールにおける行全体の変数の表示方法が修正されました。
(Tom Lane)
     </p><p>
<!--
      A whole-row variable would be printed as <quote>var.*</quote>,
      but that allows it to be expanded to individual columns when
      the rule is reloaded, resulting in different semantics.
      Attach an explicit cast to prevent that, as we do elsewhere.
-->
行全体の変数は、<span class="quote">「<span class="quote">var.*</span>」</span>として出力されますが、ルールが再ロードされたときに個々の列に展開されるため、異なるセマンティクスとなっていました。
これを防ぐために他の場所と同様に明示的なキャストが行われるようになりました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [a8d8445a7] 2021-11-17 11:31:31 -0500
Branch: REL_14_STABLE [5d5779aea] 2021-11-17 11:31:31 -0500
--><p>
<!--
      When reverse-listing a SQL-standard function body, display function
      parameters appropriately within <command>INSERT ... SELECT</command>
      (Tom Lane)
-->
SQL標準の関数本体を逆コンパイルによって再構築したときに、<code class="command">INSERT ... SELECT</code>内の関数パラメータが適切に表示されるようになりました。
(Tom Lane)
     </p><p>
<!--
      Previously, they'd come out
      as <literal>$<replaceable>N</replaceable></literal> even when the
      parameter had a name.
-->
これまでは、パラメータに名前が付いていても<code class="literal">$<em class="replaceable"><code>N</code></em></code>と出力されていました。
     </p></li><li class="listitem"><!--
Author: Michael Paquier <michael@paquier.xyz>
Branch: master [098c13455] 2021-11-11 15:00:59 +0900
Branch: REL_14_STABLE [b609db715] 2021-11-11 15:01:45 +0900
Branch: REL_13_STABLE [13c8adf90] 2021-11-11 15:01:54 +0900
--><p>
<!--
      Fix one-byte buffer overrun when applying Unicode string
      normalization to an empty string (Michael Paquier)
-->
空文字列に対してUnicode文字列正規化を適用する場合の1バイトのバッファオーバーランが修正されました。
(Michael Paquier)
     </p><p>
<!--
      The practical impact of this is limited thanks to alignment
      considerations; but in debug builds, a warning was raised.
-->
これによる実際の影響は、アライメントを考慮すれば限定的なものですが、デバッグビルドでは警告が発生していました。
     </p></li><li class="listitem"><!--
Author: Alvaro Herrera <alvherre@alvh.no-ip.org>
Branch: master [f66885bec] 2022-01-04 13:01:05 -0300
Branch: REL_14_STABLE [f185f35a8] 2022-01-04 13:01:05 -0300
Branch: REL_13_STABLE [29f9fb8fe] 2022-01-04 13:01:05 -0300
Branch: REL_12_STABLE [6b681cd05] 2022-01-04 13:01:05 -0300
Branch: REL_11_STABLE [28cd57416] 2022-01-04 13:01:05 -0300
Branch: REL_10_STABLE [026a93727] 2022-01-04 13:01:05 -0300
Author: Alvaro Herrera <alvherre@alvh.no-ip.org>
Branch: master [67a8cb5cb] 2022-01-04 13:21:23 -0300
Branch: REL_14_STABLE [f9db153c2] 2022-01-04 13:21:23 -0300
Branch: REL_13_STABLE [33fdd9f85] 2022-01-04 13:21:23 -0300
Branch: REL_12_STABLE [397b43948] 2022-01-04 13:21:23 -0300
Branch: REL_11_STABLE [b63851a45] 2022-01-04 13:21:23 -0300
Branch: REL_10_STABLE [4a8282425] 2022-01-04 13:21:23 -0300
Author: Michael Paquier <michael@paquier.xyz>
Branch: master [2e577c944] 2021-12-22 15:38:00 +0900
Branch: REL_14_STABLE [8a22a40b2] 2021-12-22 15:38:05 +0900
Author: Michael Paquier <michael@paquier.xyz>
Branch: master [ece8c7619] 2021-12-14 10:58:15 +0900
Branch: REL_14_STABLE [4be3e005e] 2021-12-14 10:58:25 +0900
Branch: REL_13_STABLE [3f710fc2b] 2021-12-14 10:58:29 +0900
Branch: REL_12_STABLE [65af1e842] 2021-12-14 10:58:33 +0900
Branch: REL_11_STABLE [8abb6c27e] 2021-12-14 10:58:37 +0900
--><p>
<!--
      Fix or remove some incorrect assertions (Simon Riggs, Michael
      Paquier, Alexander Lakhin)
-->
いくつかの誤ったアサートが修正または削除されました。
(Simon Riggs, Michael Paquier, Alexander Lakhin)
     </p><p>
<!--
      These errors should affect only debug builds, not production.
-->
これらの誤りは、製品ビルドではなく、デバッグビルドのみ影響を受けました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [1f655fdc3] 2022-01-21 15:36:27 -0500
Branch: REL_14_STABLE [f4ebf0dbe] 2022-01-21 15:36:28 -0500
Branch: REL_13_STABLE [64ebb43df] 2022-01-21 15:36:28 -0500
Branch: REL_12_STABLE [5521d8139] 2022-01-21 15:36:29 -0500
Branch: REL_11_STABLE [37f5dc8b8] 2022-01-21 15:36:29 -0500
Branch: REL_10_STABLE [0c7c94f90] 2022-01-21 15:36:30 -0500
--><p>
<!--
      Fix race condition that could lead to failure to localize error
      messages that are reported early in multi-threaded use
      of <application>libpq</application>
      or <application>ecpglib</application> (Tom Lane)
-->
<span class="application">libpq</span>と<span class="application">ecpglib</span>でマルチスレッド使用時における<code class="function">gettext()</code>初期化の競合状態が修正されました。
エラーメッセージのローカライズに失敗する可能性がありました。
(Tom Lane)
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [f3f467b8f] 2022-01-17 12:52:44 -0500
Branch: REL_14_STABLE [050949877] 2022-01-17 12:52:44 -0500
Branch: REL_13_STABLE [f27af7b88] 2022-01-17 12:52:44 -0500
Branch: REL_12_STABLE [38f099ef9] 2022-01-17 12:52:44 -0500
Branch: REL_11_STABLE [8b107467c] 2022-01-17 12:52:44 -0500
Branch: REL_10_STABLE [9d66c43eb] 2022-01-17 12:52:45 -0500
--><p>
<!--
      Avoid calling <function>strerror</function>
      from <application>libpq</application>'s <function>PQcancel</function>
      function (Tom Lane)
-->
<span class="application">libpq</span>の<code class="function">PQcancel</code>関数から<code class="function">strerror</code>を呼び出さないようになりました。
(Tom Lane)
     </p><p>
<!--
      <function>PQcancel</function> is supposed to be safe to call from a
      signal handler, but <function>strerror</function> is not safe.  The
      faulty usage only occurred in the unlikely event of failure to
      send the cancel message to the server, perhaps explaining the lack
      of reports.
-->
<code class="function">PQcancel</code>はシグナルハンドラから安全に呼び出すことができるはずですが、<code class="function">strerror</code>は安全ではありません。
誤った使用法は、サーバへのキャンセルメッセージ送信に失敗した場合にのみ発生しますので、そのためおそらくこれまで報告がありませんでした。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [d6eb5a0c2] 2021-11-12 14:55:32 -0500
Branch: REL_14_STABLE [99389cb66] 2021-11-12 14:55:32 -0500
Branch: REL_13_STABLE [843925fad] 2021-11-12 14:55:32 -0500
Branch: REL_12_STABLE [523adcc12] 2021-11-12 14:55:32 -0500
Branch: REL_11_STABLE [b062ca508] 2021-11-12 14:55:32 -0500
Branch: REL_10_STABLE [3bc46e4e9] 2021-11-12 14:55:32 -0500
--><p>
<!--
      Make <application>psql</application>'s <command>\password</command>
      command default to setting the password
      for <literal>CURRENT_USER</literal>, not the connection's original
      user name (Tom Lane)
-->
<span class="application">psql</span>の<code class="command">\password</code>コマンドで設定するパスワードは、接続元のユーザのものではなく、<code class="literal">CURRENT_USER</code>のものがデフォルトとなりました。
(Tom Lane)
     </p><p>
<!--
      This agrees with the documented behavior, and avoids probable
      permissions failure if <command>SET ROLE</command> or <command>SET
      SESSION AUTHORIZATION</command> has been done since the session began.
      To prevent confusion, the role name to be acted on is now
      included in the password prompt.
-->
これはドキュメントの動作と一致し、セッション開始後の<code class="command">SET ROLE</code>または<code class="command">SET SESSION AUTHORIZATION</code>を実行した場合に発生し得るパーミッションエラーを避けます。
また、混乱を防ぐために操作対象のロール名がパスワードプロンプトに含まれるようになりました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [9007d4ea7] 2022-01-17 21:19:02 -0500
Branch: REL_14_STABLE [3886785b4] 2022-01-17 21:18:49 -0500
Branch: REL_13_STABLE [90e0f9fd8] 2022-01-17 21:18:49 -0500
--><p>
<!--
      Fix <application>psql</application> <literal>\d</literal> command's
      query for identifying parent triggers (Justin Pryzby)
-->
親テーブルのトリガを識別するように<span class="application">psql</span>の<code class="literal">\d</code>コマンドのクエリが修正されました。
(Justin Pryzby)
     </p><p>
<!--
      The previous coding failed with <quote>more than one row returned by
      a subquery used as an expression</quote> if a partition had triggers
      and there were unrelated statement-level triggers of the same name
      on some parent partitioned table.
-->
パーティションにトリガがあり、親テーブルにも同じ名前の無関係な文レベルトリガが存在した場合、以前のコードでは<span class="quote">「<span class="quote">more than one row returned by a subquery used as an expression</span>」</span>というエラーが発生していました。
     </p></li><li class="listitem"><!--
Author: Michael Paquier <michael@paquier.xyz>
Branch: master [fe594abf7] 2022-01-08 16:44:45 +0900
Branch: REL_14_STABLE [f5bea8360] 2022-01-08 16:45:14 +0900
--><p>
<!--
      Make <application>psql</application>'s <literal>\d</literal> command
      sort a table's extended statistics objects by name not OID (Justin
      Pryzby)
-->
<span class="application">psql</span>の<code class="literal">\d</code>コマンドで、テーブルの拡張統計オブジェクトがOIDでなく名前でソートされるようになりました。
(Justin Pryzby)
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [fe7551744] 2022-01-16 14:59:20 -0500
Branch: REL_14_STABLE [d91d4338e] 2022-01-16 14:59:20 -0500
Branch: REL_13_STABLE [90a847e6d] 2022-01-16 14:59:20 -0500
--><p>
<!--
      Fix <application>psql</application>'s tab-completion of label values
      for enum types (Tom Lane)
-->
<span class="application">psql</span>の列挙型のラベルをタブを使って補完する機能が修正されました。
(Tom Lane)
     </p></li><li class="listitem"><!--
Author: Michael Paquier <michael@paquier.xyz>
Branch: master [10260c794] 2021-11-25 12:16:21 +0900
Branch: REL_14_STABLE [d2198b459] 2021-11-25 12:17:05 +0900
Branch: master [58651d8dd] 2021-11-30 09:55:50 +0900
Branch: REL_14_STABLE [5550a9c38] 2021-11-30 09:55:56 +0900
--><p>
<!--
      Fix failures on Windows when using the terminal as data source
      or destination (Dmitry Koval, Juan José Santamaría Flecha, Michael
      Paquier)
-->
Windowsの標準入力からの読み込みをデータソースまたは宛先に使用したときの障害が修正されました。
(Dmitry Koval, Juan José Santamaría Flecha, Michael Paquier)
     </p><p>
<!--
      This affects <application>psql</application>'s
      <command>\copy</command> command, as well
      as <application>pg_recvlogical</application> with
      <option>-f -</option>.
-->
これは、<span class="application">psql</span>の<code class="command">\copy</code>コマンド、または<span class="application">pg_recvlogical</span>で<code class="option">-f -</code>を付けた場合に影響がありました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [2131c049d] 2022-01-17 13:30:04 -0500
Branch: REL_14_STABLE [4e8726566] 2022-01-17 13:30:04 -0500
Branch: REL_13_STABLE [d18ec312f] 2022-01-17 13:30:04 -0500
Branch: REL_12_STABLE [6d1a854c1] 2022-01-17 13:30:04 -0500
Branch: REL_11_STABLE [92e6c1c9b] 2022-01-17 13:30:04 -0500
Branch: REL_10_STABLE [62bfa554b] 2022-01-17 13:30:04 -0500
--><p>
<!--
      In <application>psql</application> and some other client programs,
      avoid trying to invoke <function>gettext()</function> from a
      control-C signal handler (Tom Lane)
-->
<span class="application">psql</span>や他のクライアントプログラムでは、Ctrl+Cシグナルハンドラからの<code class="function">gettext()</code>呼び出しを避けるようになりました。
(Tom Lane)
     </p><p>
<!--
      While no reported failures have been traced to this mistake, it seems
      highly unlikely to be a safe thing to do.
-->
この誤りに起因する障害報告は確認されていませんが、非同期シグナル安全な関数ではないため安全とは言えません。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [282b6d00a] 2021-11-21 14:13:35 -0500
Branch: REL_14_STABLE [3bd7556bb] 2021-11-21 14:13:35 -0500
Branch: REL_13_STABLE [33edf4a3c] 2021-11-21 14:13:35 -0500
Branch: REL_12_STABLE [93295932d] 2021-11-21 14:13:35 -0500
Branch: REL_11_STABLE [c2242d364] 2021-11-21 14:13:35 -0500
Branch: REL_10_STABLE [3ce5d0884] 2021-11-21 14:13:35 -0500
--><p>
<!--
      Allow canceling the initial password prompt
      in <application>pg_receivewal</application>
      and <application>pg_recvlogical</application> (Tom Lane, Nathan
      Bossart)
-->
<span class="application">pg_receivewal</span>と<span class="application">pg_recvlogical</span>の初期パスワード入力がキャンセルできるようになりました。
(Tom Lane, Nathan Bossart)
     </p><p>
<!--
      Previously it was impossible to terminate these programs via control-C
      while they were prompting for a password.
-->
以前は、パスワード入力を求められている間、Ctrl+Cでこれらのプログラムを終了することができませんでした。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [b55f2b692] 2021-11-22 17:16:29 -0500
Branch: REL_14_STABLE [0fdf67476] 2021-11-22 17:16:29 -0500
Branch: REL_13_STABLE [d4f6a36d8] 2021-11-22 17:16:29 -0500
Branch: REL_12_STABLE [69949ea68] 2021-11-22 17:16:29 -0500
Branch: REL_11_STABLE [54619a25d] 2021-11-22 17:16:29 -0500
Branch: REL_10_STABLE [2b36973d9] 2021-11-22 17:16:29 -0500
--><p>
<!--
      Fix <application>pg_dump</application>'s dump ordering for
      user-defined casts (Tom Lane)
-->
<span class="application">pg_dump</span>がユーザ定義キャストをダンプするときの順序が修正されました。
(Tom Lane)
     </p><p>
<!--
      In rare cases, the output script might refer to a user-defined cast
      before it had been created.
-->
まれに、出力スクリプトがユーザ定義キャストを作成する前に参照してしまう場合がありました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [0b126c6a4] 2021-11-22 15:25:48 -0500
Branch: REL_14_STABLE [aedc4600d] 2021-11-22 15:25:48 -0500
Branch: REL_13_STABLE [6fc8b145e] 2021-11-22 15:25:48 -0500
Branch: REL_12_STABLE [1e7f588ad] 2021-11-22 15:25:48 -0500
Branch: master [db3a660c6] 2021-11-22 15:57:31 -0500
Branch: REL_14_STABLE [72842a575] 2021-11-22 15:57:43 -0500
Branch: REL_13_STABLE [b542e4596] 2021-11-22 15:57:52 -0500
Branch: REL_12_STABLE [72582531b] 2021-11-22 15:57:59 -0500
Branch: REL_11_STABLE [22d2b6611] 2021-11-22 15:58:05 -0500
Branch: REL_10_STABLE [b599b8f39] 2021-11-22 15:58:12 -0500
--><p>
<!--
      Fix <application>pg_dump</application>'s <option>&#45;-inserts</option>
      and  <option>&#45;-column-inserts</option> modes to handle tables
      containing both generated columns and dropped columns (Tom Lane)
-->
<span class="application">pg_dump</span>の<code class="option">--inserts</code>と<code class="option">--column-inserts</code>モードが修正され、以前削除された列と生成列の両方を含むテーブルを扱えるようになりました。
(Tom Lane)
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [248c3a937] 2021-11-17 14:16:34 -0500
Branch: REL_14_STABLE [53c4a580e] 2021-11-17 14:16:34 -0500
Branch: REL_13_STABLE [c8b5221b5] 2021-11-17 14:16:34 -0500
Branch: REL_12_STABLE [8378dad4c] 2021-11-17 14:16:34 -0500
Branch: REL_11_STABLE [a414eb850] 2021-11-17 14:16:34 -0500
Branch: REL_10_STABLE [13799bb93] 2021-11-17 14:16:34 -0500
Branch: master [3cac2c8ca] 2021-11-17 13:08:25 -0500
Branch: REL_14_STABLE [6b413b41b] 2021-11-17 13:08:25 -0500
Branch: REL_13_STABLE [bbda88c33] 2021-11-17 13:08:25 -0500
Branch: REL_12_STABLE [12bf11889] 2021-11-17 13:08:25 -0500
--><p>
<!--
      Fix possible mis-reporting of errors
      in <application>pg_dump</application>
      and <application>pg_basebackup</application> (Tom Lane)
-->
<span class="application">pg_dump</span>と<span class="application">pg_basebackup</span>での誤ったエラー報告の可能性が修正されました。
(Tom Lane)
     </p><p>
<!--
      The previous code failed to check for errors from some kernel calls,
      and could report the wrong errno values in other cases.
-->
以前のコードでは、一部のカーネル呼び出しからのエラーをチェックできず、他のケースでは誤ったerrno値を報告する可能性がありました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [54b1cb7eb] 2022-01-08 14:54:39 -0500
Branch: REL_14_STABLE [043c1e1a7] 2022-01-08 14:54:39 -0500
Branch: REL_13_STABLE [823d4c7e2] 2022-01-08 14:54:39 -0500
Branch: REL_12_STABLE [3a69d45af] 2022-01-08 14:54:39 -0500
Branch: REL_11_STABLE [38cbdd22d] 2022-01-08 14:54:39 -0500
Branch: REL_10_STABLE [b21986908] 2022-01-08 14:54:39 -0500
--><p>
<!--
      Fix results of index-only scans
      on <filename>contrib/btree_gist</filename> indexes
      on <type>char(<replaceable>N</replaceable>)</type> columns (Tom Lane)
-->
<code class="type">char(<em class="replaceable"><code>N</code></em>)</code>列に対する<code class="filename">contrib/btree_gist</code>のインデックスによるインデックスオンリースキャン結果が修正されました。
(Tom Lane)
     </p><p>
<!--
      Index-only scans returned column values with trailing spaces
      removed, which is not the expected behavior.  That happened because
      that's how the data was stored in the index.  This fix changes the
      code to store <type>char(<replaceable>N</replaceable>)</type> values
      with the expected amount of space padding.
      The behavior of such an index will not change immediately unless
      you <command>REINDEX</command> it; otherwise space-stripped values
      will be gradually replaced over time during updates.  Queries that
      do not use index-only scan plans will be unaffected in any case.
-->
インデックスオンリースキャンでは末尾の空白が削除された列値が返されましたが、これは想定の動作ではありませんでした。
これはデータがインデックスに格納される方法に起因したものです。
予想される空白埋めをした<code class="type">char(<em class="replaceable"><code>N</code></em>)</code>値を格納するようにコードが修正されました。
インデックスの動作は<code class="command">REINDEX</code>（インデックス再作成）をしない限りすぐには反映されません。
<code class="command">REINDEX</code>をしない場合、空白が削除された値は、更新を行っていくなかで徐々に置き換えられていきます。
インデックスオンリースキャン実行計画を使用しない問い合わせは、どの場合でも影響を受けません。
     </p></li><li class="listitem"><!--
Author: Etsuro Fujita <efujita@postgresql.org>
Branch: master [9e283fc85] 2022-01-27 16:15:00 +0900
Branch: REL_14_STABLE [d1cca9441] 2022-01-27 16:15:02 +0900
Author: Etsuro Fujita <efujita@postgresql.org>
Branch: master [6c07f9ebc] 2022-01-21 17:45:00 +0900
Branch: REL_14_STABLE [700e8fe6d] 2022-01-21 17:45:02 +0900
--><p>
<!--
      Fix edge cases in <filename>postgres_fdw</filename>'s handling of
      asynchronous queries (Etsuro Fujita)
-->
<code class="filename">postgres_fdw</code>の非同期クエリの処理における稀なケースが修正されました。
(Etsuro Fujita)
     </p><p>
<!--
      These errors could lead to crashes or incorrect results when
      attempting to parallelize scans of foreign tables.
-->
これらのエラーは、外部テーブルのスキャンを並列化しようとすると、クラッシュまたは誤った問い合わせ結果を引き起こす可能性がありました。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [bd233bdd8] 2022-01-25 18:52:44 -0500
Branch: REL_14_STABLE [803f0b173] 2022-02-01 19:03:41 -0500
Branch: REL_13_STABLE [4d7d196ff] 2022-02-01 19:03:41 -0500
Branch: REL_12_STABLE [aa2215d6b] 2022-02-01 19:03:41 -0500
Branch: REL_11_STABLE [e41176bd6] 2022-02-01 19:03:41 -0500
Branch: REL_10_STABLE [a72c43012] 2022-02-01 19:03:41 -0500
--><p>
<!--
      Change <application>configure</application> to use
      Python's <application>sysconfig</application> module, rather than
      the deprecated <application>distutils</application> module, to
      determine how to build PL/Python (Peter Eisentraut, Tom Lane, Andres
      Freund)
-->
PL/Pythonのビルド方法を決定するために、非推奨の<span class="application">distutils</span>モジュールではなく、Pythonの<span class="application">sysconfig</span>モジュールを使用するように<span class="application">configure</span>が変更されました。
(Peter Eisentraut, Tom Lane, Andres Freund) 
     </p><p>
<!--
      With Python 3.10, this
      avoids <application>configure</application>-time warnings
      about <application>distutils</application> being deprecated and
      scheduled for removal in Python 3.12.  Presumably, once 3.12 is
      out, <literal>configure &#45;-with-python</literal> would fail
      altogether.  This future-proofing does come at a
      cost: <application>sysconfig</application> did not exist before
      Python 2.7, nor before 3.2 in the Python 3 branch, so it is no
      longer possible to build PL/Python against long-dead Python
      versions.
-->
これによりPython 3.10では<span class="application">distutils</span>が非推奨になりPython 3.12での削除が予定されている<span class="application">configure</span>-timeの警告が回避されます。
おそらく、Python 3.12以降では<code class="literal">configure --with-python</code>は完全に失敗します。
<span class="application">sysconfig</span>がPython 2.7より前、また、Python 3.2より前にも存在しなかったため、古くなったPythonバージョンでのPL/Pythonのビルドはもはやできなくなります。
     </p></li><li class="listitem"><!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: master [b63710164] 2021-11-30 17:18:04 -0500
Branch: REL_14_STABLE [175edafd1] 2021-11-30 17:18:04 -0500
--><p>
<!--
      Re-allow cross-compilation
      without <application>OpenSSL</application> (Tom Lane)
-->
<span class="application">OpenSSL</span>なしでクロスコンパイルが再度可能となりました。
(Tom Lane)
     </p><p>
<!--
      <application>configure</application> should assume
      that <filename>/dev/urandom</filename> will be available on the
      target system, but it failed instead.
-->
<span class="application">configure</span>ではターゲットシステムで<code class="filename">/dev/urandom</code>が使用可能であるはずと想定すべきでしたが、代わりに<span class="application">configure</span>が失敗していました。
     </p></li><li class="listitem"><!--
Author: Andres Freund <andres@anarazel.de>
Branch: master [c89f40974] 2022-01-30 16:42:14 -0800
Branch: REL_14_STABLE [8484e3812] 2022-01-30 16:42:42 -0800
Branch: REL_13_STABLE [0dc0fe7b6] 2022-01-30 16:42:45 -0800
Branch: REL_12_STABLE [f173738d5] 2022-01-30 16:42:47 -0800
Branch: REL_11_STABLE [ad95a639a] 2022-01-30 16:42:49 -0800
Branch: REL_10_STABLE [2557a03f8] 2022-01-30 16:43:07 -0800
--><p>
<!--
      Fix PL/Perl compile failure on Windows with Perl 5.28 and later
      (Victor Wagner)
-->
Windows環境でPerl 5.28以降を使用するPL/Perlコンパイルの失敗が修正されました。
(Victor Wagner)
     </p></li><li class="listitem"><!--
Author: Peter Eisentraut <peter@eisentraut.org>
Branch: master [99e4d24a9] 2021-11-25 14:19:22 +0100
Branch: REL_14_STABLE [1cc13b83e] 2021-11-25 14:30:12 +0100
Branch: REL_13_STABLE [04875ae92] 2021-11-25 14:30:46 +0100
Branch: REL_12_STABLE [0d335cbd5] 2021-11-25 14:31:01 +0100
Branch: REL_11_STABLE [a83b1bab0] 2021-11-25 14:32:26 +0100
Branch: REL_10_STABLE [4339e10f0] 2021-11-25 14:32:43 +0100
--><p>
<!--
      Fix PL/Python compile failure with Python 3.11 and later (Peter
      Eisentraut)
-->
Python 3.11以降でのPL/Pythonコンパイルの失敗が修正されました。
(Peter Eisentraut)
     </p></li><li class="listitem"><!--
Author: Michael Paquier <michael@paquier.xyz>
Branch: master [b2265d305] 2021-11-24 13:03:23 +0900
Branch: REL_14_STABLE [0e681fa45] 2021-11-24 13:03:55 +0900
Branch: REL_13_STABLE [baef657d3] 2021-11-24 13:03:59 +0900
Branch: REL_12_STABLE [420d5e40b] 2021-11-24 13:04:03 +0900
Branch: REL_11_STABLE [1061e41ff] 2021-11-24 13:04:07 +0900
Branch: REL_10_STABLE [82881a9b9] 2021-11-24 13:04:12 +0900
--><p>
<!--
      Add support for building with Visual Studio 2022 (Hans Buschmann)
-->
Visual Studio 2022を使用したビルドがサポートされました。
(Hans Buschmann)
     </p></li><li class="listitem"><!--
Author: Andrew Dunstan <andrew@dunslane.net>
Branch: master [c3879a7b4] 2022-01-07 16:07:45 -0500
Branch: REL_14_STABLE [a7772e874] 2022-01-07 16:14:04 -0500
Branch: REL_13_STABLE [f3ded9c46] 2022-01-07 16:14:16 -0500
Branch: REL_12_STABLE [a4cde9153] 2022-01-07 16:14:23 -0500
Branch: REL_11_STABLE [c7fa0f55d] 2022-01-07 16:14:32 -0500
Branch: REL_10_STABLE [d897361c7] 2022-01-07 16:14:40 -0500
Branch: master [f80900be0] 2022-01-20 10:13:18 -0500
Branch: REL_14_STABLE [156a846d9] 2022-01-20 10:20:40 -0500
Branch: REL_13_STABLE [31680730e] 2022-01-20 10:20:51 -0500
Branch: REL_12_STABLE [22d8c2570] 2022-01-20 10:21:02 -0500
Branch: REL_11_STABLE [0a79feeca] 2022-01-20 10:21:12 -0500
Branch: REL_10_STABLE [a5bd14d93] 2022-01-20 10:21:28 -0500
--><p>
<!--
      Allow the <filename>.bat</filename> wrapper scripts in our MSVC
      build system to be called without first changing into their
      directory (Anton Voloshin, Andrew Dunstan)
-->
MSVCビルドシステムで<code class="filename">.bat</code>ラッパースクリプトを事前にディレクトリに移動することなく呼び出せるようになりました。
(Anton Voloshin, Andrew Dunstan)
     </p></li></ul></div></div></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter"><hr></hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-14-3.html" title="E.3. リリース 14.3">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-14-1.html" title="E.5. リリース 14.1">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">E.3. リリース 14.3 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 14.5文書">ホーム</a></td><td width="40%" align="right" valign="top"> E.5. リリース 14.1</td></tr></table></div></body></html>