<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>9.8. データ型書式設定関数</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="functions-matching.html" title="9.7. パターンマッチ" /><link rel="next" href="functions-datetime.html" title="9.9. 日付/時刻関数と演算子" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 14.0文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="functions.html" title="第9章 関数と演算子">第9章 関数と演算子</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 14.0 &#10;                      functions-formatting.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="functions-matching.html" title="9.7. パターンマッチ">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="functions.html" title="第9章 関数と演算子">上へ</a></td><td width="60%" align="center">9.8. データ型書式設定関数</td><td width="20%" align="right"> <a accesskey="n" href="functions-datetime.html" title="9.9. 日付/時刻関数と演算子">次へ</a></td></tr></table><hr /></div><div class="sect1" id="FUNCTIONS-FORMATTING"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.8. データ型書式設定関数</h2></div></div></div><span class="original">
   &lt;title&gt;Data Type Formatting Functions&lt;/title&gt;
</span><a id="id-1.5.8.14.2" class="indexterm"></a><p>
<span class="original">
    The &lt;productname&gt;PostgreSQL&lt;/productname&gt; formatting functions
    provide a powerful set of tools for converting various data types
    (date/time, integer, floating point, numeric) to formatted strings
    and for converting from formatted strings to specific data types.
    &lt;xref linkend="functions-formatting-table"/&gt; lists them.
    These functions all follow a common calling convention: the first
    argument is the value to be formatted and the second argument is a
    template that defines the output or input format.
</span>
<span class="productname">PostgreSQL</span>の書式設定関数は多彩なデータ型（日付/時刻データ型、整数データ型、浮動小数点数データ型、数値データ型）を整形された文字列に変換したり、整形された文字列を特定のデータ型に変換する強力なツールの一式を提供しています。
<a class="xref" href="functions-formatting.html#FUNCTIONS-FORMATTING-TABLE" title="表9.25 書式設定関数">表 9.25</a>にこれらを列挙しています。
これら関数は共通の呼び出し規約を踏襲しています。最初の引数は整形される値で2番目の引数は入力書式または出力書式を定義するテンプレートです。
   </p><div class="table" id="FUNCTIONS-FORMATTING-TABLE"><p class="title"><strong>表9.25 書式設定関数</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;Formatting Functions&lt;/title&gt;
</span><table class="table" summary="書式設定関数" border="1"><colgroup><col /></colgroup><thead><tr><th class="func_table_entry"><p class="func_signature">
<span class="original">
        Function
</span>
関数
       </p>
       <p>
<span class="original">
        Description
</span>
説明
       </p>
       <p>
<span class="original">
        Example(s)
</span>
例
       </p></th></tr></thead><tbody><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.14.4.2.2.1.1.1.1" class="indexterm"></a>
        <code class="function">to_char</code> ( <code class="type">timestamp</code>, <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p class="func_signature">
        <code class="function">to_char</code> ( <code class="type">timestamp with time zone</code>, <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Converts time stamp to string according to the given format.
</span>
与えられた書式設定にしたがってタイムスタンプを文字列に変換します。
       </p>
       <p>
        <code class="literal">to_char(timestamp '2002-04-20 17:31:12.66', 'HH12:MI:SS')</code>
        → <code class="returnvalue">05:31:12</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <code class="function">to_char</code> ( <code class="type">interval</code>, <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Converts interval to string according to the given format.
</span>
与えられた書式設定にしたがって時間間隔を文字列に変換します。
       </p>
       <p>
       <code class="literal">to_char(interval '15h 2m 12s', 'HH24:MI:SS')</code>
       → <code class="returnvalue">15:02:12</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <code class="function">to_char</code> ( <em class="replaceable"><code>numeric_type</code></em>, <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Converts number to string according to the given format; available
        for &lt;type&gt;integer&lt;/type&gt;, &lt;type&gt;bigint&lt;/type&gt;, &lt;type&gt;numeric&lt;/type&gt;,
        &lt;type&gt;real&lt;/type&gt;, &lt;type&gt;double precision&lt;/type&gt;.
</span>
与えられた書式設定にしたがって数値を文字列に変換します。<code class="type">integer</code>、<code class="type">bigint</code>、<code class="type">numeric</code>、<code class="type">real</code>、<code class="type">double precision</code>で利用可能です。
       </p>
       <p>
        <code class="literal">to_char(125, '999')</code>
        → <code class="returnvalue">125</code>
       </p>
       <p>
        <code class="literal">to_char(125.8::real, '999D9')</code>
        → <code class="returnvalue">125.8</code>
       </p>
       <p>
        <code class="literal">to_char(-125.8, '999D99S')</code>
        → <code class="returnvalue">125.80-</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.14.4.2.2.4.1.1.1" class="indexterm"></a>
        <code class="function">to_date</code> ( <code class="type">text</code>, <code class="type">text</code> )
        → <code class="returnvalue">date</code>
       </p>
       <p>
<span class="original">
        Converts string to date according to the given format.
</span>
与えられた書式設定にしたがって文字列を日付に変換します。
       </p>
       <p>
        <code class="literal">to_date('05 Dec 2000', 'DD Mon YYYY')</code>
        → <code class="returnvalue">2000-12-05</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.14.4.2.2.5.1.1.1" class="indexterm"></a>
        <code class="function">to_number</code> ( <code class="type">text</code>, <code class="type">text</code> )
        → <code class="returnvalue">numeric</code>
       </p>
       <p>
<span class="original">
        Converts string to numeric according to the given format.
</span>
与えられた書式設定にしたがって文字列を数値に変換します。
       </p>
       <p>
        <code class="literal">to_number('12,454.8-', '99G999D9S')</code>
        → <code class="returnvalue">-12454.8</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.14.4.2.2.6.1.1.1" class="indexterm"></a>
        <code class="function">to_timestamp</code> ( <code class="type">text</code>, <code class="type">text</code> )
        → <code class="returnvalue">timestamp with time zone</code>
       </p>
       <p>
<span class="original">
        Converts string to time stamp according to the given format.
        (See also &lt;function&gt;to_timestamp(double precision)&lt;/function&gt; in
        &lt;xref linkend="functions-datetime-table"/&gt;.)
</span>
与えられた書式設定にしたがって文字列をタイムスタンプに変換します。
（<a class="xref" href="functions-datetime.html#FUNCTIONS-DATETIME-TABLE" title="表9.32 日付/時刻関数演算子">表 9.32</a>の<code class="function">to_timestamp(double precision)</code>もご覧ください。）
       </p>
       <p>
        <code class="literal">to_timestamp('05 Dec 2000', 'DD Mon YYYY')</code>
        → <code class="returnvalue">2000-12-05 00:00:00-05</code>
       </p></td></tr></tbody></table></div></div><br class="table-break" /><div class="tip"><h3 class="title">ヒント</h3><p>
<span class="original">
     &lt;function&gt;to_timestamp&lt;/function&gt; and &lt;function&gt;to_date&lt;/function&gt;
     exist to handle input formats that cannot be converted by
     simple casting.  For most standard date/time formats, simply casting the
     source string to the required data type works, and is much easier.
     Similarly, &lt;function&gt;to_number&lt;/function&gt; is unnecessary for standard numeric
     representations.
</span>
<code class="function">to_timestamp</code>と<code class="function">to_date</code>は、単純なキャストでは変換できない入力フォーマットを処理するために存在します。
ほとんどの標準的日付および時刻のフォーマットに対しては、入力文字列を必要なデータ型に単純にキャストすれば動作し、その方がずっと簡単です。
同様に、<code class="function">to_number</code>も標準的な数値表現に対しては不要です。
    </p></div><p>
<span class="original">
    In a &lt;function&gt;to_char&lt;/function&gt; output template string, there are certain
    patterns that are recognized and replaced with appropriately-formatted
    data based on the given value.  Any text that is not a template pattern is
    simply copied verbatim.  Similarly, in an input template string (for the
    other functions), template patterns identify the values to be supplied by
    the input data string.  If there are characters in the template string
    that are not template patterns, the corresponding characters in the input
    data string are simply skipped over (whether or not they are equal to the
    template string characters).
</span>
<code class="function">to_char</code>用の出力テンプレート文字列には、値に基づいて認識され、適切に整形されたデータで置き換えられるパターンがあります。
テンプレートパターンではない全てのテキストは単にそのままコピーされます。
同様に、（その他の関数用の）入力テンプレート文字列では、テンプレートパターンは入力されたデータ文字列で供給される値を特定します。
テンプレート文字列中にテンプレートパターンではない文字があれば、（テンプレート文字列の文字と同じかどうかにかかわらず）入力文字列データ中の該当文字は単にスキップされます。
   </p><p>
<span class="original">
   &lt;xref linkend="functions-formatting-datetime-table"/&gt; shows the
   template patterns available for formatting date and time values.
</span>
<a class="xref" href="functions-formatting.html#FUNCTIONS-FORMATTING-DATETIME-TABLE" title="表9.26 日付/時刻型の書式テンプレートパターン">表 9.26</a>に、日付/時刻型の値の書式に使用可能なテンプレートパターンを示します。
  </p><div class="table" id="FUNCTIONS-FORMATTING-DATETIME-TABLE"><p class="title"><strong>表9.26 日付/時刻型の書式テンプレートパターン</strong></p><div class="table-contents"><span class="original">
     &lt;title&gt;Template Patterns for Date/Time Formatting&lt;/title&gt;
</span><table class="table" summary="日付/時刻型の書式テンプレートパターン" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>パターン</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal">HH</code></td><td>時 (01–12)</td></tr><tr><td><code class="literal">HH12</code></td><td>時 (01–12)</td></tr><tr><td><code class="literal">HH24</code></td><td>時 (00–23)</td></tr><tr><td><code class="literal">MI</code></td><td>分 (00–59)</td></tr><tr><td><code class="literal">SS</code></td><td>秒 (00–59)</td></tr><tr><td><code class="literal">MS</code></td><td>ミリ秒 (000–999)</td></tr><tr><td><code class="literal">US</code></td><td>マイクロ秒 (000000–999999)</td></tr><tr><td><code class="literal">FF1</code></td><td>10分の1秒 (0–9)</td></tr><tr><td><code class="literal">FF2</code></td><td>100分の1秒 (00–99)</td></tr><tr><td><code class="literal">FF3</code></td><td>ミリ秒 (000–999)</td></tr><tr><td><code class="literal">FF4</code></td><td>10分の1ミリ秒 (0000–9999)</td></tr><tr><td><code class="literal">FF5</code></td><td>100分の1ミリ秒 (00000–99999)</td></tr><tr><td><code class="literal">FF6</code></td><td>マイクロ秒 (000000–999999)</td></tr><tr><td><code class="literal">SSSS</code>, <code class="literal">SSSSS</code></td><td>深夜0時からの秒数 (0–86399)</td></tr><tr><td><code class="literal">AM</code>、<code class="literal">am</code>、<code class="literal">PM</code>または<code class="literal">pm</code></td><td>午前/午後の指定（ピリオドなし）</td></tr><tr><td><code class="literal">A.M.</code>、<code class="literal">a.m.</code>、<code class="literal">P.M.</code>または<code class="literal">p.m.</code></td><td>午前/午後の指定（ピリオドあり）</td></tr><tr><td><code class="literal">Y,YYY</code></td><td>コンマ付き年（4桁以上）</td></tr><tr><td><code class="literal">YYYY</code></td><td>年（4桁以上）</td></tr><tr><td><code class="literal">YYY</code></td><td>年の下3桁</td></tr><tr><td><code class="literal">YY</code></td><td>年の下2桁</td></tr><tr><td><code class="literal">Y</code></td><td>年の下1桁</td></tr><tr><td><code class="literal">IYYY</code></td><td>ISO 8601週番号年（4桁以上）</td></tr><tr><td><code class="literal">IYY</code></td><td>ISO 8601週番号年の下3桁</td></tr><tr><td><code class="literal">IY</code></td><td>ISO 8601週番号年の下2桁</td></tr><tr><td><code class="literal">I</code></td><td>ISO 8601週番号年の下1桁</td></tr><tr><td><code class="literal">BC</code>、<code class="literal">bc</code>、
        <code class="literal">AD</code>、または<code class="literal">ad</code></td><td>紀元前後の指定（ピリオドなし）</td></tr><tr><td><code class="literal">B.C.</code>、<code class="literal">b.c.</code>、
        <code class="literal">A.D.</code>、または<code class="literal">a.d.</code></td><td>紀元前後の指定（ピリオド付き）</td></tr><tr><td><code class="literal">MONTH</code></td><td>大文字での完全な月名（9文字になるように空白文字を埋める）</td></tr><tr><td><code class="literal">Month</code></td><td>大文字で書き始める完全な月名（9文字になるように空白文字を埋める）</td></tr><tr><td><code class="literal">month</code></td><td>小文字での完全な月名（9文字になるように空白文字を埋める）</td></tr><tr><td><code class="literal">MON</code></td><td>大文字での短縮形の月名（英語では3文字、現地語化された場合は可変長）</td></tr><tr><td><code class="literal">Mon</code></td><td>大文字で書き始める短縮形の月名（英語では3文字。現地語化された場合は可変長）</td></tr><tr><td><code class="literal">mon</code></td><td>小文字での短縮形の月名（英語では3文字。現地語化された場合は可変長）</td></tr><tr><td><code class="literal">MM</code></td><td>月番号(01–12)</td></tr><tr><td><code class="literal">DAY</code></td><td>大文字での完全な曜日名（9文字になるように空白文字を埋める）</td></tr><tr><td><code class="literal">Day</code></td><td>大文字で書き始める完全な曜日名（9文字になるように空白文字を埋める）</td></tr><tr><td><code class="literal">day</code></td><td>小文字での完全な曜日名（9文字になるように空白文字を埋める）</td></tr><tr><td><code class="literal">DY</code></td><td>短縮形の大文字での短縮形の曜日名（英語では3文字。現地語化された場合は可変長）</td></tr><tr><td><code class="literal">Dy</code></td><td>大文字で書き始める短縮形の曜日名（英語では3文字。現地語化された場合は可変長）</td></tr><tr><td><code class="literal">dy</code></td><td>小文字での短縮形の曜日名（英語では3文字。現地語化された場合は可変長）</td></tr><tr><td><code class="literal">DDD</code></td><td>通年の日にち番号 (001–366)</td></tr><tr><td><code class="literal">IDDD</code></td><td>ISO 8601週番号年の日にち番号（001–371：通年 第１日は最初のISO週の月曜日）</td></tr><tr><td><code class="literal">DD</code></td><td>月内の日にち番号 (01–31)</td></tr><tr><td><code class="literal">D</code></td><td>曜日番号、日曜日（<code class="literal">1</code>）から土曜日（<code class="literal">7</code>）まで</td></tr><tr><td><code class="literal">ID</code></td><td>ISO 8601の曜日番号、月曜日（<code class="literal">1</code>）から日曜日（<code class="literal">7</code>）まで</td></tr><tr><td><code class="literal">W</code></td><td>月中の週番号 (1–5)（その月の初日がある週が第1週）</td></tr><tr><td><code class="literal">WW</code></td><td>年間を通じた週番号 (1–53)（元日のある週が第1週）</td></tr><tr><td><code class="literal">IW</code></td><td>ISO 8601週番号年の年間を通じた週番号 (01–53;新年の最初の木曜日がある週が第1週）</td></tr><tr><td><code class="literal">CC</code></td><td>世紀（2桁。21世紀は2001-01-01から開始）</td></tr><tr><td><code class="literal">J</code></td><td>ユリウス日（紀元前4714年11月24日現地時間午前零時からの整数による通算経過日。<a class="xref" href="datetime-julian-dates.html" title="B.7. Julian Dates">B.7</a>参照）</td></tr><tr><td><code class="literal">Q</code></td><td>四半期</td></tr><tr><td><code class="literal">RM</code></td><td>大文字ローマ数字による月（I–XII、Iは1月）</td></tr><tr><td><code class="literal">rm</code></td><td>小文字ローマ数字による月（(i–xii、iは1月）</td></tr><tr><td><code class="literal">TZ</code></td><td>大文字による時間帯省略名（<code class="function">to_char</code>内でのみサポートされる）</td></tr><tr><td><code class="literal">tz</code></td><td>小文字による時間帯省略名（<code class="function">to_char</code>内でのみサポートされる）</td></tr><tr><td><code class="literal">TZH</code></td><td>time-zoneの時間</td></tr><tr><td><code class="literal">TZM</code></td><td>time-zoneの分</td></tr><tr><td><code class="literal">OF</code></td><td>UTCからの時間帯オフセット（<code class="function">to_char</code>内でのみサポートされる）</td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    Modifiers can be applied to any template pattern to alter its
    behavior.  For example, &lt;literal&gt;FMMonth&lt;/literal&gt;
    is the &lt;literal&gt;Month&lt;/literal&gt; pattern with the
    &lt;literal&gt;FM&lt;/literal&gt; modifier.
    &lt;xref linkend="functions-formatting-datetimemod-table"/&gt; shows the
    modifier patterns for date/time formatting.
</span>
どのようなテンプレートパターンに対しても、その振舞いを変更するために修飾子を適用できます。
例えば、<code class="literal">FMMonth</code>は<code class="literal">FM</code>修飾子の付いた<code class="literal">Month</code>パターンです。
<a class="xref" href="functions-formatting.html#FUNCTIONS-FORMATTING-DATETIMEMOD-TABLE" title="表9.27 日付/時刻書式用のテンプレートパターン修飾子">表 9.27</a>に、日付/時刻書式の修飾子パターンを示します。
   </p><div class="table" id="FUNCTIONS-FORMATTING-DATETIMEMOD-TABLE"><p class="title"><strong>表9.27 日付/時刻書式用のテンプレートパターン修飾子</strong></p><div class="table-contents"><span class="original">
     &lt;title&gt;Template Pattern Modifiers for Date/Time Formatting&lt;/title&gt;
</span><table class="table" summary="日付/時刻書式用のテンプレートパターン修飾子" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>修飾子</th><th>説明</th><th>例</th></tr></thead><tbody><tr><td><code class="literal">FM</code>接頭辞</td><td>字詰めモード（先頭の0、およびを空白のパディングを無効）</td><td><code class="literal">FMMonth</code></td></tr><tr><td><code class="literal">TH</code>接尾辞</td><td><code class="literal">DDTH</code>、例えば<code class="literal">12TH</code></td><td class="auto-generated"> </td></tr><tr><td><code class="literal">th</code>接尾辞</td><td><code class="literal">DDth</code>、例えば<code class="literal">12th</code></td><td class="auto-generated"> </td></tr><tr><td><code class="literal">FX</code>接頭辞</td><td>固定書式のグローバルオプション（使用上の注意事項を参照）</td><td><code class="literal">FX Month DD Day</code></td></tr><tr><td><code class="literal">TM</code>接頭辞</td><td>翻訳モード（<a class="xref" href="runtime-config-client.html#GUC-LC-TIME">lc_time</a>に基づき、現地語化された曜日、月名を使います)</td><td><code class="literal">TMMonth</code></td></tr><tr><td><code class="literal">SP</code>接尾辞</td><td>スペルモード（未実装）</td><td><code class="literal">DDSP</code></td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    Usage notes for date/time formatting:
</span>
日付/時刻型書式の使用上の注意事項は次のとおりです。

    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="original">
       &lt;literal&gt;FM&lt;/literal&gt; suppresses leading zeroes and trailing blanks
       that would otherwise be added to make the output of a pattern be
       fixed-width.  In &lt;productname&gt;PostgreSQL&lt;/productname&gt;,
       &lt;literal&gt;FM&lt;/literal&gt; modifies only the next specification, while in
       Oracle &lt;literal&gt;FM&lt;/literal&gt; affects all subsequent
       specifications, and repeated &lt;literal&gt;FM&lt;/literal&gt; modifiers
       toggle fill mode on and off.
</span>
<code class="literal">FM</code>は、先頭にはゼロ、末尾には空白を追加してパターンを固定長にする機能を無効にします。
<span class="productname">PostgreSQL</span>では、<code class="literal">FM</code>はその次に記述されたものだけを変更します。一方Oracleでは、<code class="literal">FM</code>はそれに続く全ての記述に対して影響し、<code class="literal">FM</code>修飾詞を繰り返すと、ゼロや空白を埋めるモードのオンとオフが切り替わります。
      </p></li><li class="listitem"><p>
<span class="original">
       &lt;literal&gt;TM&lt;/literal&gt; suppresses trailing blanks whether or
       not &lt;literal&gt;FM&lt;/literal&gt; is specified.
</span>
<code class="literal">FM</code>が指定されているかどうかに関わらず<code class="literal">TM</code>は末尾の空白を抑止します。
      </p></li><li class="listitem"><p>
<span class="original">
       &lt;function&gt;to_timestamp&lt;/function&gt; and &lt;function&gt;to_date&lt;/function&gt;
       ignore letter case in the input; so for
       example &lt;literal&gt;MON&lt;/literal&gt;, &lt;literal&gt;Mon&lt;/literal&gt;,
       and &lt;literal&gt;mon&lt;/literal&gt; all accept the same strings.  When using
       the &lt;literal&gt;TM&lt;/literal&gt; modifier, case-folding is done according to
       the rules of the function's input collation (see
       &lt;xref linkend="collation"/&gt;).
</span>
<code class="function">to_timestamp</code>と<code class="function">to_date</code>は入力中の大文字小文字の区別を無視します。
例えば<code class="literal">MON</code>、<code class="literal">Mon</code>、<code class="literal">mon</code>はすべて同じ文字列として受け付けます。
<code class="literal">TM</code>修飾子を使うと関数の入力照合順のルールにしたがって大文字小文字の変換が行われます。（<a class="xref" href="collation.html" title="24.2. 照合順序サポート">24.2</a>参照。)
      </p></li><li class="listitem"><p>
<span class="original">
       &lt;function&gt;to_timestamp&lt;/function&gt; and &lt;function&gt;to_date&lt;/function&gt;
       skip multiple blank spaces at the beginning of the input string and
       around date and time values unless the &lt;literal&gt;FX&lt;/literal&gt; option is used.  For example,
       &lt;literal&gt;to_timestamp('&amp;nbsp;2000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;JUN', 'YYYY MON')&lt;/literal&gt; and
       &lt;literal&gt;to_timestamp('2000 - JUN', 'YYYY-MON')&lt;/literal&gt; work, but
       &lt;literal&gt;to_timestamp('2000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;JUN', 'FXYYYY MON')&lt;/literal&gt; returns an error
       because &lt;function&gt;to_timestamp&lt;/function&gt; expects only a single space.
       &lt;literal&gt;FX&lt;/literal&gt; must be specified as the first item in
       the template.
</span>
<code class="literal">FX</code>オプションが使用されていない限り、<code class="function">to_timestamp</code>と<code class="function">to_date</code>は入力文字列内最初の連続した空白と、日付と時間の値の周辺の複数の空白を無視します。
例えば、<code class="literal">to_timestamp('2000    JUN', 'YYYY MON')</code>と<code class="literal">to_timestamp('2000 - JUN', 'YYYY-MON')</code>は動作しますが、<code class="literal">to_timestamp('2000    JUN','FXYYYY MON')</code>はエラーを返します。
後者の<code class="function">to_timestamp</code>は単一のスペースだけがあることを期待するからです。
<code class="literal">FX</code>はテンプレートの第1項目として指定される必要があります。
      </p></li><li class="listitem"><p>
<span class="original">
       A separator (a space or non-letter/non-digit character) in the template string of
       &lt;function&gt;to_timestamp&lt;/function&gt; and &lt;function&gt;to_date&lt;/function&gt;
       matches any single separator in the input string or is skipped,
       unless the &lt;literal&gt;FX&lt;/literal&gt; option is used.
       For example, &lt;literal&gt;to_timestamp('2000JUN', 'YYYY///MON')&lt;/literal&gt; and
       &lt;literal&gt;to_timestamp('2000/JUN', 'YYYY MON')&lt;/literal&gt; work, but
       &lt;literal&gt;to_timestamp('2000//JUN', 'YYYY/MON')&lt;/literal&gt;
       returns an error because the number of separators in the input string
       exceeds the number of separators in the template.
</span>
<code class="literal">FX</code>オプションが使用されていない限り、<code class="function">to_timestamp</code>と<code class="function">to_date</code>のテンプレート文字列中の区切り文字（空白あるいは記号文字(訳注：原文は"non-letter/non-digit character"））は入力文字中のすべての単一の区切り文字とマッチするか、あるいはマッチしない場合はスキップします。
たとえば、<code class="literal">to_timestamp('2000JUN', 'YYYY///MON')</code>と<code class="literal">to_timestamp('2000/JUN', 'YYYY MON')</code>は動作しますが、<code class="literal">to_timestamp('2000//JUN', 'YYYY/MON')</code>は入力文字列中の区切り文字の数がテンプレート中の区切り文字の数を上回っているため、エラーを返します。
      </p><p>
<span class="original">
       If &lt;literal&gt;FX&lt;/literal&gt; is specified, a separator in the template string
       matches exactly one character in the input string.  But note that the
       input string character is not required to be the same as the separator from the template string.
       For example, &lt;literal&gt;to_timestamp('2000/JUN', 'FXYYYY MON')&lt;/literal&gt;
       works, but &lt;literal&gt;to_timestamp('2000/JUN', 'FXYYYY&amp;nbsp;&amp;nbsp;MON')&lt;/literal&gt;
       returns an error because the second space in the template string consumes
       the letter &lt;literal&gt;J&lt;/literal&gt; from the input string.
</span>
<code class="literal">FX</code>が指定されていると、テンプレート文字列中の区切り文字は正確に入力文字列中の一文字とマッチします。
しかし、入力文字列の文字はテンプレート文字列中の区切り文字と一致する必要はないことに注意してください。
たとえば、<code class="literal">to_timestamp('2000/JUN', 'FXYYYY MON')</code>は動作しますが、<code class="literal">to_timestamp('2000/JUN', 'FXYYYY  MON')</code>はテンプレート文字列中の二番目の空白が入力文字列中の文字<code class="literal">J</code>を消費するため、エラーを返します。
      </p></li><li class="listitem"><p>
<span class="original">
       A &lt;literal&gt;TZH&lt;/literal&gt; template pattern can match a signed number.
       Without the &lt;literal&gt;FX&lt;/literal&gt; option, minus signs may be ambiguous,
       and could be interpreted as a separator.
       This ambiguity is resolved as follows:  If the number of separators before
       &lt;literal&gt;TZH&lt;/literal&gt; in the template string is less than the number of
       separators before the minus sign in the input string, the minus sign
       is interpreted as part of &lt;literal&gt;TZH&lt;/literal&gt;.
       Otherwise, the minus sign is considered to be a separator between values.
       For example, &lt;literal&gt;to_timestamp('2000 -10', 'YYYY TZH')&lt;/literal&gt; matches
       &lt;literal&gt;-10&lt;/literal&gt; to &lt;literal&gt;TZH&lt;/literal&gt;, but
       &lt;literal&gt;to_timestamp('2000 -10', 'YYYY&amp;nbsp;&amp;nbsp;TZH')&lt;/literal&gt;
       matches &lt;literal&gt;10&lt;/literal&gt; to &lt;literal&gt;TZH&lt;/literal&gt;.
</span>
<code class="literal">TZH</code>テンプレートパターンは符号付きの数字とマッチします。
<code class="literal">FX</code>オプションが無い場合、マイナス符号は曖昧で、区切り文字として解釈されるかも知れません。
この曖昧さは次のようにして解消されます。
テンプレート文字列中の<code class="literal">TZH</code>の前の区切り文字の数が入力文字列中のマイナス符号の前の区切り文字の数よりも少なければ、そのマイナス符号は<code class="literal">TZH</code>の一部として解釈されます。
そうでない場合、マイナス記号が値の区切り記号と見なされます。
たとえば、<code class="literal">to_timestamp('2000 -10', 'YYYY TZH')</code>では<code class="literal">-10</code>が<code class="literal">TZH</code>にマッチしますが、<code class="literal">to_timestamp('2000 -10', 'YYYY  TZH')</code>では<code class="literal">10</code>が<code class="literal">TZH</code>にマッチします。
      </p></li><li class="listitem"><p>
<span class="original">
       Ordinary text is allowed in &lt;function&gt;to_char&lt;/function&gt;
       templates and will be output literally.  You can put a substring
       in double quotes to force it to be interpreted as literal text
       even if it contains template patterns.  For example, in
       &lt;literal&gt;'"Hello Year "YYYY'&lt;/literal&gt;, the &lt;literal&gt;YYYY&lt;/literal&gt;
       will be replaced by the year data, but the single &lt;literal&gt;Y&lt;/literal&gt; in &lt;literal&gt;Year&lt;/literal&gt;
       will not be.
       In &lt;function&gt;to_date&lt;/function&gt;, &lt;function&gt;to_number&lt;/function&gt;,
       and &lt;function&gt;to_timestamp&lt;/function&gt;, literal text and double-quoted
       strings result in skipping the number of characters contained in the
       string; for example &lt;literal&gt;"XX"&lt;/literal&gt; skips two input characters
       (whether or not they are &lt;literal&gt;XX&lt;/literal&gt;).
</span>
<code class="function">to_char</code>テンプレートには、通常のテキストを入れることができ、それはそのまま出力されます。
部分文字列を二重引用符で括ることで、部分文字列にテンプレートパターンがあったとしても、強制的にリテラルテキストとして解釈させることができます。
例えば、<code class="literal">'"Hello Year "YYYY'</code>では<code class="literal">YYYY</code>は年データに置換されてしまいますが、<code class="literal">Year</code>内の<code class="literal">Y</code>は置換されません。
<code class="function">to_date</code>、<code class="function">to_number</code>、<code class="function">to_timestamp</code>では、二重引用符で括られた文字の数だけ入力された文字をスキップします。例えば<code class="literal">"XX"</code>は2文字の入力文字（それが<code class="literal">XX</code>であるかどうかにかかわらず)をスキップします。
      </p><div class="tip"><h3 class="title">ヒント</h3><p>
<span class="original">
          Prior to &lt;productname&gt;PostgreSQL&lt;/productname&gt; 12, it was possible to
          skip arbitrary text in the input string using non-letter or non-digit
          characters. For example,
          &lt;literal&gt;to_timestamp('2000y6m1d', 'yyyy-MM-DD')&lt;/literal&gt; used to
          work.  Now you can only use letter characters for this purpose.  For example,
          &lt;literal&gt;to_timestamp('2000y6m1d', 'yyyytMMtDDt')&lt;/literal&gt; and
          &lt;literal&gt;to_timestamp('2000y6m1d', 'yyyy"y"MM"m"DD"d"')&lt;/literal&gt;
          skip &lt;literal&gt;y&lt;/literal&gt;, &lt;literal&gt;m&lt;/literal&gt;, and
          &lt;literal&gt;d&lt;/literal&gt;.
</span>
<span class="productname">PostgreSQL</span> 12より前では、記号文字（訳注：原文は"non-letter or non-digit"）を使って入力文字列中の任意のテキストをスキップすることが可能でした。
たとえば、<code class="literal">to_timestamp('2000y6m1d', 'yyyy-MM-DD')</code>は動作しました。
現在は、この目的のために非記号文字（訳注：原文は"letter characters"）だけを使うことができます。
たとえば、<code class="literal">to_timestamp('2000y6m1d', 'yyyytMMtDDt')</code>と<code class="literal">to_timestamp('2000y6m1d', 'yyyy"y"MM"m"DD"d"')</code>は、<code class="literal">y</code>、<code class="literal">m</code>、<code class="literal">d</code>をスキップします。
        </p></div></li><li class="listitem"><p>
<span class="original">
       If you want to have a double quote in the output you must
       precede it with a backslash, for example &lt;literal&gt;'\"YYYY
       Month\"'&lt;/literal&gt;. &lt;!&amp;#045;&amp;#045; 原文コメント "" font-lock sanity :-) &amp;#045;&amp;#045;&gt;
       Backslashes are not otherwise special outside of double-quoted
       strings.  Within a double-quoted string, a backslash causes the
       next character to be taken literally, whatever it is (but this
       has no special effect unless the next character is a double quote
       or another backslash).
</span>
出力に二重引用符を付けたい場合、<code class="literal">'\"YYYY Month\"'</code>のようにその前にバックスラッシュを付けなければなりません。
バックスラッシュは、二重引用符の外側では特別扱いされません。
二重引用符の内側では、バックスラッシュによって次の文字が何であれ文字通りに扱われるようになります。
（しかし、次の文字が二重引用符であるか、あるいは別のバックスラッシュでない限り、これは特別な効果をもたらしません。）
      </p></li><li class="listitem"><p>
<span class="original">
       In &lt;function&gt;to_timestamp&lt;/function&gt; and &lt;function&gt;to_date&lt;/function&gt;,
       if the year format specification is less than four digits, e.g.,
       &lt;literal&gt;YYY&lt;/literal&gt;, and the supplied year is less than four digits,
       the year will be adjusted to be nearest to the year 2020, e.g.,
       &lt;literal&gt;95&lt;/literal&gt; becomes 1995.
</span>
<code class="function">to_timestamp</code>において<code class="function">to_date</code>、<code class="literal">YYY</code>の様に4桁未満の年書式が指定され、かつ与えられる年が4桁未満だった場合、年は2020年に最も近くなるよう調整されます。例えば、<code class="literal">95</code>の場合は1995年になります。
      </p></li><li class="listitem"><p>
<span class="original">
       In &lt;function&gt;to_timestamp&lt;/function&gt; and &lt;function&gt;to_date&lt;/function&gt;,
       negative years are treated as signifying BC.  If you write both a
       negative year and an explicit &lt;literal&gt;BC&lt;/literal&gt; field, you get AD
       again.  An input of year zero is treated as 1 BC.
</span>
<code class="function">to_timestamp</code>および<code class="function">to_date</code>において負の年はBCを表します。
負の年と明示的な<code class="literal">BC</code>フィールドの両方を記述すると、再びADになります。
すべての形のゼロ年はBC 1として扱われます。
      </p></li><li class="listitem"><p>
<span class="original">
       In &lt;function&gt;to_timestamp&lt;/function&gt; and &lt;function&gt;to_date&lt;/function&gt;,
       the &lt;literal&gt;YYYY&lt;/literal&gt; conversion has a restriction when
       processing years with more than 4 digits. You must
       use some non-digit character or template after &lt;literal&gt;YYYY&lt;/literal&gt;,
       otherwise the year is always interpreted as 4 digits. For example
       (with the year 20000):
       &lt;literal&gt;to_date('200001131', 'YYYYMMDD')&lt;/literal&gt; will be
       interpreted as a 4-digit year; instead use a non-digit
       separator after the year, like
       &lt;literal&gt;to_date('20000-1131', 'YYYY-MMDD')&lt;/literal&gt; or
       &lt;literal&gt;to_date('20000Nov31', 'YYYYMonDD')&lt;/literal&gt;.
</span>
<code class="function">to_timestamp</code>および<code class="function">to_date</code>において<code class="literal">YYYY</code>変換は、5桁以上の年数値を処理するときに制限事項があります。
このような場合、<code class="literal">YYYY</code>の後に数字以外の文字またはテンプレートを使わなければなりません。 そうしないと年は常に4桁と解釈されます。
例えば（20000年として）、<code class="literal">to_date('200001131', 'YYYYMMDD')</code>は4桁の年と解釈されるので、代わりに<code class="literal">to_date('20000-1131', 'YYYY-MMDD')</code>または<code class="literal">to_date('20000Nov31', 'YYYYMonDD')</code>のように数字でない区切り文字を使用してください。
      </p></li><li class="listitem"><p>
<span class="original">
       In &lt;function&gt;to_timestamp&lt;/function&gt; and &lt;function&gt;to_date&lt;/function&gt;,
       the &lt;literal&gt;CC&lt;/literal&gt; (century) field is accepted but ignored
       if there is a &lt;literal&gt;YYY&lt;/literal&gt;, &lt;literal&gt;YYYY&lt;/literal&gt; or
       &lt;literal&gt;Y,YYY&lt;/literal&gt; field. If &lt;literal&gt;CC&lt;/literal&gt; is used with
       &lt;literal&gt;YY&lt;/literal&gt; or &lt;literal&gt;Y&lt;/literal&gt; then the result is
       computed as that year in the specified century.  If the century is
       specified but the year is not, the first year of the century
       is assumed.
</span>
<code class="function">to_timestamp</code>および<code class="function">to_date</code>において<code class="literal">YYY</code>、<code class="literal">YYYY</code>、もしくは<code class="literal">Y,YYY</code>フィールドが存在すると<code class="literal">CC</code>（世紀）フィールドは受け入れられますが、無視されます。
<code class="literal">CC</code>が<code class="literal">YY</code>もしくは<code class="literal">Y</code>と共に使用されると、結果は指定された世紀のその年として計算されます。
世紀が指定され、年が指定されないときは、その世紀の最初の年と想定されます。
      </p></li><li class="listitem"><p>
<span class="original">
       In &lt;function&gt;to_timestamp&lt;/function&gt; and &lt;function&gt;to_date&lt;/function&gt;,
       weekday names or numbers (&lt;literal&gt;DAY&lt;/literal&gt;, &lt;literal&gt;D&lt;/literal&gt;,
       and related field types) are accepted but are ignored for purposes of
       computing the result.  The same is true for quarter
       (&lt;literal&gt;Q&lt;/literal&gt;) fields.
</span>
<code class="function">to_timestamp</code>および<code class="function">to_date</code>において、曜日の名前や数字（<code class="literal">DAY</code>、<code class="literal">D</code>および関連したフィールドの型）は受け付けられますが、結果を計算するという目的においては無視されます。
同じことは四半期（<code class="literal">Q</code>）フィールドにも当てはまります。
      </p></li><li class="listitem"><p>
<span class="original">
       In &lt;function&gt;to_timestamp&lt;/function&gt; and &lt;function&gt;to_date&lt;/function&gt;,
       an ISO 8601 week-numbering date (as distinct from a Gregorian date)
       can be specified in one of two ways:
</span>
<code class="function">to_timestamp</code>および<code class="function">to_date</code>において、
ISO 8601週番号日は（グレゴリオ暦の日付とは異なって）以下の２つの方法のうちのひとつで指定できます。
       </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>
<span class="original">
          Year, week number, and weekday:  for
          example &lt;literal&gt;to_date('2006-42-4', 'IYYY-IW-ID')&lt;/literal&gt;
          returns the date &lt;literal&gt;2006-10-19&lt;/literal&gt;.
          If you omit the weekday it is assumed to be 1 (Monday).
</span>
年、通年の週番号、曜日番号。
例えば、<code class="literal">to_date('2006-42-4', 'IYYY-IW-ID')</code>は、日付<code class="literal">2006-10-19</code>を返します。
曜日番号を省略した場合、1（月曜日）と想定されます。
         </p></li><li class="listitem"><p>
<span class="original">
          Year and day of year:  for example &lt;literal&gt;to_date('2006-291',
          'IYYY-IDDD')&lt;/literal&gt; also returns &lt;literal&gt;2006-10-19&lt;/literal&gt;.
</span>
年と通年の日付番号。例えば、<code class="literal">to_date('2006-291', 'IYYY-IDDD')</code>も<code class="literal">2006-10-19</code>を返します。
         </p></li></ul></div><p>
      </p><p>
<span class="original">
       Attempting to enter a date using a mixture of ISO 8601 week-numbering
       fields and Gregorian date fields is nonsensical, and will cause an
       error.  In the context of an ISO 8601 week-numbering year, the
       concept of a &lt;quote&gt;month&lt;/quote&gt; or &lt;quote&gt;day of month&lt;/quote&gt; has no
       meaning.  In the context of a Gregorian year, the ISO week has no
       meaning.
</span>
ISO 8601週番号とグレゴリオ暦日のフィールドを混在して使用して日付を構築する試みは無意味なことで、エラーの原因になります。
ISO 8601週番号年の文脈では、<span class="quote">「<span class="quote">月</span>」</span>、あるいは<span class="quote">「<span class="quote">月内の日付番号</span>」</span>は意味を持ちません。
グレゴリオ暦の年の文脈では、ISO週番号は意味を持ちません。
      </p><div class="caution"><h3 class="title">注意</h3><p>
<span class="original">
        While &lt;function&gt;to_date&lt;/function&gt; will reject a mixture of
        Gregorian and ISO week-numbering date
        fields, &lt;function&gt;to_char&lt;/function&gt; will not, since output format
        specifications like &lt;literal&gt;YYYY-MM-DD (IYYY-IDDD)&lt;/literal&gt; can be
        useful.  But avoid writing something like &lt;literal&gt;IYYY-MM-DD&lt;/literal&gt;;
        that would yield surprising results near the start of the year.
        (See &lt;xref linkend="functions-datetime-extract"/&gt; for more
        information.)
</span>
<code class="function">to_date</code>はグレゴリオとISO週番号日のフィールドの混在を拒否しますが、<code class="function">to_char</code>はそうではありません。<code class="literal">YYYY-MM-DD (IYYY-IDDD)</code>のような出力書式指定が有用な場合があるからです。
しかし、<code class="literal">IYYY-MM-DD</code>のような書き方は避けてください。年の初めの近くで驚くべき結果になるでしょう。
(より詳細な情報は<a class="xref" href="functions-datetime.html#FUNCTIONS-DATETIME-EXTRACT" title="9.9.1. EXTRACT, date_part">9.9.1</a>を参照してください。)
       </p></div></li><li class="listitem"><p>
<span class="original">
       In &lt;function&gt;to_timestamp&lt;/function&gt;, millisecond
       (&lt;literal&gt;MS&lt;/literal&gt;) or microsecond (&lt;literal&gt;US&lt;/literal&gt;)
       fields are used as the
       seconds digits after the decimal point. For example
       &lt;literal&gt;to_timestamp('12.3', 'SS.MS')&lt;/literal&gt; is not 3 milliseconds,
       but 300, because the conversion treats it as 12 + 0.3 seconds.
       So, for the format &lt;literal&gt;SS.MS&lt;/literal&gt;, the input values
       &lt;literal&gt;12.3&lt;/literal&gt;, &lt;literal&gt;12.30&lt;/literal&gt;,
       and &lt;literal&gt;12.300&lt;/literal&gt; specify the
       same number of milliseconds. To get three milliseconds, one must write
       &lt;literal&gt;12.003&lt;/literal&gt;, which the conversion treats as
       12 + 0.003 = 12.003 seconds.
</span>
<code class="function">to_timestamp</code>において、ミリ秒（<code class="literal">MS</code>）およびマイクロ秒（<code class="literal">US</code>）フィールドは小数点の後の秒の桁として使用されます。
例えば、<code class="literal">to_timestamp('12.3', 'SS.MS')</code>は3ミリ秒ではなく300ミリ秒です。なぜなら変換においてこれは12 + 0.3秒と計算されるからです。
従って<code class="literal">SS.MS</code>書式に対して入力値<code class="literal">12.3</code>、<code class="literal">12.30</code>、<code class="literal">12.300</code>は同じミリ秒数を指定することになります。
3ミリ秒が必要な場合には<code class="literal">12:003</code>のようにしなければなりません。この時、変換において12 + 0.003 = 12.003秒と計算します。
      </p><p>
<span class="original">
       Here is a more
       complex example:
       &lt;literal&gt;to_timestamp('15:12:02.020.001230', 'HH24:MI:SS.MS.US')&lt;/literal&gt;
       is 15 hours, 12 minutes, and 2 seconds + 20 milliseconds +
       1230 microseconds = 2.021230 seconds.
</span>
もう少し複雑な例を挙げます。
<code class="literal">to_timestamp('15:12:02.020.001230', 'HH24:MI:SS.MS.US')</code>は15時間12分と2秒+20ミリ秒+1230マイクロ秒 = 2.021230秒です。
      </p></li><li class="listitem"><p>
<span class="original">
        &lt;function&gt;to_char(..., 'ID')&lt;/function&gt;'s day of the week numbering
        matches the &lt;function&gt;extract(isodow from ...)&lt;/function&gt; function, but
        &lt;function&gt;to_char(..., 'D')&lt;/function&gt;'s does not match
        &lt;function&gt;extract(dow from ...)&lt;/function&gt;'s day numbering.
</span>
<code class="function">to_char(..., 'ID')</code>の曜日番号付けは<code class="function">extract(isodow from ...)</code>関数に一致しますが、<code class="function">to_char(..., 'D')</code>の曜日番号付けは<code class="function">extract(dow from ...)</code>の曜日番号付けに一致しません。
      </p></li><li class="listitem"><p>
<span class="original">
        &lt;function&gt;to_char(interval)&lt;/function&gt; formats &lt;literal&gt;HH&lt;/literal&gt; and
        &lt;literal&gt;HH12&lt;/literal&gt; as shown on a 12-hour clock, for example zero hours
        and 36 hours both output as &lt;literal&gt;12&lt;/literal&gt;, while &lt;literal&gt;HH24&lt;/literal&gt;
        outputs the full hour value, which can exceed 23 in
        an &lt;type&gt;interval&lt;/type&gt; value.
</span>
<code class="function">to_char(interval)</code>関数は、<code class="literal">HH</code>と<code class="literal">HH12</code>を12時間の時計に表示されるように整形します。
例えば0時間と36時間はいずれも<code class="literal">12</code>として出力します。
一方<code class="literal">HH24</code>は時間の値をそのまま出力し、<code class="type">interval</code>の値であれば23を超えることも可能です。
      </p></li></ul></div><p>
   </p><p>
<span class="original">
   &lt;xref linkend="functions-formatting-numeric-table"/&gt; shows the
   template patterns available for formatting numeric values.
</span>
<a class="xref" href="functions-formatting.html#FUNCTIONS-FORMATTING-NUMERIC-TABLE" title="表9.28 数値書式用のテンプレートパターン">表 9.28</a>に、数値の書式設定に使用可能なテンプレートパターンを示します。
  </p><div class="table" id="FUNCTIONS-FORMATTING-NUMERIC-TABLE"><p class="title"><strong>表9.28 数値書式用のテンプレートパターン</strong></p><div class="table-contents"><span class="original">
     &lt;title&gt;Template Patterns for Numeric Formatting&lt;/title&gt;
</span><table class="table" summary="数値書式用のテンプレートパターン" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>パターン</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal">9</code></td><td>数字の位置（必要ないときは表示しない）</td></tr><tr><td><code class="literal">0</code></td><td>数字の位置（必要ないときでも表示する）</td></tr><tr><td><code class="literal">.</code>（ピリオド）</td><td>小数点</td></tr><tr><td><code class="literal">,</code> (コンマ)</td><td>千単位で区切る符号</td></tr><tr><td><code class="literal">PR</code></td><td>負の値の角括弧表示</td></tr><tr><td><code class="literal">S</code></td><td>符号付き値（ロケールを使用）</td></tr><tr><td><code class="literal">L</code></td><td>通貨記号（ロケールを使用）</td></tr><tr><td><code class="literal">D</code></td><td>小数点（ロケールを使用）</td></tr><tr><td><code class="literal">G</code></td><td>グループ区切り文字（ロケールを使用）</td></tr><tr><td><code class="literal">MI</code></td><td>（数値 &lt; 0であれば）指定位置にマイナス記号</td></tr><tr><td><code class="literal">PL</code></td><td>（数値 &gt; 0であれば）指定位置にプラス記号</td></tr><tr><td><code class="literal">SG</code></td><td>指定された位置にプラス/マイナス記号</td></tr><tr><td><code class="literal">RN</code></td><td>ローマ数字（入力は1～3999）</td></tr><tr><td><code class="literal">TH</code>または<code class="literal">th</code></td><td>序数接尾辞</td></tr><tr><td><code class="literal">V</code></td><td>指定桁でのシフト（注意事項を参照）</td></tr><tr><td><code class="literal">EEEE</code></td><td>科学技術表記法用の指数</td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    Usage notes for numeric formatting:
</span>
数値型書式の使用上の注意事項は次のとおりです。

    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="original">
       &lt;literal&gt;0&lt;/literal&gt; specifies a digit position that will always be printed,
       even if it contains a leading/trailing zero.  &lt;literal&gt;9&lt;/literal&gt; also
       specifies a digit position, but if it is a leading zero then it will
       be replaced by a space, while if it is a trailing zero and fill mode
       is specified then it will be deleted.  (For &lt;function&gt;to_number()&lt;/function&gt;,
       these two pattern characters are equivalent.)
</span>
<code class="literal">0</code>は、それが先頭あるいは末尾のゼロであっても必ず表示する数字の位置を指定します。
<code class="literal">9</code>も数字の位置を指定しますが、先頭のゼロであればそれは空白で置換され、また末尾のゼロで字詰めモードが指定されているときは削除されます。
（<code class="function">to_number()</code>では、これら2つのパターン文字は同じ意味になります。）
      </p></li><li class="listitem"><p>
<span class="original">
       The pattern characters &lt;literal&gt;S&lt;/literal&gt;, &lt;literal&gt;L&lt;/literal&gt;, &lt;literal&gt;D&lt;/literal&gt;,
       and &lt;literal&gt;G&lt;/literal&gt; represent the sign, currency symbol, decimal point,
       and thousands separator characters defined by the current locale
       (see &lt;xref linkend="guc-lc-monetary"/&gt;
       and &lt;xref linkend="guc-lc-numeric"/&gt;).  The pattern characters period
       and comma represent those exact characters, with the meanings of
       decimal point and thousands separator, regardless of locale.
</span>
パターン文字<code class="literal">S</code>、<code class="literal">L</code>、<code class="literal">D</code>、<code class="literal">G</code>はそれぞれ現在のロケールで定義された符号、通貨記号、小数点、3桁区切り文字を表します（<a class="xref" href="runtime-config-client.html#GUC-LC-MONETARY">lc_monetary</a>および<a class="xref" href="runtime-config-client.html#GUC-LC-NUMERIC">lc_numeric</a>を参照）。
パターン文字のピリオドとカンマはいずれもその文字そのものを表し、ロケールとは関係なく小数点と3桁区切り文字の意味を持ちます。
      </p></li><li class="listitem"><p>
<span class="original">
       If no explicit provision is made for a sign
       in &lt;function&gt;to_char()&lt;/function&gt;'s pattern, one column will be reserved for
       the sign, and it will be anchored to (appear just left of) the
       number.  If &lt;literal&gt;S&lt;/literal&gt; appears just left of some &lt;literal&gt;9&lt;/literal&gt;'s,
       it will likewise be anchored to the number.
</span>
<code class="function">to_char()</code>のパターンで符号について明示的な条件付けがない場合、符号のために一桁が予約され、それは数に繋げられます（すぐ左側に置かれます）。
<code class="literal">S</code>がいくつかの<code class="literal">9</code>のすぐ左に置かれた場合、同様に数に繋げられます。
      </p></li><li class="listitem"><p>
<span class="original">
       A sign formatted using &lt;literal&gt;SG&lt;/literal&gt;, &lt;literal&gt;PL&lt;/literal&gt;, or
       &lt;literal&gt;MI&lt;/literal&gt; is not anchored to
       the number; for example,
       &lt;literal&gt;to_char(-12, 'MI9999')&lt;/literal&gt; produces &lt;literal&gt;'-&amp;nbsp;&amp;nbsp;12'&lt;/literal&gt;
       but &lt;literal&gt;to_char(-12, 'S9999')&lt;/literal&gt; produces &lt;literal&gt;'&amp;nbsp;&amp;nbsp;-12'&lt;/literal&gt;.
       (The Oracle implementation does not allow the use of
       &lt;literal&gt;MI&lt;/literal&gt; before &lt;literal&gt;9&lt;/literal&gt;, but rather
       requires that &lt;literal&gt;9&lt;/literal&gt; precede
       &lt;literal&gt;MI&lt;/literal&gt;.)
</span>
<code class="literal">SG</code>、<code class="literal">PL</code>、または<code class="literal">MI</code>で整形された符号は、数値と関連付けられません。
例えば、<code class="literal">to_char(-12, 'MI9999')</code>は<code class="literal">'-  12'</code>となる一方、<code class="literal">to_char(-12, 'S9999')</code>は<code class="literal">'  -12'</code>となります。
（Oracleの実装では<code class="literal">9</code>の前に<code class="literal">MI</code>が置かれてはならず、<code class="literal">9</code>の後に<code class="literal">MI</code>が置かれることを要求しています。）
      </p></li><li class="listitem"><p>
<span class="original">
       &lt;literal&gt;TH&lt;/literal&gt; does not convert values less than zero
       and does not convert fractional numbers.
</span>
<code class="literal">TH</code>はゼロ未満の値と小数は変換しません
      </p></li><li class="listitem"><p>
<span class="original">
       &lt;literal&gt;PL&lt;/literal&gt;, &lt;literal&gt;SG&lt;/literal&gt;, and
       &lt;literal&gt;TH&lt;/literal&gt; are &lt;productname&gt;PostgreSQL&lt;/productname&gt;
       extensions.
</span>
<code class="literal">PL</code>、<code class="literal">SG</code>、および<code class="literal">TH</code>は<span class="productname">PostgreSQL</span>の拡張です。
      </p></li><li class="listitem"><p>
<span class="original">
       In &lt;function&gt;to_number&lt;/function&gt;, if non-data template patterns such
       as &lt;literal&gt;L&lt;/literal&gt; or &lt;literal&gt;TH&lt;/literal&gt; are used, the
       corresponding number of input characters are skipped, whether or not
       they match the template pattern, unless they are data characters
       (that is, digits, sign, decimal point, or comma).  For
       example, &lt;literal&gt;TH&lt;/literal&gt; would skip two non-data characters.
</span>
<code class="function">to_number</code>において、<code class="literal">L</code>あるいは<code class="literal">TH</code>のように非データテンプレートが使われた場合には、それがデータ文字（すなわち、数字、符号、10進小数点あるいはカンマ）でない限りテンプレートパターンにマッチするかどうかにかかわらず、該当する数分だけの入力文字がスキップされます。
      </p></li><li class="listitem"><p>
<span class="original">
       &lt;literal&gt;V&lt;/literal&gt; with &lt;function&gt;to_char&lt;/function&gt;
       multiplies the input values by
       &lt;literal&gt;10^&lt;replaceable&gt;n&lt;/replaceable&gt;&lt;/literal&gt;, where
       &lt;replaceable&gt;n&lt;/replaceable&gt; is the number of digits following
       &lt;literal&gt;V&lt;/literal&gt;.  &lt;literal&gt;V&lt;/literal&gt; with
       &lt;function&gt;to_number&lt;/function&gt; divides in a similar manner.
       &lt;function&gt;to_char&lt;/function&gt; and &lt;function&gt;to_number&lt;/function&gt;
       do not support the use of
       &lt;literal&gt;V&lt;/literal&gt; combined with a decimal point
       (e.g., &lt;literal&gt;99.9V99&lt;/literal&gt; is not allowed).
</span>
<code class="literal">V</code>を<code class="function">to_char</code>につけると、入力値を<code class="literal">10^<em class="replaceable"><code>n</code></em></code>倍します。
ここで<em class="replaceable"><code>n</code></em>は<code class="literal">V</code>に続く桁数です。
<code class="literal">V</code>を<code class="function">to_number</code>につけると、同じように割り算をします。
<code class="function">to_char</code>および<code class="function">to_number</code>は、小数点と<code class="literal">V</code>との混在をサポートしません（例えば、<code class="literal">99.9V99</code> とはできません）。
      </p></li><li class="listitem"><p>
<span class="original">
       &lt;literal&gt;EEEE&lt;/literal&gt; (scientific notation) cannot be used in
       combination with any of the other formatting patterns or
       modifiers other than digit and decimal point patterns, and must be at the end of the format string
       (e.g., &lt;literal&gt;9.99EEEE&lt;/literal&gt; is a valid pattern).
</span>
<code class="literal">EEEE</code>(科学技術表記)は、桁と小数点のパターンを除き、他の書式パターンや修飾子と組み合わせて使うことはできず、また必ず書式文字列の最後に位置しなければなりません(例えば、<code class="literal">9.99EEEE</code>は正しい表記となります)。
      </p></li></ul></div><p>
   </p><p>
<span class="original">
    Certain modifiers can be applied to any template pattern to alter its
    behavior.  For example, &lt;literal&gt;FM99.99&lt;/literal&gt;
    is the &lt;literal&gt;99.99&lt;/literal&gt; pattern with the
    &lt;literal&gt;FM&lt;/literal&gt; modifier.
    &lt;xref linkend="functions-formatting-numericmod-table"/&gt; shows the
    modifier patterns for numeric formatting.
</span>
すべてのテンプレートについて、その動作を変えるために、いくつかの修飾子を適用できます。
例えば、<code class="literal">FM99.99</code>は<code class="literal">FM</code>修飾子が付いた<code class="literal">99.99</code>パターンです。
<a class="xref" href="functions-formatting.html#FUNCTIONS-FORMATTING-NUMERICMOD-TABLE" title="表9.29 数値の書式用テンプレートパターン修飾子">表 9.29</a>に、数値の書式用の修飾子パターンを示します。
   </p><div class="table" id="FUNCTIONS-FORMATTING-NUMERICMOD-TABLE"><p class="title"><strong>表9.29 数値の書式用テンプレートパターン修飾子</strong></p><div class="table-contents"><span class="original">
     &lt;title&gt;Template Pattern Modifiers for Numeric Formatting&lt;/title&gt;
</span><table class="table" summary="数値の書式用テンプレートパターン修飾子" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>修飾子</th><th>説明</th><th>例</th></tr></thead><tbody><tr><td><code class="literal">FM</code>添え字</td><td>字詰めモード（末尾の0と空白の埋め字を無効にする）</td><td><code class="literal">FM99.99</code></td></tr><tr><td><code class="literal">TH</code>添え字</td><td>大文字による序数添え字</td><td><code class="literal">999TH</code></td></tr><tr><td><code class="literal">th</code>添え字</td><td>子文字による序数添え字</td><td><code class="literal">999th</code></td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
   &lt;xref linkend="functions-formatting-examples-table"/&gt; shows some
   examples of the use of the &lt;function&gt;to_char&lt;/function&gt; function.
</span>
<a class="xref" href="functions-formatting.html#FUNCTIONS-FORMATTING-EXAMPLES-TABLE" title="表9.30 to_charの例">表 9.30</a>に、<code class="function">to_char</code>関数を使用した例をいくつか示します。
  </p><div class="table" id="FUNCTIONS-FORMATTING-EXAMPLES-TABLE"><p class="title"><strong>表9.30 <code class="function">to_char</code>の例</strong></p><div class="table-contents"><span class="original">
     &lt;title&gt;&lt;function&gt;to_char&lt;/function&gt; Examples&lt;/title&gt;
</span><table class="table" summary="to_charの例" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>式</th><th>結果</th></tr></thead><tbody><tr><td><code class="literal">to_char(current_timestamp, 'Day, DD  HH12:MI:SS')</code></td><td><code class="literal">'Tuesday  , 06  05:39:18'</code></td></tr><tr><td><code class="literal">to_char(current_timestamp, 'FMDay, FMDD  HH12:MI:SS')</code></td><td><code class="literal">'Tuesday, 6  05:39:18'</code></td></tr><tr><td><code class="literal">to_char(-0.1, '99.99')</code></td><td><code class="literal">'  -.10'</code></td></tr><tr><td><code class="literal">to_char(-0.1, 'FM9.99')</code></td><td><code class="literal">'-.1'</code></td></tr><tr><td><code class="literal">to_char(-0.1, 'FM90.99')</code></td><td><code class="literal">'-0.1'</code></td></tr><tr><td><code class="literal">to_char(0.1, '0.9')</code></td><td><code class="literal">' 0.1'</code></td></tr><tr><td><code class="literal">to_char(12, '9990999.9')</code></td><td><code class="literal">'    0012.0'</code></td></tr><tr><td><code class="literal">to_char(12, 'FM9990999.9')</code></td><td><code class="literal">'0012.'</code></td></tr><tr><td><code class="literal">to_char(485, '999')</code></td><td><code class="literal">' 485'</code></td></tr><tr><td><code class="literal">to_char(-485, '999')</code></td><td><code class="literal">'-485'</code></td></tr><tr><td><code class="literal">to_char(485, '9 9 9')</code></td><td><code class="literal">' 4 8 5'</code></td></tr><tr><td><code class="literal">to_char(1485, '9,999')</code></td><td><code class="literal">' 1,485'</code></td></tr><tr><td><code class="literal">to_char(1485, '9G999')</code></td><td><code class="literal">' 1 485'</code></td></tr><tr><td><code class="literal">to_char(148.5, '999.999')</code></td><td><code class="literal">' 148.500'</code></td></tr><tr><td><code class="literal">to_char(148.5, 'FM999.999')</code></td><td><code class="literal">'148.5'</code></td></tr><tr><td><code class="literal">to_char(148.5, 'FM999.990')</code></td><td><code class="literal">'148.500'</code></td></tr><tr><td><code class="literal">to_char(148.5, '999D999')</code></td><td><code class="literal">' 148,500'</code></td></tr><tr><td><code class="literal">to_char(3148.5, '9G999D999')</code></td><td><code class="literal">' 3 148,500'</code></td></tr><tr><td><code class="literal">to_char(-485, '999S')</code></td><td><code class="literal">'485-'</code></td></tr><tr><td><code class="literal">to_char(-485, '999MI')</code></td><td><code class="literal">'485-'</code></td></tr><tr><td><code class="literal">to_char(485, '999MI')</code></td><td><code class="literal">'485 '</code></td></tr><tr><td><code class="literal">to_char(485, 'FM999MI')</code></td><td><code class="literal">'485'</code></td></tr><tr><td><code class="literal">to_char(485, 'PL999')</code></td><td><code class="literal">'+485'</code></td></tr><tr><td><code class="literal">to_char(485, 'SG999')</code></td><td><code class="literal">'+485'</code></td></tr><tr><td><code class="literal">to_char(-485, 'SG999')</code></td><td><code class="literal">'-485'</code></td></tr><tr><td><code class="literal">to_char(-485, '9SG99')</code></td><td><code class="literal">'4-85'</code></td></tr><tr><td><code class="literal">to_char(-485, '999PR')</code></td><td><code class="literal">'&lt;485&gt;'</code></td></tr><tr><td><code class="literal">to_char(485, 'L999')</code></td><td><code class="literal">'DM 485'</code></td></tr><tr><td><code class="literal">to_char(485, 'RN')</code></td><td><code class="literal">'        CDLXXXV'</code></td></tr><tr><td><code class="literal">to_char(485, 'FMRN')</code></td><td><code class="literal">'CDLXXXV'</code></td></tr><tr><td><code class="literal">to_char(5.2, 'FMRN')</code></td><td><code class="literal">'V'</code></td></tr><tr><td><code class="literal">to_char(482, '999th')</code></td><td><code class="literal">' 482nd'</code></td></tr><tr><td><code class="literal">to_char(485, '"Good number:"999')</code></td><td><code class="literal">'Good number: 485'</code></td></tr><tr><td><code class="literal">to_char(485.8, '"Pre:"999" Post:" .999')</code></td><td><code class="literal">'Pre: 485 Post: .800'</code></td></tr><tr><td><code class="literal">to_char(12, '99V999')</code></td><td><code class="literal">' 12000'</code></td></tr><tr><td><code class="literal">to_char(12.4, '99V999')</code></td><td><code class="literal">' 12400'</code></td></tr><tr><td><code class="literal">to_char(12.45, '99V9')</code></td><td><code class="literal">' 125'</code></td></tr><tr><td><code class="literal">to_char(0.0004859, '9.99EEEE')</code></td><td><code class="literal">' 4.86e-04'</code></td></tr></tbody></table></div></div><br class="table-break" /></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter"><hr></hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="functions-matching.html" title="9.7. パターンマッチ">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="functions.html" title="第9章 関数と演算子">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="functions-datetime.html" title="9.9. 日付/時刻関数と演算子">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">9.7. パターンマッチ </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 14.0文書">ホーム</a></td><td width="40%" align="right" valign="top"> 9.9. 日付/時刻関数と演算子</td></tr></table></div></body></html>