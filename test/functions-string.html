<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>9.4. 文字列関数と演算子</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="functions-math.html" title="9.3. 算術関数と演算子" /><link rel="next" href="functions-binarystring.html" title="9.5. バイナリ文字列関数と演算子" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 14.0文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="functions.html" title="第9章 関数と演算子">第9章 関数と演算子</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 14.0 &#10;                      functions-string.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="functions-math.html" title="9.3. 算術関数と演算子">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="functions.html" title="第9章 関数と演算子">上へ</a></td><td width="60%" align="center">9.4. 文字列関数と演算子</td><td width="20%" align="right"> <a accesskey="n" href="functions-binarystring.html" title="9.5. バイナリ文字列関数と演算子">次へ</a></td></tr></table><hr /></div><div class="sect1" id="FUNCTIONS-STRING"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.4. 文字列関数と演算子</h2></div></div></div><span class="original">
   &lt;title&gt;String Functions and Operators&lt;/title&gt;
</span><p>
<span class="original">
    This section describes functions and operators for examining and
    manipulating string values.  Strings in this context include values
    of the types &lt;type&gt;character&lt;/type&gt;, &lt;type&gt;character varying&lt;/type&gt;,
    and &lt;type&gt;text&lt;/type&gt;.  Except where noted, these functions and operators
    are declared to accept and return type &lt;type&gt;text&lt;/type&gt;.  They will
    interchangeably accept &lt;type&gt;character varying&lt;/type&gt; arguments.
    Values of type &lt;type&gt;character&lt;/type&gt; will be converted
    to &lt;type&gt;text&lt;/type&gt; before the function or operator is applied, resulting
    in stripping any trailing spaces in the &lt;type&gt;character&lt;/type&gt; value.
</span>
本節では文字列の値の調査や操作のための関数と演算子について説明します。
ここでの文字列とは<code class="type">character</code>データ型、<code class="type">character varying</code>データ型、および<code class="type">text</code>データ型の値を含みます。
補足説明のない限り、下記に挙げている全ての関数は<code class="type">text</code>型を受付、また戻り値型として返すように宣言されています。
それらは<code class="type">character varying</code>データ型も同じように受け付けます。
<code class="type">character</code>型の値は関数あるいは演算子に適用される前に<code class="type">text</code>に変換され、<code class="type">character</code>値の末尾の空白が削除されることになります。
   </p><p>
<span class="original">
    &lt;acronym&gt;SQL&lt;/acronym&gt; defines some string functions that use
    key words, rather than commas, to separate
    arguments.  Details are in
    &lt;xref linkend="functions-string-sql"/&gt;.
    &lt;productname&gt;PostgreSQL&lt;/productname&gt; also provides versions of these functions
    that use the regular function invocation syntax
    (see &lt;xref linkend="functions-string-other"/&gt;).
</span>
<acronym class="acronym">SQL</acronym>では引数の区切りにカンマではなくキーワードを使用する文字列関数をいくつか定義しています。
詳細については<a class="xref" href="functions-string.html#FUNCTIONS-STRING-SQL" title="表9.9 SQL文字列関数と演算子">表 9.9</a>を参照してください。
また<span class="productname">PostgreSQL</span>は、これらの関数に対して通常の関数呼び出し構文を使用するバージョンを提供します（<a class="xref" href="functions-string.html#FUNCTIONS-STRING-OTHER" title="表9.10 その他の文字列関数">表 9.10</a>を参照してください）。
   </p><div class="note"><h3 class="title">注記</h3><p>
<span class="original">
     The string concatenation operator (&lt;literal&gt;||&lt;/literal&gt;) will accept
     non-string input, so long as at least one input is of string type, as shown
     in &lt;xref linkend="functions-string-sql"/&gt;.  For other cases, inserting an
     explicit coercion to &lt;type&gt;text&lt;/type&gt; can be used to have non-string input
     accepted.
</span>
文字列連結演算子（<code class="literal">||</code>）は<a class="xref" href="functions-string.html#FUNCTIONS-STRING-SQL" title="表9.9 SQL文字列関数と演算子">表 9.9</a>で示されるように、少なくともひとつの入力が文字列型であれば、依然として非文字列入力を受け付けます。
その他の場合には非文字列入力を受け付けるために、<code class="type">text</code>への明示的な変換を行うことが可能です。
    </p></div><div class="table" id="FUNCTIONS-STRING-SQL"><p class="title"><strong>表9.9 <acronym class="acronym">SQL</acronym>文字列関数と演算子</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;&lt;acronym&gt;SQL&lt;/acronym&gt; String Functions and Operators&lt;/title&gt;
</span><table class="table" summary="SQL文字列関数と演算子" border="1"><colgroup><col /></colgroup><thead><tr><th class="func_table_entry"><p class="func_signature">
<span class="original">
        Function/Operator
</span>
関数/演算子
       </p>
       <p>
<span class="original">
        Description
</span>
説明
       </p>
       <p>
<span class="original">
        Example(s)
</span>
例
       </p></th></tr></thead><tbody><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.1.1.1.1" class="indexterm"></a>
        <code class="type">text</code> <code class="literal">||</code> <code class="type">text</code>
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Concatenates the two strings.
</span>
2つの文字列を結合します。
       </p>
       <p>
        <code class="literal">'Post' || 'greSQL'</code>
        → <code class="returnvalue">PostgreSQL</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <code class="type">text</code> <code class="literal">||</code> <code class="type">anynonarray</code>
        → <code class="returnvalue">text</code>
       </p>
       <p class="func_signature">
        <code class="type">anynonarray</code> <code class="literal">||</code> <code class="type">text</code>
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Converts the non-string input to text, then concatenates the two
        strings.  (The non-string input cannot be of an array type, because
        that would create ambiguity with the array &lt;literal&gt;||&lt;/literal&gt;
        operators.  If you want to concatenate an array's text equivalent,
        cast it to &lt;type&gt;text&lt;/type&gt; explicitly.)
</span>
非文字列の入力をテキストに変換したのちに2つの文字列を結合します。
（非文字列の入力は配列型であってはいけません。配列の<code class="literal">||</code>演算子との間で曖昧性が生じるからです。
配列のテキストあるいは類似のものを結合する場合は明示的に<code class="type">text</code>にキャストしてください。）
       </p>
       <p>
        <code class="literal">'Value: ' || 42</code>
        → <code class="returnvalue">Value: 42</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.3.1.1.1" class="indexterm"></a>
        <a id="id-1.5.8.10.5.2.2.3.1.1.2" class="indexterm"></a>
         <code class="type">text</code> <code class="literal">IS</code> [<span class="optional"><code class="literal">NOT</code></span>] [<span class="optional"><em class="parameter"><code>form</code></em></span>] <code class="literal">NORMALIZED</code>
        → <code class="returnvalue">boolean</code>
       </p>
       <p>
<span class="original">
        Checks whether the string is in the specified Unicode normalization
        form.  The optional &lt;parameter&gt;form&lt;/parameter&gt; key word specifies the
        form: &lt;literal&gt;NFC&lt;/literal&gt; (the default), &lt;literal&gt;NFD&lt;/literal&gt;,
        &lt;literal&gt;NFKC&lt;/literal&gt;, or &lt;literal&gt;NFKD&lt;/literal&gt;.  This expression can
        only be used when the server encoding is &lt;literal&gt;UTF8&lt;/literal&gt;.  Note
        that checking for normalization using this expression is often faster
        than normalizing possibly already normalized strings.
</span>
文字列が指定したUnicode正規形の範囲かどうかをチェックします。
オプションの<em class="parameter"><code>form</code></em>キーワードは正規形を指定します。<code class="literal">NFC</code> (デフォルトです)、<code class="literal">NFD</code>、<code class="literal">NFKC</code>あるいは<code class="literal">NFKD</code>です。
この式はサーバエンコーディングが<code class="literal">UTF8</code>のときだけ使用できます。
この式を用いた正規形のチェックは、しばしばすでに正規化されている可能性のある文字列を正規化するよりも高速であることに注意してください。
       </p>
       <p>
        <code class="literal">U&amp;'\0061\0308bc' IS NFD NORMALIZED</code>
        → <code class="returnvalue">t</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.4.1.1.1" class="indexterm"></a>
        <code class="function">bit_length</code> ( <code class="type">text</code> )
        → <code class="returnvalue">integer</code>
       </p>
       <p>
<span class="original">
        Returns number of bits in the string (8
        times the &lt;function&gt;octet_length&lt;/function&gt;).
</span>
文字列中のビット数を返します（<code class="function">octet_length</code>の8倍です。）
       </p>
       <p>
        <code class="literal">bit_length('jose')</code>
        → <code class="returnvalue">32</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.5.1.1.1" class="indexterm"></a>
        <a id="id-1.5.8.10.5.2.2.5.1.1.2" class="indexterm"></a>
        <a id="id-1.5.8.10.5.2.2.5.1.1.3" class="indexterm"></a>
        <code class="function">char_length</code> ( <code class="type">text</code> )
        → <code class="returnvalue">integer</code>
       </p>
       <p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.5.1.2.1" class="indexterm"></a>
        <code class="function">character_length</code> ( <code class="type">text</code> )
        → <code class="returnvalue">integer</code>
       </p>
       <p>
<span class="original">
        Returns number of characters in the string.
</span>
文字列中の文字数を返します。
       </p>
       <p>
        <code class="literal">char_length('josé')</code>
        → <code class="returnvalue">4</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.6.1.1.1" class="indexterm"></a>
        <code class="function">lower</code> ( <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Converts the string to all lower case, according to the rules of the
        database's locale.
</span>
データベースの照合順のルールに従い、文字列をすべて小文字に変換します。
       </p>
       <p>
        <code class="literal">lower('TOM')</code>
        → <code class="returnvalue">tom</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.7.1.1.1" class="indexterm"></a>
        <a id="id-1.5.8.10.5.2.2.7.1.1.2" class="indexterm"></a>
        <code class="function">normalize</code> ( <code class="type">text</code>
        [<span class="optional">, <em class="parameter"><code>form</code></em> </span>] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Converts the string to the specified Unicode
        normalization form.  The optional &lt;parameter&gt;form&lt;/parameter&gt; key word
        specifies the form: &lt;literal&gt;NFC&lt;/literal&gt; (the default),
        &lt;literal&gt;NFD&lt;/literal&gt;, &lt;literal&gt;NFKC&lt;/literal&gt;, or
        &lt;literal&gt;NFKD&lt;/literal&gt;.  This function can only be used when the
        server encoding is &lt;literal&gt;UTF8&lt;/literal&gt;.
</span>
文字列を指定したUnicode正規形に変換します。
オプションの<em class="parameter"><code>form</code></em>キーワードは正規形を指定します。<code class="literal">NFC</code> (デフォルトです)、<code class="literal">NFD</code>、<code class="literal">NFKC</code>あるいは<code class="literal">NFKD</code>です。
この式はサーバエンコーディングが<code class="literal">UTF8</code>のときだけ使用できます。
       </p>
       <p>
        <code class="literal">normalize(U&amp;'\0061\0308bc', NFC)</code>
        → <code class="returnvalue">U&amp;'\00E4bc'</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.8.1.1.1" class="indexterm"></a>
        <code class="function">octet_length</code> ( <code class="type">text</code> )
        → <code class="returnvalue">integer</code>
       </p>
       <p>
<span class="original">
        Returns number of bytes in the string.
</span>
文字列のバイト数を返します。
       </p>
       <p>
        <code class="literal">octet_length('josé')</code>
<span class="original">
        &lt;returnvalue&gt;5&lt;/returnvalue&gt; (if server encoding is UTF8)
</span>
→ <code class="returnvalue">5</code>（サーバーエンコーディングがUTF8の場合）
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.9.1.1.1" class="indexterm"></a>
        <code class="function">octet_length</code> ( <code class="type">character</code> )
        → <code class="returnvalue">integer</code>
       </p>
       <p>
<span class="original">
        Returns number of bytes in the string.  Since this version of the
        function accepts type &lt;type&gt;character&lt;/type&gt; directly, it will not
        strip trailing spaces.
</span>
文字列のバイト数を返します。
このバージョンの関数は直接<code class="type">character</code>型を受け付けるので、末尾の空白を削除しません。
       </p>
       <p>
        <code class="literal">octet_length('abc '::character(4))</code>
        → <code class="returnvalue">4</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.10.1.1.1" class="indexterm"></a>
        <code class="function">overlay</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code> <code class="literal">PLACING</code> <em class="parameter"><code>newsubstring</code></em> <code class="type">text</code> <code class="literal">FROM</code> <em class="parameter"><code>start</code></em> <code class="type">integer</code> [<span class="optional"> <code class="literal">FOR</code> <em class="parameter"><code>count</code></em> <code class="type">integer</code> </span>] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Replaces the substring of &lt;parameter&gt;string&lt;/parameter&gt; that starts at
        the &lt;parameter&gt;start&lt;/parameter&gt;'th character and extends
        for &lt;parameter&gt;count&lt;/parameter&gt; characters
        with &lt;parameter&gt;newsubstring&lt;/parameter&gt;.
        If &lt;parameter&gt;count&lt;/parameter&gt; is omitted, it defaults to the length
        of &lt;parameter&gt;newsubstring&lt;/parameter&gt;.
</span>
<em class="parameter"><code>string</code></em>の<em class="parameter"><code>start</code></em>文字目から<em class="parameter"><code>count</code></em>文字を<em class="parameter"><code>newsubstring</code></em>で置き換えます。
<em class="parameter"><code>count</code></em>を省略すると<em class="parameter"><code>newsubstring</code></em>の長さがデフォルトになります。
       </p>
       <p>
        <code class="literal">overlay('Txxxxas' placing 'hom' from 2 for 4)</code>
        → <code class="returnvalue">Thomas</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.11.1.1.1" class="indexterm"></a>
        <code class="function">position</code> ( <em class="parameter"><code>substring</code></em> <code class="type">text</code> <code class="literal">IN</code> <em class="parameter"><code>string</code></em> <code class="type">text</code> )
        → <code class="returnvalue">integer</code>
       </p>
       <p>
<span class="original">
        Returns first starting index of the specified
        &lt;parameter&gt;substring&lt;/parameter&gt; within
        &lt;parameter&gt;string&lt;/parameter&gt;, or zero if it's not present.
</span>
<em class="parameter"><code>string</code></em>中の<em class="parameter"><code>substring</code></em>で指定する文字列の最初の開始位置を返します。0ならその文字列は存在しません。
       </p>
       <p>
        <code class="literal">position('om' in 'Thomas')</code>
        → <code class="returnvalue">3</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.12.1.1.1" class="indexterm"></a>
        <code class="function">substring</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code> [<span class="optional"> <code class="literal">FROM</code> <em class="parameter"><code>start</code></em> <code class="type">integer</code> </span>] [<span class="optional"> <code class="literal">FOR</code> <em class="parameter"><code>count</code></em> <code class="type">integer</code> </span>] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Extracts the substring of &lt;parameter&gt;string&lt;/parameter&gt; starting at
        the &lt;parameter&gt;start&lt;/parameter&gt;'th character if that is specified,
        and stopping after &lt;parameter&gt;count&lt;/parameter&gt; characters if that is
        specified.  Provide at least one of &lt;parameter&gt;start&lt;/parameter&gt;
        and &lt;parameter&gt;count&lt;/parameter&gt;.
</span>
<em class="parameter"><code>start</code></em>が指定されていれば<em class="parameter"><code>start</code></em>番目の文字で始まる<em class="parameter"><code>string</code></em>の部分文字列を返します。
<em class="parameter"><code>count</code></em>が指定されていれば<em class="parameter"><code>count</code></em>数の文字を取り出します。
少なくとも<em class="parameter"><code>start</code></em>か<em class="parameter"><code>count</code></em>のどちらかを指定してください。
       </p>
       <p>
        <code class="literal">substring('Thomas' from 2 for 3)</code>
        → <code class="returnvalue">hom</code>
       </p>
       <p>
        <code class="literal">substring('Thomas' from 3)</code>
        → <code class="returnvalue">omas</code>
       </p>
       <p>
        <code class="literal">substring('Thomas' for 2)</code>
        → <code class="returnvalue">Th</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <code class="function">substring</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code> <code class="literal">FROM</code> <em class="parameter"><code>pattern</code></em> <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Extracts the first substring matching POSIX regular expression; see
        &lt;xref linkend="functions-posix-regexp"/&gt;.
</span>
POSIX正規表現にマッチする最初の部分文字列を返します。<a class="xref" href="functions-matching.html#FUNCTIONS-POSIX-REGEXP" title="9.7.3. POSIX正規表現">9.7.3</a>を参照してください。
       </p>
       <p>
        <code class="literal">substring('Thomas' from '...$')</code>
        → <code class="returnvalue">mas</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <code class="function">substring</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code> <code class="literal">SIMILAR</code> <em class="parameter"><code>pattern</code></em> <code class="type">text</code> <code class="literal">ESCAPE</code> <em class="parameter"><code>escape</code></em> <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p class="func_signature">
        <code class="function">substring</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code> <code class="literal">FROM</code> <em class="parameter"><code>pattern</code></em> <code class="type">text</code> <code class="literal">FOR</code> <em class="parameter"><code>escape</code></em> <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Extracts the first substring matching &lt;acronym&gt;SQL&lt;/acronym&gt; regular expression;
        see &lt;xref linkend="functions-similarto-regexp"/&gt;.  The first form has
        been specified since SQL:2003; the second form was only in SQL:1999
        and should be considered obsolete.
</span>
<acronym class="acronym">SQL</acronym>正規表現にマッチする最初の部分文字列を返します。<a class="xref" href="functions-matching.html#FUNCTIONS-SIMILARTO-REGEXP" title="9.7.2. SIMILAR TO正規表現">9.7.2</a>を参照してください。
最初の形式はSQL:2003以降で指定されています。2番目の形式はSQL:1999でのみ指定されており、廃れていると考えるべきでしょう。
       </p>
       <p>
        <code class="literal">substring('Thomas' similar '%#"o_a#"_' escape '#')</code>
        → <code class="returnvalue">oma</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.15.1.1.1" class="indexterm"></a>
        <code class="function">trim</code> ( [<span class="optional"> <code class="literal">LEADING</code> | <code class="literal">TRAILING</code> | <code class="literal">BOTH</code> </span>]
        [<span class="optional"> <em class="parameter"><code>characters</code></em> <code class="type">text</code> </span>] <code class="literal">FROM</code>
        <em class="parameter"><code>string</code></em> <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Removes the longest string containing only characters in
        &lt;parameter&gt;characters&lt;/parameter&gt; (a space by default) from the
        start, end, or both ends (&lt;literal&gt;BOTH&lt;/literal&gt; is the default)
        of &lt;parameter&gt;string&lt;/parameter&gt;.
</span>
<em class="parameter"><code>characters</code></em>（空白一文字がデフォルトです）に現れる文字のみを含む最長の文字列を<em class="parameter"><code>string</code></em>の最初、最後、あるいは両方（<code class="literal">BOTH</code>がデフォルトです）から取り除きます。
       </p>
       <p>
        <code class="literal">trim(both 'xyz' from 'yxTomxx')</code>
        → <code class="returnvalue">Tom</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <code class="function">trim</code> ( [<span class="optional"> <code class="literal">LEADING</code> | <code class="literal">TRAILING</code> | <code class="literal">BOTH</code> </span>] [<span class="optional"> <code class="literal">FROM</code> </span>]
        <em class="parameter"><code>string</code></em> <code class="type">text</code> [<span class="optional">,
        <em class="parameter"><code>characters</code></em> <code class="type">text</code> </span>] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        This is a non-standard syntax for &lt;function&gt;trim()&lt;/function&gt;.
</span>
これは<code class="function">trim()</code>の非標準構文です。
       </p>
       <p>
        <code class="literal">trim(both from 'yxTomxx', 'xyz')</code>
        → <code class="returnvalue">Tom</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.5.2.2.17.1.1.1" class="indexterm"></a>
        <code class="function">upper</code> ( <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Converts the string to all upper case, according to the rules of the
        database's locale.
</span>
データベースの照合順のルールに従い、文字列をすべて大文字に変換します。
       </p>
       <p>
        <code class="literal">upper('tom')</code>
        → <code class="returnvalue">TOM</code>
       </p></td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    Additional string manipulation functions are available and are
    listed in &lt;xref linkend="functions-string-other"/&gt;.  Some of them are used internally to implement the
    &lt;acronym&gt;SQL&lt;/acronym&gt;-standard string functions listed in &lt;xref linkend="functions-string-sql"/&gt;.
</span>
この他、<a class="xref" href="functions-string.html#FUNCTIONS-STRING-OTHER" title="表9.10 その他の文字列関数">表 9.10</a>に列挙する文字列操作関数が使えます。
そのいくつかは、<a class="xref" href="functions-string.html#FUNCTIONS-STRING-SQL" title="表9.9 SQL文字列関数と演算子">表 9.9</a>で列挙した標準<acronym class="acronym">SQL</acronym>の文字列関数を実装するため、内部的に使用されます。
   </p><div class="table" id="FUNCTIONS-STRING-OTHER"><p class="title"><strong>表9.10 その他の文字列関数</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;Other String Functions&lt;/title&gt;
</span><table class="table" summary="その他の文字列関数" border="1"><colgroup><col /></colgroup><thead><tr><th class="func_table_entry"><p class="func_signature">
<span class="original">
        Function
</span>
関数
       </p>
       <p>
<span class="original">
        Description
</span>
説明
       </p>
       <p>
<span class="original">
        Example(s)
</span>
例
       </p></th></tr></thead><tbody><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.1.1.1.1" class="indexterm"></a>
        <code class="function">ascii</code> ( <code class="type">text</code> )
        → <code class="returnvalue">integer</code>
       </p>
       <p>
<span class="original">
        Returns the numeric code of the first character of the argument.
        In &lt;acronym&gt;UTF8&lt;/acronym&gt; encoding, returns the Unicode code point
        of the character.  In other multibyte encodings, the argument must
        be an &lt;acronym&gt;ASCII&lt;/acronym&gt; character.
</span>
引数の最初の文字の数値コードを返します。
<acronym class="acronym">UTF8</acronym>符号化方式ではその文字のUnicodeコードポイントを返します。
その他のマルチバイト符号化方式の場合、引数は<acronym class="acronym">ASCII</acronym>文字でなくてはなりません。
       </p>
       <p>
        <code class="literal">ascii('x')</code>
        → <code class="returnvalue">120</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.2.1.1.1" class="indexterm"></a>
        <code class="function">btrim</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>
        [<span class="optional">, <em class="parameter"><code>characters</code></em> <code class="type">text</code> </span>] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Removes the longest string containing only characters
        in &lt;parameter&gt;characters&lt;/parameter&gt; (a space by default)
        from the start and end of &lt;parameter&gt;string&lt;/parameter&gt;.
</span>
<em class="parameter"><code>characters</code></em>（空白一文字がデフォルトです）に現れる文字のみを含む最長の文字列を<em class="parameter"><code>string</code></em>の最初と最後から取り除きます。
       </p>
       <p>
        <code class="literal">btrim('xyxtrimyyx', 'xyz')</code>
        → <code class="returnvalue">trim</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.3.1.1.1" class="indexterm"></a>
        <code class="function">chr</code> ( <code class="type">integer</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Returns the character with the given code. In &lt;acronym&gt;UTF8&lt;/acronym&gt;
        encoding the argument is treated as a Unicode code point. In other
        multibyte encodings the argument must designate
        an &lt;acronym&gt;ASCII&lt;/acronym&gt; character.  &lt;literal&gt;chr(0)&lt;/literal&gt; is
        disallowed because text data types cannot store that character.
</span>
与えられたコードの文字を返します。
<acronym class="acronym">UTF8</acronym>符号化方式では、引数はUnicodeコードポイントと見なされます。
その他のマルチバイト符号化方式の場合、引数は指定の<acronym class="acronym">ASCII</acronym>文字でなくてはなりません。
<code class="literal">chr(0)</code>は禁止されています。テキストデータ型はその文字を格納できないからです。
      </p>
      <p>
        <code class="literal">chr(65)</code>
        → <code class="returnvalue">A</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.4.1.1.1" class="indexterm"></a>
        <code class="function">concat</code> ( <em class="parameter"><code>val1</code></em> <code class="type">"any"</code>
         [, <em class="parameter"><code>val2</code></em> <code class="type">"any"</code> [, ...] ] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Concatenates the text representations of all the arguments.
        NULL arguments are ignored.
</span>
引数をテキスト形式にしたものを結合します。
NULL引数は無視されます。
       </p>
       <p>
        <code class="literal">concat('abcde', 2, NULL, 22)</code>
        → <code class="returnvalue">abcde222</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.5.1.1.1" class="indexterm"></a>
        <code class="function">concat_ws</code> ( <em class="parameter"><code>sep</code></em> <code class="type">text</code>,
        <em class="parameter"><code>val1</code></em> <code class="type">"any"</code>
        [, <em class="parameter"><code>val2</code></em> <code class="type">"any"</code> [, ...] ] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Concatenates all but the first argument, with separators. The first
        argument is used as the separator string, and should not be NULL.
        Other NULL arguments are ignored.
</span>
最初の引数以外をセパレータとともに結合します。
最初の引数はセパレータ文字列として使われ、NULLにすべきではありません。
それ以外のNULLの引数は無視されます。
       </p>
       <p>
        <code class="literal">concat_ws(',', 'abcde', 2, NULL, 22)</code>
        → <code class="returnvalue">abcde,2,22</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.6.1.1.1" class="indexterm"></a>
        <code class="function">format</code> ( <em class="parameter"><code>formatstr</code></em> <code class="type">text</code>
        [, <em class="parameter"><code>formatarg</code></em> <code class="type">"any"</code> [, ...] ] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
         Formats arguments according to a format string;
         see &lt;xref linkend="functions-string-format"/&gt;.
         This function is similar to the C function &lt;function&gt;sprintf&lt;/function&gt;.
</span>
引数の書式をフォーマット文字列に従って整形します。
<a class="xref" href="functions-string.html#FUNCTIONS-STRING-FORMAT" title="9.4.1. format">9.4.1</a>を参照してください。
この関数はC言語関数の<code class="function">sprintf</code>と似ています。
       </p>
       <p>
        <code class="literal">format('Hello %s, %1$s', 'World')</code>
        → <code class="returnvalue">Hello World, World</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.7.1.1.1" class="indexterm"></a>
        <code class="function">initcap</code> ( <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Converts the first letter of each word to upper case and the
        rest to lower case. Words are sequences of alphanumeric
        characters separated by non-alphanumeric characters.
</span>
それぞれの単語の第一文字を大文字に、残りは小文字に変換します。
ここで単語とは、英数字以外の文字で区切られた、英数字からなる文字の並びのことです。
       </p>
       <p>
        <code class="literal">initcap('hi THOMAS')</code>
        → <code class="returnvalue">Hi Thomas</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.8.1.1.1" class="indexterm"></a>
        <code class="function">left</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>,
        <em class="parameter"><code>n</code></em> <code class="type">integer</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Returns first &lt;parameter&gt;n&lt;/parameter&gt; characters in the
        string, or when &lt;parameter&gt;n&lt;/parameter&gt; is negative, returns
        all but last |&lt;parameter&gt;n&lt;/parameter&gt;| characters.
</span>
文字列の先頭から<em class="parameter"><code>n</code></em>文字を返します。
<em class="parameter"><code>n</code></em>が負数の場合、文字列の末尾から|<em class="parameter"><code>n</code></em>|文字を切り取った文字列を返します。
       </p>
       <p>
        <code class="literal">left('abcde', 2)</code>
        → <code class="returnvalue">ab</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.9.1.1.1" class="indexterm"></a>
        <code class="function">length</code> ( <code class="type">text</code> )
        → <code class="returnvalue">integer</code>
       </p>
       <p>
<span class="original">
        Returns the number of characters in the string.
</span>
文字列内の文字数を返します。
       </p>
       <p>
        <code class="literal">length('jose')</code>
        → <code class="returnvalue">4</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.10.1.1.1" class="indexterm"></a>
        <code class="function">lpad</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>,
        <em class="parameter"><code>length</code></em> <code class="type">integer</code>
        [<span class="optional">, <em class="parameter"><code>fill</code></em> <code class="type">text</code> </span>] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Extends the &lt;parameter&gt;string&lt;/parameter&gt; to length
        &lt;parameter&gt;length&lt;/parameter&gt; by prepending the characters
        &lt;parameter&gt;fill&lt;/parameter&gt; (a space by default).  If the
        &lt;parameter&gt;string&lt;/parameter&gt; is already longer than
        &lt;parameter&gt;length&lt;/parameter&gt; then it is truncated (on the right).
</span>
文字<em class="parameter"><code>fill</code></em>（デフォルトは空白文字）を文字列の前に追加して、<em class="parameter"><code>string</code></em>を<em class="parameter"><code>length</code></em>の長さにします。
<em class="parameter"><code>string</code></em>が既に<em class="parameter"><code>length</code></em>の長さを超えている場合は（右側が）切り捨てられます。
       </p>
       <p>
        <code class="literal">lpad('hi', 5, 'xy')</code>
        → <code class="returnvalue">xyxhi</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.11.1.1.1" class="indexterm"></a>
        <code class="function">ltrim</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>
        [<span class="optional">, <em class="parameter"><code>characters</code></em> <code class="type">text</code> </span>] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Removes the longest string containing only characters in
        &lt;parameter&gt;characters&lt;/parameter&gt; (a space by default) from the start of
        &lt;parameter&gt;string&lt;/parameter&gt;.
</span>
<em class="parameter"><code>string</code></em>の最初から、<em class="parameter"><code>characters</code></em>（デフォルトは空白文字）で指定された文字だけを有する最長の文字列を削除します。
       </p>
       <p>
        <code class="literal">ltrim('zzzytest', 'xyz')</code>
        → <code class="returnvalue">test</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.12.1.1.1" class="indexterm"></a>
        <code class="function">md5</code> ( <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Computes the MD5 &lt;link linkend="functions-hash-note"&gt;hash&lt;/link&gt; of
        the argument, with the result written in hexadecimal.
</span>
引数のMD5<a class="link" href="functions-binarystring.html#FUNCTIONS-HASH-NOTE">ハッシュ</a>計算し、16進数で結果を返します。
       </p>
       <p>
        <code class="literal">md5('abc')</code>
        → <code class="returnvalue">900150983cd24fb0​d6963f7d28e17f72</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.13.1.1.1" class="indexterm"></a>
        <code class="function">parse_ident</code> ( <em class="parameter"><code>qualified_identifier</code></em> <code class="type">text</code>
        [, <em class="parameter"><code>strict_mode</code></em> <code class="type">boolean</code> <code class="literal">DEFAULT</code> <code class="literal">true</code> ] )
        → <code class="returnvalue">text[]</code>
       </p>
       <p>
<span class="original">
        Splits &lt;parameter&gt;qualified_identifier&lt;/parameter&gt; into an array of
        identifiers, removing any quoting of individual identifiers.  By
        default, extra characters after the last identifier are considered an
        error; but if the second parameter is &lt;literal&gt;false&lt;/literal&gt;, then such
        extra characters are ignored. (This behavior is useful for parsing
        names for objects like functions.) Note that this function does not
        truncate over-length identifiers. If you want truncation you can cast
        the result to &lt;type&gt;name[]&lt;/type&gt;.
</span>
<em class="parameter"><code>qualified_identifier</code></em>を識別子の配列に分割し、個々の識別子に引用符があればそれを削除します。
デフォルトでは、最後の識別子の後に続く余分な文字はエラーとされますが、2番目のパラメータが<code class="literal">false</code>の場合は、そのような余分な文字は無視されます。
（この動作は、関数のようなオブジェクトに対して名前を解析するときに便利でしょう。）
この関数は、長すぎる識別子を切り詰めないことに注意してください。
切り詰めが必要なときは、その結果を<code class="type">name[]</code>にキャストすることができます。
       </p>
       <p>
        <code class="literal">parse_ident('"SomeSchema".someTable')</code>
        → <code class="returnvalue">{SomeSchema,sometable}</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.14.1.1.1" class="indexterm"></a>
        <code class="function">pg_client_encoding</code> ( )
        → <code class="returnvalue">name</code>
       </p>
       <p>
<span class="original">
        Returns current client encoding name.
</span>
現在のクライアントの符号化方式の名前を返します。
       </p>
       <p>
        <code class="literal">pg_client_encoding()</code>
        → <code class="returnvalue">UTF8</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.15.1.1.1" class="indexterm"></a>
        <code class="function">quote_ident</code> ( <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Returns the given string suitably quoted to be used as an identifier
        in an &lt;acronym&gt;SQL&lt;/acronym&gt; statement string.
        Quotes are added only if necessary (i.e., if the string contains
        non-identifier characters or would be case-folded).
        Embedded quotes are properly doubled.
        See also &lt;xref linkend="plpgsql-quote-literal-example"/&gt;.
</span>
与えられた文字列を、<acronym class="acronym">SQL</acronym>問い合わせ文字列で識別子として使用できるように、適切な引用符を付けて返します。
引用符は、必要な場合（すなわち、文字列に識別子として使用できない文字が含まれる場合や、大文字変換される場合）にのみ追加されます。
埋め込まれた引用符は、適切に二重化されます。
<a class="xref" href="plpgsql-statements.html#PLPGSQL-QUOTE-LITERAL-EXAMPLE" title="例43.1 動的問い合わせの中の値の引用符付け">例 43.1</a>も参照してください。
       </p>
       <p>
        <code class="literal">quote_ident('Foo bar')</code>
        → <code class="returnvalue">"Foo bar"</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.16.1.1.1" class="indexterm"></a>
        <code class="function">quote_literal</code> ( <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Returns the given string suitably quoted to be used as a string literal
        in an &lt;acronym&gt;SQL&lt;/acronym&gt; statement string.
        Embedded single-quotes and backslashes are properly doubled.
        Note that &lt;function&gt;quote_literal&lt;/function&gt; returns null on null
        input; if the argument might be null,
        &lt;function&gt;quote_nullable&lt;/function&gt; is often more suitable.
        See also &lt;xref linkend="plpgsql-quote-literal-example"/&gt;.
</span>
与えられた文字列を、<acronym class="acronym">SQL</acronym>問い合わせ文字列で文字リテラルとして使用できるように、適切な引用符を付けて返します。
埋め込まれた単一引用符およびバックスラッシュは、適切に二重化されます。
<code class="function">quote_literal</code>はNULL入力に対してNULLを返すことに注意してください。引数がNULLとなる可能性がある場合、より<code class="function">quote_nullable</code>の方がしばしば適しています。
<a class="xref" href="plpgsql-statements.html#PLPGSQL-QUOTE-LITERAL-EXAMPLE" title="例43.1 動的問い合わせの中の値の引用符付け">例 43.1</a>も参照してください。
       </p>
       <p>
        <code class="literal">quote_literal(E'O\'Reilly')</code>
        → <code class="returnvalue">'O''Reilly'</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <code class="function">quote_literal</code> ( <code class="type">anyelement</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Converts the given value to text and then quotes it as a literal.
        Embedded single-quotes and backslashes are properly doubled.
</span>
与えられた値をテキストに変換し、そしてリテラルとして引用符付けします。
埋め込まれた単一引用符とバックスラッシュは適切に二重化されます。
       </p>
       <p>
        <code class="literal">quote_literal(42.5)</code>
        → <code class="returnvalue">'42.5'</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.18.1.1.1" class="indexterm"></a>
        <code class="function">quote_nullable</code> ( <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Returns the given string suitably quoted to be used as a string literal
        in an &lt;acronym&gt;SQL&lt;/acronym&gt; statement string; or, if the argument
        is null, returns &lt;literal&gt;NULL&lt;/literal&gt;.
        Embedded single-quotes and backslashes are properly doubled.
        See also &lt;xref linkend="plpgsql-quote-literal-example"/&gt;.
</span>
与えられた文字列を、<acronym class="acronym">SQL</acronym>問い合わせ文字列で文字列リテラルとして使用できるように、適切な引用符を付けて返します。
また、引数がNULLの場合、<code class="literal">NULL</code>を返します。
埋め込まれた単一引用符およびバックスラッシュは適切に二重化されます。
<a class="xref" href="plpgsql-statements.html#PLPGSQL-QUOTE-LITERAL-EXAMPLE" title="例43.1 動的問い合わせの中の値の引用符付け">例 43.1</a>も参照してください。
       </p>
       <p>
        <code class="literal">quote_nullable(NULL)</code>
        → <code class="returnvalue">NULL</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <code class="function">quote_nullable</code> ( <code class="type">anyelement</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Converts the given value to text and then quotes it as a literal;
        or, if the argument is null, returns &lt;literal&gt;NULL&lt;/literal&gt;.
        Embedded single-quotes and backslashes are properly doubled.
</span>
与えられた値をテキストに変換し、そしてリテラルとして引用符付けします。引数がNULLの場合は<code class="literal">NULL</code>を返します。
埋め込まれた単一引用符とバックスラッシュは適切に二重化されます。
       </p>
       <p>
        <code class="literal">quote_nullable(42.5)</code>
        → <code class="returnvalue">'42.5'</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.20.1.1.1" class="indexterm"></a>
        <code class="function">regexp_match</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>, <em class="parameter"><code>pattern</code></em> <code class="type">text</code> [, <em class="parameter"><code>flags</code></em> <code class="type">text</code> ] )
        → <code class="returnvalue">text[]</code>
       </p>
       <p>
<span class="original">
        Returns captured substrings resulting from the first match of a POSIX
        regular expression to the &lt;parameter&gt;string&lt;/parameter&gt;; see
        &lt;xref linkend="functions-posix-regexp"/&gt;.
</span>
<em class="parameter"><code>string</code></em>に対してPOSIX正規表現でマッチし、捕捉された最初の部分文字列を返します。
より詳細は<a class="xref" href="functions-matching.html#FUNCTIONS-POSIX-REGEXP" title="9.7.3. POSIX正規表現">9.7.3</a>を参照してください。
       </p>
       <p>
        <code class="literal">regexp_match('foobarbequebaz', '(bar)(beque)')</code>
        → <code class="returnvalue">{bar,beque}</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.21.1.1.1" class="indexterm"></a>
        <code class="function">regexp_matches</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>, <em class="parameter"><code>pattern</code></em> <code class="type">text</code> [, <em class="parameter"><code>flags</code></em> <code class="type">text</code> ] )
        → <code class="returnvalue">setof text[]</code>
       </p>
       <p>
<span class="original">
        Returns captured substrings resulting from the first match of a
        POSIX regular expression to the &lt;parameter&gt;string&lt;/parameter&gt;,
        or multiple matches if the &lt;literal&gt;g&lt;/literal&gt; flag is used;
        see &lt;xref linkend="functions-posix-regexp"/&gt;.
</span>
<em class="parameter"><code>string</code></em>に対してPOSIX正規表現で最初のマッチ、あるいは<code class="literal">g</code>が指定された場合には複数のマッチの結果から捕捉された部分文字列を返します。
<a class="xref" href="functions-matching.html#FUNCTIONS-POSIX-REGEXP" title="9.7.3. POSIX正規表現">9.7.3</a>を参照してください。
       </p>
       <p>
        <code class="literal">regexp_matches('foobarbequebaz', 'ba.', 'g')</code>
        → <code class="returnvalue"></code>
</p><pre class="programlisting">
 {bar}
 {baz}
</pre><p>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.22.1.1.1" class="indexterm"></a>
        <code class="function">regexp_replace</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>, <em class="parameter"><code>pattern</code></em> <code class="type">text</code>, <em class="parameter"><code>replacement</code></em> <code class="type">text</code> [, <em class="parameter"><code>flags</code></em> <code class="type">text</code> ] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Replaces substrings resulting from the first match of a
        POSIX regular expression, or multiple substring matches
        if the &lt;literal&gt;g&lt;/literal&gt; flag is used; see &lt;xref
        linkend="functions-posix-regexp"/&gt;.
</span>
POSIX正規表現で最初のマッチ、あるいは<code class="literal">g</code>が指定された場合には複数のマッチの結果から捕捉された部分文字列を置換します。
<a class="xref" href="functions-matching.html#FUNCTIONS-POSIX-REGEXP" title="9.7.3. POSIX正規表現">9.7.3</a>を参照してください。
       </p>
       <p>
        <code class="literal">regexp_replace('Thomas', '.[mN]a.', 'M')</code>
        → <code class="returnvalue">ThM</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.23.1.1.1" class="indexterm"></a>
        <code class="function">regexp_split_to_array</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>, <em class="parameter"><code>pattern</code></em> <code class="type">text</code> [, <em class="parameter"><code>flags</code></em> <code class="type">text</code> ] )
        → <code class="returnvalue">text[]</code>
       </p>
       <p>
<span class="original">
        Splits &lt;parameter&gt;string&lt;/parameter&gt; using a POSIX regular
        expression as the delimiter, producing an array of results; see
        &lt;xref linkend="functions-posix-regexp"/&gt;.
</span>
POSIX正規表現を区切り文字に使って<em class="parameter"><code>string</code></em>を分割し、結果の配列を生成します。
<a class="xref" href="functions-matching.html#FUNCTIONS-POSIX-REGEXP" title="9.7.3. POSIX正規表現">9.7.3</a>を参照してください。
       </p>
       <p>
        <code class="literal">regexp_split_to_array('hello world', '\s+')</code>
        → <code class="returnvalue">{hello,world}</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.24.1.1.1" class="indexterm"></a>
        <code class="function">regexp_split_to_table</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>, <em class="parameter"><code>pattern</code></em> <code class="type">text</code> [, <em class="parameter"><code>flags</code></em> <code class="type">text</code> ] )
        → <code class="returnvalue">setof text</code>
       </p>
       <p>
<span class="original">
        Splits &lt;parameter&gt;string&lt;/parameter&gt; using a POSIX regular
        expression as the delimiter, producing a set of results; see
        &lt;xref linkend="functions-posix-regexp"/&gt;.
</span>
POSIX正規表現を区切り文字に使って<em class="parameter"><code>string</code></em>を分割します。
詳しくは<a class="xref" href="functions-matching.html#FUNCTIONS-POSIX-REGEXP" title="9.7.3. POSIX正規表現">9.7.3</a>を参照してください。
       </p>
       <p>
        <code class="literal">regexp_split_to_table('hello world', '\s+')</code>
        → <code class="returnvalue"></code>
</p><pre class="programlisting">
 hello
 world
</pre><p>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.25.1.1.1" class="indexterm"></a>
        <code class="function">repeat</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>, <em class="parameter"><code>number</code></em> <code class="type">integer</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Repeats &lt;parameter&gt;string&lt;/parameter&gt; the specified
        &lt;parameter&gt;number&lt;/parameter&gt; of times.
</span>
指定された<em class="parameter"><code>number</code></em>の数だけ<em class="parameter"><code>string</code></em>を繰り返します。
       </p>
       <p>
        <code class="literal">repeat('Pg', 4)</code>
        → <code class="returnvalue">PgPgPgPg</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.26.1.1.1" class="indexterm"></a>
        <code class="function">replace</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>,
        <em class="parameter"><code>from</code></em> <code class="type">text</code>,
        <em class="parameter"><code>to</code></em> <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Replaces all occurrences in &lt;parameter&gt;string&lt;/parameter&gt; of
        substring &lt;parameter&gt;from&lt;/parameter&gt; with
        substring &lt;parameter&gt;to&lt;/parameter&gt;.
</span>
<em class="parameter"><code>string</code></em>に出現する全ての<em class="parameter"><code>from</code></em>部分文字列を<em class="parameter"><code>to</code></em>部分文字列に置換します。
       </p>
       <p>
        <code class="literal">replace('abcdefabcdef', 'cd', 'XX')</code>
        → <code class="returnvalue">abXXefabXXef</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.27.1.1.1" class="indexterm"></a>
        <code class="function">reverse</code> ( <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Reverses the order of the characters in the string.
</span>
文字列中の文字を逆順にします。
       </p>
       <p>
        <code class="literal">reverse('abcde')</code>
        → <code class="returnvalue">edcba</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.28.1.1.1" class="indexterm"></a>
        <code class="function">right</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>,
         <em class="parameter"><code>n</code></em> <code class="type">integer</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Returns last &lt;parameter&gt;n&lt;/parameter&gt; characters in the string,
        or when &lt;parameter&gt;n&lt;/parameter&gt; is negative, returns all but
        first |&lt;parameter&gt;n&lt;/parameter&gt;| characters.
</span>
文字列の末尾から<em class="parameter"><code>n</code></em>文字を返します。
<em class="parameter"><code>n</code></em>が負数の場合は、文字列の先頭から|<em class="parameter"><code>n</code></em>|文字だけ切り取った文字列を返します。
       </p>
       <p>
        <code class="literal">right('abcde', 2)</code>
        → <code class="returnvalue">de</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.29.1.1.1" class="indexterm"></a>
        <code class="function">rpad</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>,
        <em class="parameter"><code>length</code></em> <code class="type">integer</code>
        [<span class="optional">, <em class="parameter"><code>fill</code></em> <code class="type">text</code> </span>] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Extends the &lt;parameter&gt;string&lt;/parameter&gt; to length
        &lt;parameter&gt;length&lt;/parameter&gt; by appending the characters
        &lt;parameter&gt;fill&lt;/parameter&gt; (a space by default).  If the
        &lt;parameter&gt;string&lt;/parameter&gt; is already longer than
        &lt;parameter&gt;length&lt;/parameter&gt; then it is truncated.
</span>
文字<em class="parameter"><code>fill</code></em>（デフォルトは空白文字）を文字列に追加して、<em class="parameter"><code>string</code></em>を<em class="parameter"><code>length</code></em>の長さにします。
<em class="parameter"><code>string</code></em>が既に<em class="parameter"><code>length</code></em>の長さを超えている場合は切り捨てられます。
       </p>
       <p>
        <code class="literal">rpad('hi', 5, 'xy')</code>
        → <code class="returnvalue">hixyx</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.30.1.1.1" class="indexterm"></a>
        <code class="function">rtrim</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>
         [<span class="optional">, <em class="parameter"><code>characters</code></em> <code class="type">text</code> </span>] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Removes the longest string containing only characters in
        &lt;parameter&gt;characters&lt;/parameter&gt; (a space by default) from the end of
        &lt;parameter&gt;string&lt;/parameter&gt;.
</span>
<em class="parameter"><code>string</code></em>の末尾から、<em class="parameter"><code>characters</code></em>（デフォルトは空白文字）で指定された文字のみを有する最長の文字列を削除します。
       </p>
       <p>
        <code class="literal">rtrim('testxxzx', 'xyz')</code>
        → <code class="returnvalue">test</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.31.1.1.1" class="indexterm"></a>
        <code class="function">split_part</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>,
        <em class="parameter"><code>delimiter</code></em> <code class="type">text</code>,
        <em class="parameter"><code>n</code></em> <code class="type">integer</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Splits &lt;parameter&gt;string&lt;/parameter&gt; at occurrences
        of &lt;parameter&gt;delimiter&lt;/parameter&gt; and returns
        the &lt;parameter&gt;n&lt;/parameter&gt;'th field (counting from one),
        or when &lt;parameter&gt;n&lt;/parameter&gt; is negative, returns
        the |&lt;parameter&gt;n&lt;/parameter&gt;|'th-from-last field.
</span>
<em class="parameter"><code>string</code></em>を<em class="parameter"><code>delimiter</code></em>で分割し、その結果からn番目のフィールド（1から始まるように数える）を返します。
<em class="parameter"><code>n</code></em>が負なら最後から|<em class="parameter"><code>n</code></em>|番目のフィールドを返します。
       </p>
       <p>
        <code class="literal">split_part('abc~@~def~@~ghi', '~@~', 2)</code>
        → <code class="returnvalue">def</code>
       </p>
       <p>
        <code class="literal">split_part('abc,def,ghi,jkl', ',', -2)</code>
        → <code class="returnvalue">ghi</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.32.1.1.1" class="indexterm"></a>
        <code class="function">strpos</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>, <em class="parameter"><code>substring</code></em> <code class="type">text</code> )
        → <code class="returnvalue">integer</code>
       </p>
       <p>
<span class="original">
        Returns first starting index of the specified &lt;parameter&gt;substring&lt;/parameter&gt;
        within &lt;parameter&gt;string&lt;/parameter&gt;, or zero if it's not present.
        (Same as &lt;literal&gt;position(&lt;parameter&gt;substring&lt;/parameter&gt; in
        &lt;parameter&gt;string&lt;/parameter&gt;)&lt;/literal&gt;, but note the reversed
        argument order.)
</span>
<em class="parameter"><code>string</code></em>中の指定した<em class="parameter"><code>substring</code></em>の最初の開始位置を返します。<em class="parameter"><code>substring</code></em>が存在しなければゼロを返します。
（<code class="literal">position(<em class="parameter"><code>substring</code></em> in <em class="parameter"><code>string</code></em>)</code>と同じですが、引数の順序が逆であることに注意してください。）
       </p>
       <p>
        <code class="literal">strpos('high', 'ig')</code>
        → <code class="returnvalue">2</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.33.1.1.1" class="indexterm"></a>
        <code class="function">substr</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>, <em class="parameter"><code>start</code></em> <code class="type">integer</code> [<span class="optional">, <em class="parameter"><code>count</code></em> <code class="type">integer</code> </span>] )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Extracts the substring of &lt;parameter&gt;string&lt;/parameter&gt; starting at
        the &lt;parameter&gt;start&lt;/parameter&gt;'th character,
        and extending for &lt;parameter&gt;count&lt;/parameter&gt; characters if that is
        specified.  (Same
        as &lt;literal&gt;substring(&lt;parameter&gt;string&lt;/parameter&gt;
        from &lt;parameter&gt;start&lt;/parameter&gt;
        for &lt;parameter&gt;count&lt;/parameter&gt;)&lt;/literal&gt;.)
</span>
<em class="parameter"><code>string</code></em>の<em class="parameter"><code>start</code></em>番目の文字から始まり、指定されている場合は<em class="parameter"><code>count</code></em>文字だけ連続したが部分文字列を取り出します（<code class="literal">substring(<em class="parameter"><code>string</code></em> from <em class="parameter"><code>from</code></em> for <em class="parameter"><code>count</code></em>)</code>と同じです）。
       </p>
       <p>
        <code class="literal">substr('alphabet', 3)</code>
        → <code class="returnvalue">phabet</code>
       </p>
       <p>
        <code class="literal">substr('alphabet', 3, 2)</code>
        → <code class="returnvalue">ph</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.34.1.1.1" class="indexterm"></a>
        <code class="function">starts_with</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>, <em class="parameter"><code>prefix</code></em> <code class="type">text</code> )
        → <code class="returnvalue">boolean</code>
       </p>
       <p>
<span class="original">
        Returns true if &lt;parameter&gt;string&lt;/parameter&gt; starts
        with &lt;parameter&gt;prefix&lt;/parameter&gt;.
</span>
<em class="parameter"><code>string</code></em>が<em class="parameter"><code>prefix</code></em>で始まっていれば真を返します。
       </p>
       <p>
        <code class="literal">starts_with('alphabet', 'alph')</code>
        → <code class="returnvalue">t</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.35.1.1.1" class="indexterm"></a>
        <code class="function">string_to_array</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>, <em class="parameter"><code>delimiter</code></em> <code class="type">text</code> [<span class="optional">, <em class="parameter"><code>null_string</code></em> <code class="type">text</code> </span>] )
        → <code class="returnvalue">text[]</code>
       </p>
       <p>
<span class="original">
        Splits the &lt;parameter&gt;string&lt;/parameter&gt; at occurrences
        of &lt;parameter&gt;delimiter&lt;/parameter&gt; and forms the resulting fields
        into a &lt;type&gt;text&lt;/type&gt; array.
        If &lt;parameter&gt;delimiter&lt;/parameter&gt; is &lt;literal&gt;NULL&lt;/literal&gt;,
        each character in the &lt;parameter&gt;string&lt;/parameter&gt; will become a
        separate element in the array.
        If &lt;parameter&gt;delimiter&lt;/parameter&gt; is an empty string, then
        the &lt;parameter&gt;string&lt;/parameter&gt; is treated as a single field.
        If &lt;parameter&gt;null_string&lt;/parameter&gt; is supplied and is
        not &lt;literal&gt;NULL&lt;/literal&gt;, fields matching that string are
        replaced by &lt;literal&gt;NULL&lt;/literal&gt;.
</span>
<em class="parameter"><code>string</code></em>を<em class="parameter"><code>delimiter</code></em>で区切り、結果のフィールドを<code class="type">text</code>配列に格納します。
<em class="parameter"><code>delimiter</code></em>が<code class="literal">NULL</code>なら、<em class="parameter"><code>string</code></em>の各文字が配列の別々の要素になります。
<em class="parameter"><code>delimiter</code></em>が空文字なら、<em class="parameter"><code>string</code></em>は単一のフィールドとして扱われます。
<em class="parameter"><code>null_string</code></em>が指定され、<code class="literal">NULL</code>でなければ、その文字列にマッチするフィールドは<code class="literal">NULL</code>で置き換えられます。
       </p>
       <p>
        <code class="literal">string_to_array('xx~~yy~~zz', '~~', 'yy')</code>
        → <code class="returnvalue">{xx,NULL,zz}</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.36.1.1.1" class="indexterm"></a>
        <code class="function">string_to_table</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>, <em class="parameter"><code>delimiter</code></em> <code class="type">text</code> [<span class="optional">, <em class="parameter"><code>null_string</code></em> <code class="type">text</code> </span>] )
        → <code class="returnvalue">setof text</code>
       </p>
       <p>
<span class="original">
        Splits the &lt;parameter&gt;string&lt;/parameter&gt; at occurrences
        of &lt;parameter&gt;delimiter&lt;/parameter&gt; and returns the resulting fields
        as a set of &lt;type&gt;text&lt;/type&gt; rows.
        If &lt;parameter&gt;delimiter&lt;/parameter&gt; is &lt;literal&gt;NULL&lt;/literal&gt;,
        each character in the &lt;parameter&gt;string&lt;/parameter&gt; will become a
        separate row of the result.
        If &lt;parameter&gt;delimiter&lt;/parameter&gt; is an empty string, then
        the &lt;parameter&gt;string&lt;/parameter&gt; is treated as a single field.
        If &lt;parameter&gt;null_string&lt;/parameter&gt; is supplied and is
        not &lt;literal&gt;NULL&lt;/literal&gt;, fields matching that string are
        replaced by &lt;literal&gt;NULL&lt;/literal&gt;.
</span>
<em class="parameter"><code>string</code></em>を<em class="parameter"><code>delimiter</code></em>で区切り、結果のフィールドを<code class="type">text</code>の行集合として返します。
<em class="parameter"><code>delimiter</code></em>が<code class="literal">NULL</code>なら、結果は<em class="parameter"><code>string</code></em>の各文字が別々の行になります。
<em class="parameter"><code>delimiter</code></em>が空文字なら、<em class="parameter"><code>string</code></em>は単一のフィールドとして扱われます。
<em class="parameter"><code>null_string</code></em>が指定され、<code class="literal">NULL</code>でなければ、その文字列にマッチするフィールドは<code class="literal">NULL</code>で置き換えられます。
       </p>
       <p>
        <code class="literal">string_to_table('xx~^~yy~^~zz', '~^~', 'yy')</code>
        → <code class="returnvalue"></code>
</p><pre class="programlisting">
 xx
 NULL
 zz
</pre><p>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.37.1.1.1" class="indexterm"></a>
        <code class="function">to_ascii</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p class="func_signature">
        <code class="function">to_ascii</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>,
        <em class="parameter"><code>encoding</code></em> <code class="type">name</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p class="func_signature">
        <code class="function">to_ascii</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>,
        <em class="parameter"><code>encoding</code></em> <code class="type">integer</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Converts &lt;parameter&gt;string&lt;/parameter&gt; to &lt;acronym&gt;ASCII&lt;/acronym&gt;
        from another encoding, which may be identified by name or number.
        If &lt;parameter&gt;encoding&lt;/parameter&gt; is omitted the database encoding
        is assumed (which in practice is the only useful case).
        The conversion consists primarily of dropping accents.
        Conversion is only supported
        from &lt;literal&gt;LATIN1&lt;/literal&gt;, &lt;literal&gt;LATIN2&lt;/literal&gt;,
        &lt;literal&gt;LATIN9&lt;/literal&gt;, and &lt;literal&gt;WIN1250&lt;/literal&gt; encodings.
        (See the &lt;xref linkend="unaccent"/&gt; module for another, more flexible
        solution.)
</span>
<em class="parameter"><code>string</code></em>を他の名前あるいは数で指定される符号化方式から、<acronym class="acronym">ASCII</acronym>に変換します。
<em class="parameter"><code>encoding</code></em>が省略されるとデータベースの符号化方式を指定したと見なします（これは実用的には唯一有用なケースです。）
この変換は主にアクセントを削除するのが目的です。
<code class="literal">LATIN1</code>、<code class="literal">LATIN2</code>、<code class="literal">LATIN9</code>、<code class="literal">WIN1250</code>符号化方式からの変換のみをサポートします。
（他のより柔軟な解決方法としては、<a class="xref" href="unaccent.html" title="F.45. unaccent">unaccent</a>モジュールを参照してください。）
       </p>
       <p>
        <code class="literal">to_ascii('Karél')</code>
        → <code class="returnvalue">Karel</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.38.1.1.1" class="indexterm"></a>
        <code class="function">to_hex</code> ( <code class="type">integer</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p class="func_signature">
        <code class="function">to_hex</code> ( <code class="type">bigint</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Converts the number to its equivalent hexadecimal representation.
</span>
数を同等の16進数表現に変換します。
       </p>
       <p>
        <code class="literal">to_hex(2147483647)</code>
        → <code class="returnvalue">7fffffff</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.39.1.1.1" class="indexterm"></a>
        <code class="function">translate</code> ( <em class="parameter"><code>string</code></em> <code class="type">text</code>,
        <em class="parameter"><code>from</code></em> <code class="type">text</code>,
        <em class="parameter"><code>to</code></em> <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Replaces each character in &lt;parameter&gt;string&lt;/parameter&gt; that
        matches a character in the &lt;parameter&gt;from&lt;/parameter&gt; set with the
        corresponding character in the &lt;parameter&gt;to&lt;/parameter&gt;
        set. If &lt;parameter&gt;from&lt;/parameter&gt; is longer than
        &lt;parameter&gt;to&lt;/parameter&gt;, occurrences of the extra characters in
        &lt;parameter&gt;from&lt;/parameter&gt; are deleted.
</span>
<em class="parameter"><code>from</code></em>集合内の文字と一致する<em class="parameter"><code>string</code></em>にある全ての文字は、<em class="parameter"><code>to</code></em>集合内のそれに対応する文字に置き換えられます。
もし<em class="parameter"><code>from</code></em>が<em class="parameter"><code>to</code></em>より長い場合、<em class="parameter"><code>from</code></em>で指定される余分な文字に一致するものは削除されます。
       </p>
       <p>
        <code class="literal">translate('12345', '143', 'ax')</code>
        → <code class="returnvalue">a2x5</code>
       </p></td></tr><tr><td class="func_table_entry"><p class="func_signature">
        <a id="id-1.5.8.10.7.2.2.40.1.1.1" class="indexterm"></a>
        <code class="function">unistr</code> ( <code class="type">text</code> )
        → <code class="returnvalue">text</code>
       </p>
       <p>
<span class="original">
        Evaluate escaped Unicode characters in the argument.  Unicode characters
        can be specified as
        &lt;literal&gt;\&lt;replaceable&gt;XXXX&lt;/replaceable&gt;&lt;/literal&gt; (4 hexadecimal
        digits), &lt;literal&gt;\+&lt;replaceable&gt;XXXXXX&lt;/replaceable&gt;&lt;/literal&gt; (6
        hexadecimal digits),
        &lt;literal&gt;\u&lt;replaceable&gt;XXXX&lt;/replaceable&gt;&lt;/literal&gt; (4 hexadecimal
        digits), or &lt;literal&gt;\U&lt;replaceable&gt;XXXXXXXX&lt;/replaceable&gt;&lt;/literal&gt;
        (8 hexadecimal digits).  To specify a backslash, write two
        backslashes.  All other characters are taken literally.
</span>
引数のエスケープされたUnicode文字を評価します。
Unicode文字は、<code class="literal">\<em class="replaceable"><code>XXXX</code></em></code> (16進4桁)、<code class="literal">\+<em class="replaceable"><code>XXXXXX</code></em></code> (16進6桁)、<code class="literal">\u<em class="replaceable"><code>XXXX</code></em></code> (16進4桁)、<code class="literal">\U<em class="replaceable"><code>XXXXXXXX</code></em></code>(16進8桁)で指定できます。
バックスラッシュを指定するには、2つのバックスラッシュを書きます。
それ以外の文字はそのまま扱われます。
       </p>

       <p>
<span class="original">
        If the server encoding is not UTF-8, the Unicode code point identified
        by one of these escape sequences is converted to the actual server
        encoding; an error is reported if that's not possible.
</span>
サーバのエンコーディングがUTF-8でなければ、これらのエスケープシーケンスで指定されるUnicodeコードポイントがサーバの実際のエンコーディングに変換されます。
変換不可能ならばエラーが報告されます。
       </p>

       <p>
<span class="original">
        This function provides a (non-standard) alternative to string
        constants with Unicode escapes (see &lt;xref
        linkend="sql-syntax-strings-uescape"/&gt;).
</span>
この関数はUnicodeエスケープシーケンス（<a class="xref" href="sql-syntax-lexical.html#SQL-SYNTAX-STRINGS-UESCAPE" title="4.1.2.3. Unicodeエスケープがある文字列定数">4.1.2.3</a>参照）に対する（非標準の）代替を提供します。
       </p>

       <p>
        <code class="literal">unistr('d\0061t\+000061')</code>
        → <code class="returnvalue">data</code>
       </p>
       <p>
        <code class="literal">unistr('d\u0061t\U00000061')</code>
        → <code class="returnvalue">data</code>
       </p></td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    The &lt;function&gt;concat&lt;/function&gt;, &lt;function&gt;concat_ws&lt;/function&gt; and
    &lt;function&gt;format&lt;/function&gt; functions are variadic, so it is possible to
    pass the values to be concatenated or formatted as an array marked with
    the &lt;literal&gt;VARIADIC&lt;/literal&gt; keyword (see &lt;xref
    linkend="xfunc-sql-variadic-functions"/&gt;).  The array's elements are
    treated as if they were separate ordinary arguments to the function.
    If the variadic array argument is NULL, &lt;function&gt;concat&lt;/function&gt;
    and &lt;function&gt;concat_ws&lt;/function&gt; return NULL, but
    &lt;function&gt;format&lt;/function&gt; treats a NULL as a zero-element array.
</span>
<code class="function">concat</code>、<code class="function">concat_ws</code>および<code class="function">format</code>関数はVariadicです。従って、キーワード<code class="literal">VARIADIC</code>で標しをつけられた配列のように、値を連結またはフォーマットした形で受け渡すことが可能です（<a class="xref" href="xfunc-sql.html#XFUNC-SQL-VARIADIC-FUNCTIONS" title="38.5.6. 可変長引数を取るSQL関数">38.5.6</a>を参照してください）。
配列の要素は関数に対して分割された通常の引数のように扱われます。
もしvariadic配列引数がNULLであれば、<code class="function">concat</code>および<code class="function">concat_ws</code>はNULLを返しますが、<code class="function">format</code>はNULLを要素を持たない配列と扱います。
   </p><p>
<span class="original">
    See also the aggregate function &lt;function&gt;string_agg&lt;/function&gt; in
    &lt;xref linkend="functions-aggregate"/&gt;, and the functions for
    converting between strings and the &lt;type&gt;bytea&lt;/type&gt; type in
    &lt;xref linkend="functions-binarystring-conversions"/&gt;.
</span>
<a class="xref" href="functions-aggregate.html" title="9.21. 集約関数">9.21</a>内の<code class="function">string_agg</code>集約関数と、文字列と<code class="type">bytea</code>型を変換するための<a class="xref" href="functions-binarystring.html#FUNCTIONS-BINARYSTRING-CONVERSIONS" title="表9.13 テキスト/バイナリ文字列変換関数">表 9.13</a>内の関数も参照してください。
   </p><div class="sect2" id="FUNCTIONS-STRING-FORMAT"><div class="titlepage"><div><div><h3 class="title">9.4.1. <code class="function">format</code></h3></div></div></div><a id="id-1.5.8.10.10.2" class="indexterm"></a><p>
<span class="original">
     The function &lt;function&gt;format&lt;/function&gt; produces output formatted according to
     a format string, in a style similar to the C function
     &lt;function&gt;sprintf&lt;/function&gt;.
</span>
関数<code class="function">format</code>は、C関数の<code class="function">sprintf</code>同様の形式で、フォーマット文字列に従ってフォーマットされた出力を生成します。
    </p><p>
</p><pre class="synopsis">
<code class="function">format</code>(<em class="parameter"><code>formatstr</code></em> <code class="type">text</code> [, <em class="parameter"><code>formatarg</code></em> <code class="type">"any"</code> [, ...] ])
</pre><p>
<span class="original">
     &lt;parameter&gt;formatstr&lt;/parameter&gt; is a format string that specifies how the
     result should be formatted.  Text in the format string is copied
     directly to the result, except where &lt;firstterm&gt;format specifiers&lt;/firstterm&gt; are
     used.  Format specifiers act as placeholders in the string, defining how
     subsequent function arguments should be formatted and inserted into the
     result.  Each &lt;parameter&gt;formatarg&lt;/parameter&gt; argument is converted to text
     according to the usual output rules for its data type, and then formatted
     and inserted into the result string according to the format specifier(s).
</span>
<em class="parameter"><code>formatstr</code></em>は結果がどのようにフォーマットされるかを指定するフォーマット文字列です。
<em class="firstterm">フォーマット指示子</em>が使用されている箇所を除き、フォーマット文字列のテキストは結果に直接コピーされます。
フォーマット指示子は文字列中のプレースホルダとして振舞い、その後に引き続く関数引数がどのようにフォーマットされ、どのように結果に挿入されるかを定義します。
それぞれの<em class="parameter"><code>formatarg</code></em>引数はそのデータ型に対する通常の出力規定に従ってテキストに変換され、その後フォーマット指示子に従って、結果文字列に挿入されます。
    </p><p>
<span class="original">
     Format specifiers are introduced by a &lt;literal&gt;%&lt;/literal&gt; character and have
     the form
</span>
フォーマット指示子は<code class="literal">%</code>文字で始まり、以下の形式をとります。
</p><pre class="synopsis">
%[<em class="parameter"><code>position</code></em>][<em class="parameter"><code>flags</code></em>][<em class="parameter"><code>width</code></em>]<em class="parameter"><code>type</code></em>
</pre><p>
<span class="original">
     where the component fields are:
</span>
ここで要素フィールドとは以下になっています。

     </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>position</code></em> (省略可能)</span></dt><dd><p>
<span class="original">
         A string of the form &lt;literal&gt;&lt;parameter&gt;n&lt;/parameter&gt;$&lt;/literal&gt; where
         &lt;parameter&gt;n&lt;/parameter&gt; is the index of the argument to print.
         Index 1 means the first argument after
         &lt;parameter&gt;formatstr&lt;/parameter&gt;.  If the &lt;parameter&gt;position&lt;/parameter&gt; is
         omitted, the default is to use the next argument in sequence.
</span>
<code class="literal"><em class="parameter"><code>n</code></em>$</code>の形式の文字列で、<em class="parameter"><code>n</code></em>は出力する引数のインデックスです。
インデックス１は<em class="parameter"><code>formatstr</code></em>の後の最初の引数です。
<em class="parameter"><code>position</code></em>が省略されると、一連の中の次の引数がデフォルトとして使用されます。
        </p></dd><dt><span class="term"><em class="parameter"><code>flags</code></em> (省略可能)</span></dt><dd><p>
<span class="original">
         Additional options controlling how the format specifier's output is
         formatted.  Currently the only supported flag is a minus sign
         (&lt;literal&gt;-&lt;/literal&gt;) which will cause the format specifier's output to be
         left-justified.  This has no effect unless the &lt;parameter&gt;width&lt;/parameter&gt;
         field is also specified.
</span>
フォーマット指示子の出力がどのようにフォーマットされるかを制御する追加の任意の要素です。
現在、サポートされているflagはマイナス記号(<code class="literal">-</code>)のみで、フォーマット指示子の出力が左詰めになるようにします。
これは<em class="parameter"><code>width</code></em>フィールドが同時に指定されていない場合は効果がありません。
        </p></dd><dt><span class="term"><em class="parameter"><code>width</code></em> (省略可能)</span></dt><dd><p>
<span class="original">
         Specifies the &lt;emphasis&gt;minimum&lt;/emphasis&gt; number of characters to use to
         display the format specifier's output.  The output is padded on the
         left or right (depending on the &lt;literal&gt;-&lt;/literal&gt; flag) with spaces as
         needed to fill the width.  A too-small width does not cause
         truncation of the output, but is simply ignored.  The width may be
         specified using any of the following: a positive integer; an
         asterisk (&lt;literal&gt;*&lt;/literal&gt;) to use the next function argument as the
         width; or a string of the form &lt;literal&gt;*&lt;parameter&gt;n&lt;/parameter&gt;$&lt;/literal&gt; to
         use the &lt;parameter&gt;n&lt;/parameter&gt;th function argument as the width.
</span>
フォーマット指示子の出力を表示する<span class="emphasis"><em>最小</em></span>文字数を指定します。
出力は、幅を満たすのに必要な空白が左または右（flagの<code class="literal">-</code>による）に埋め込まれます。
幅が小さすぎても出力が切り詰められることはなく、単に無視されます。
幅は次のいずれかでも指定できます。それらは、正の整数、幅としての次の関数引数として使用する星印 (<code class="literal">*</code>)、または<em class="parameter"><code>n</code></em>番目の関数引数を幅として使用する<code class="literal">*<em class="parameter"><code>n</code></em>$</code>という形式の文字列です。
        </p><p>
<span class="original">
         If the width comes from a function argument, that argument is
         consumed before the argument that is used for the format specifier's
         value.  If the width argument is negative, the result is left
         aligned (as if the &lt;literal&gt;-&lt;/literal&gt; flag had been specified) within a
         field of length &lt;function&gt;abs&lt;/function&gt;(&lt;parameter&gt;width&lt;/parameter&gt;).
</span>
幅を関数引数から取得する場合、その引数はフォーマット指示子の値に使用される引数より先に消費されます。
幅の引数が負の場合、フィールド長<code class="function">abs</code>(<em class="parameter"><code>width</code></em>)の範囲内で結果は（あたかもflagで<code class="literal">-</code>が指定されたように）左詰めになります。
        </p></dd><dt><span class="term"><em class="parameter"><code>type</code></em> (必須)</span></dt><dd><p>
<span class="original">
         The type of format conversion to use to produce the format
         specifier's output.  The following types are supported:
</span>
フォーマット指示子の出力を生成するのに使用されるフォーマット変換の型。
以下の型がサポートされています。
         </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="original">
            &lt;literal&gt;s&lt;/literal&gt; formats the argument value as a simple
            string.  A null value is treated as an empty string.
</span>
<code class="literal">s</code>は引数の値を単純文字列にフォーマットします。
NULL値は空文字列として扱われます。
           </p></li><li class="listitem"><p>
<span class="original">
            &lt;literal&gt;I&lt;/literal&gt; treats the argument value as an SQL
            identifier, double-quoting it if necessary.
            It is an error for the value to be null (equivalent to
            &lt;function&gt;quote_ident&lt;/function&gt;).
</span>
<code class="literal">I</code>は、引数をSQLの識別子として取り扱い、必要ならそれを二重引用符で括ります。
NULL値はエラーです（<code class="function">quote_ident</code>と同等です）。
           </p></li><li class="listitem"><p>
<span class="original">
            &lt;literal&gt;L&lt;/literal&gt; quotes the argument value as an SQL literal.
            A null value is displayed as the string &lt;literal&gt;NULL&lt;/literal&gt;, without
            quotes (equivalent to &lt;function&gt;quote_nullable&lt;/function&gt;).
</span>
<code class="literal">L</code>は引数値をSQLリテラルとして引用符が付けられます。
NULL値は引用符無しの文字列<code class="literal">NULL</code>となります（<code class="function">quote_nullable</code>と同等です）。
           </p></li></ul></div><p>
        </p></dd></dl></div><p>
    </p><p>
<span class="original">
     In addition to the format specifiers described above, the special sequence
     &lt;literal&gt;%%&lt;/literal&gt; may be used to output a literal &lt;literal&gt;%&lt;/literal&gt; character.
</span>
上記で説明したフォーマット指示子に加え、特別の並びの<code class="literal">%%</code>がリテラル<code class="literal">%</code>文字を出力するために使用することもできます。
    </p><p>
<span class="original">
     Here are some examples of the basic format conversions:
</span>
基本的なフォーマット変換の例を幾つか下記に紹介します。

</p><pre class="screen">
SELECT format('Hello %s', 'World');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">Hello World</code>

SELECT format('Testing %s, %s, %s, %%', 'one', 'two', 'three');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">Testing one, two, three, %</code>

SELECT format('INSERT INTO %I VALUES(%L)', 'Foo bar', E'O\'Reilly');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">INSERT INTO "Foo bar" VALUES('O''Reilly')</code>

SELECT format('INSERT INTO %I VALUES(%L)', 'locations', 'C:\Program Files');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">INSERT INTO locations VALUES('C:\Program Files')</code>
</pre><p>
    </p><p>
<span class="original">
     Here are examples using &lt;parameter&gt;width&lt;/parameter&gt; fields
     and the &lt;literal&gt;-&lt;/literal&gt; flag:
</span>
<em class="parameter"><code>width</code></em>フィールドとflagの<code class="literal">-</code>を使用した例を以下に示します。

</p><pre class="screen">
SELECT format('|%10s|', 'foo');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">|       foo|</code>

SELECT format('|%-10s|', 'foo');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">|foo       |</code>

SELECT format('|%*s|', 10, 'foo');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">|       foo|</code>

SELECT format('|%*s|', -10, 'foo');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">|foo       |</code>

SELECT format('|%-*s|', 10, 'foo');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">|foo       |</code>

SELECT format('|%-*s|', -10, 'foo');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">|foo       |</code>
</pre><p>
    </p><p>
<span class="original">
     These examples show use of &lt;parameter&gt;position&lt;/parameter&gt; fields:
</span>
以下の例は<em class="parameter"><code>position</code></em>フィールドの使い方を示しています。

</p><pre class="screen">
SELECT format('Testing %3$s, %2$s, %1$s', 'one', 'two', 'three');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">Testing three, two, one</code>

SELECT format('|%*2$s|', 'foo', 10, 'bar');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">|       bar|</code>

SELECT format('|%1$*2$s|', 'foo', 10, 'bar');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">|       foo|</code>
</pre><p>
    </p><p>
<span class="original">
     Unlike the standard C function &lt;function&gt;sprintf&lt;/function&gt;,
     &lt;productname&gt;PostgreSQL&lt;/productname&gt;'s &lt;function&gt;format&lt;/function&gt; function allows format
     specifiers with and without &lt;parameter&gt;position&lt;/parameter&gt; fields to be mixed
     in the same format string.  A format specifier without a
     &lt;parameter&gt;position&lt;/parameter&gt; field always uses the next argument after the
     last argument consumed.
     In addition, the &lt;function&gt;format&lt;/function&gt; function does not require all
     function arguments to be used in the format string.
     For example:
</span>
標準C関数<code class="function">sprintf</code>とは違って、<span class="productname">PostgreSQL</span>の<code class="function">format</code>関数は、同一のフォーマット文字列の中で<em class="parameter"><code>position</code></em>フィールドがあるフォーマット指示子と、それがないフォーマット指示子の混在を許容します。
<em class="parameter"><code>position</code></em>フィールドが無いフォーマット指示子は常に最終の引数が消費された後に次の引数を使用します。
さらに、<code class="function">format</code>関数はフォーマット文字列で使用されるべき全ての関数引数を要求しません。
例を示します。

</p><pre class="screen">
SELECT format('Testing %3$s, %2$s, %s', 'one', 'two', 'three');
<em class="lineannotation"><span class="lineannotation">Result: </span></em><code class="computeroutput">Testing three, two, three</code>
</pre><p>
    </p><p>
<span class="original">
     The &lt;literal&gt;%I&lt;/literal&gt; and &lt;literal&gt;%L&lt;/literal&gt; format specifiers are particularly
     useful for safely constructing dynamic SQL statements.  See
     &lt;xref linkend="plpgsql-quote-literal-example"/&gt;.
</span>
<code class="literal">%I</code> および <code class="literal">%L</code>のフォーマット指示子は特に動的SQL命令を安全に構築する場合に便利です。
<a class="xref" href="plpgsql-statements.html#PLPGSQL-QUOTE-LITERAL-EXAMPLE" title="例43.1 動的問い合わせの中の値の引用符付け">例 43.1</a>を参照してください。
    </p></div></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter"><hr></hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="functions-math.html" title="9.3. 算術関数と演算子">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="functions.html" title="第9章 関数と演算子">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="functions-binarystring.html" title="9.5. バイナリ文字列関数と演算子">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">9.3. 算術関数と演算子 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 14.0文書">ホーム</a></td><td width="40%" align="right" valign="top"> 9.5. バイナリ文字列関数と演算子</td></tr></table></div></body></html>