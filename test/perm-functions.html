<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>22.6. 関数のセキュリティ</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="predefined-roles.html" title="22.5. 定義済みロール" /><link rel="next" href="managing-databases.html" title="第23章 データベース管理" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 15.0文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="user-manag.html" title="第22章 データベースロール">第22章 データベースロール</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?template=bug_report.yml&amp;what-happened=version 15.0 : perm-functions.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="predefined-roles.html" title="22.5. 定義済みロール">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="user-manag.html" title="第22章 データベースロール">上へ</a></td><td width="60%" align="center">22.6. 関数のセキュリティ</td><td width="20%" align="right"> <a accesskey="n" href="managing-databases.html" title="第23章 データベース管理">次へ</a></td></tr></table><div class="other_version"><a href="https://www.postgresql.jp/document/">他のバージョンの文書</a></div><hr /></div><div class="sect1" id="PERM-FUNCTIONS"><div class="titlepage"><div><div><h2 class="title" style="clear: both">22.6. 関数のセキュリティ</h2></div></div></div><span class="original">
  &lt;title&gt;Function Security&lt;/title&gt;
</span><p>
<span class="original">
   Functions, triggers and row-level security policies allow users to insert
   code into the backend server that other users might execute
   unintentionally. Hence, these mechanisms permit users to &lt;quote&gt;Trojan
   horse&lt;/quote&gt; others with relative ease. The strongest protection is tight
   control over who can define objects. Where that is infeasible, write
   queries referring only to objects having trusted owners.  Remove
   from &lt;varname&gt;search_path&lt;/varname&gt; any schemas that permit untrusted users
   to create objects.
</span>
《マッチ度[89.546351]》関数やトリガや行セキュリティポリシーによって、ユーザは他のユーザが意識しないで実行できるようなコードを、バックエンドサーバに挿入することができます。
したがって、これらの機能によってユーザは比較的簡単に他のユーザにとって<span class="quote">「<span class="quote">トロイの木馬</span>」</span>となるものを実行することができます。
最も強力な保護は、誰がオブジェクトを定義できるかを厳格に管理することです。
それが実行不可能な場合は、信頼できる所有者を持つオブジェクトのみを参照するクエリを記述します。
<code class="varname">search_path</code>から、パブリックスキーマや信頼できないユーザがオブジェクトを作成できるスキーマを削除します。
  </p><p>
<span class="original">
   Functions run inside the backend
   server process with the operating system permissions of the
   database server daemon.  If the programming language
   used for the function allows unchecked memory accesses, it is
   possible to change the server's internal data structures.
   Hence, among many other things, such functions can circumvent any
   system access controls.  Function languages that allow such access
   are considered &lt;quote&gt;untrusted&lt;/quote&gt;, and
   &lt;productname&gt;PostgreSQL&lt;/productname&gt; allows only superusers to
   create functions written in those languages.
</span>
関数は、データベースサーバデーモンのオペレーティングシステム権限で、バックエンドサーバプロセスの中で実行されます。
プログラミング言語で関数に未検査のメモリアクセスを許可している場合、サーバの内部データ構造を変更することが可能です。
したがって、その他の多数のことの中でも、そのような関数はどのようなシステムアクセスコントロールも回避することができます。
このようなアクセスを許可する関数言語は<span class="quote">「<span class="quote">信頼されない</span>」</span>ものとみなされ、<span class="productname">PostgreSQL</span>はこれらの言語による関数の作成をスーパーユーザのみに限定して許可しています。
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="predefined-roles.html" title="22.5. 定義済みロール">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="user-manag.html" title="第22章 データベースロール">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="managing-databases.html" title="第23章 データベース管理">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">22.5. 定義済みロール </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 15.0文書">ホーム</a></td><td width="40%" align="right" valign="top"> 第23章 データベース管理</td></tr></table></div></body></html>