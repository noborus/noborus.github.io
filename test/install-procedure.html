<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>17.4. インストール手順</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="install-getsource.html" title="17.3. ソースの入手" /><link rel="next" href="install-post.html" title="17.5. インストール後の設定作業" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="other_version"><a href="https://www.postgresql.jp/document/">バージョンごとのドキュメント一覧</a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 15.0文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="installation.html" title="第17章 ソースコードからインストール">第17章 ソースコードからインストール</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?template=bug_report.yml&amp;what-happened=version 15.0 : install-procedure.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="install-getsource.html" title="17.3. ソースの入手">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="installation.html" title="第17章 ソースコードからインストール">上へ</a></td><td width="60%" align="center">17.4. インストール手順</td><td width="20%" align="right"> <a accesskey="n" href="install-post.html" title="17.5. インストール後の設定作業">次へ</a></td></tr></table><hr /></div><div class="sect1" id="INSTALL-PROCEDURE"><div class="titlepage"><div><div><h2 class="title" style="clear: both">17.4. インストール手順</h2></div></div></div><span class="original">
  &lt;title&gt;Installation Procedure&lt;/title&gt;
</span><div class="procedure"><ol class="procedure" type="1"><li class="step" id="CONFIGURE"><span class="original">
   &lt;title&gt;Configuration&lt;/title&gt;
</span><p class="title"><strong>構成</strong></p><a id="id-1.6.4.9.2.1.2" class="indexterm"></a><p>
<span class="original">
    The first step of the installation procedure is to configure the
    source tree for your system and choose the options you would like.
    This is done by running the &lt;filename&gt;configure&lt;/filename&gt; script. For a
    default installation simply enter:
</span>
インストール手順の最初のステップは、システムに合わせてソースツリーを設定し、使用するオプションを選択することです。
<code class="filename">configure</code>スクリプトを実行することでこれを行います。
デフォルトのインストールを行う場合は、単に以下を入力してください。
</p><pre class="screen">
<strong class="userinput"><code>./configure</code></strong>
</pre><p>
<span class="original">
    This script will run a number of tests to determine values for various
    system dependent variables and detect any quirks of your
    operating system, and finally will create several files in the
    build tree to record what it found.
</span>
このスクリプトは、各種のシステムに依存した変数の値を決定するために多くの試験を行い、使用中のオペレーティングシステムが持つどんなクセでも検出し、最終的に構築用ツリーに結果を記録するためのファイルをいくつか作成します。
   </p><p>
<span class="original">
    You can also run &lt;filename&gt;configure&lt;/filename&gt; in a directory outside
    the source tree, and then build there, if you want to keep the build
    directory separate from the original source files.  This procedure is
    called a
    &lt;indexterm&gt;&lt;primary&gt;VPATH&lt;/primary&gt;&lt;/indexterm&gt;&lt;firstterm&gt;VPATH&lt;/firstterm&gt;
    build.  Here's how:
</span>
構築用のディレクトリを別の場所にしたい場合は、ソースツリーの外のディレクトリで<code class="filename">configure</code>を実行することもできます。
この処理は<a id="id-1.6.4.9.2.1.4.2" class="indexterm"></a><em class="firstterm">VPATH</em>構築と呼ばれます。
どのように行うかは下記を参照して下さい。
</p><pre class="screen">
<strong class="userinput"><code>mkdir build_dir</code></strong>
<strong class="userinput"><code>cd build_dir</code></strong>
<span class="original">
&lt;userinput&gt;/path/to/source/tree/configure [options go here]&lt;/userinput&gt;
</span>
<strong class="userinput"><code>/path/to/source/tree/configure [オプションはここに]</code></strong>
<strong class="userinput"><code>make</code></strong>
</pre><p>
   </p><p>
<span class="original">
    The default configuration will build the server and utilities, as
    well as all client applications and interfaces that require only a
    C compiler. All files will be installed under
    &lt;filename&gt;/usr/local/pgsql&lt;/filename&gt; by default.
</span>
デフォルトの構成では、サーバ、ユーティリティの他に、Cコンパイラだけを必要とするクライアントアプリケーションやインタフェースを構築します。
デフォルトでは、全てのファイルは<code class="filename">/usr/local/pgsql</code>以下にインストールされます。
   </p><p>
<span class="original">
    You can customize the build and installation process by supplying one
    or more command line options to &lt;filename&gt;configure&lt;/filename&gt;.
    Typically you would customize the install location, or the set of
    optional features that are built.  &lt;filename&gt;configure&lt;/filename&gt;
    has a large number of options, which are described in
    &lt;xref linkend="configure-options"/&gt;.
</span>
<code class="filename">configure</code>にコマンドラインオプションを1つ以上指定することで、構築処理やインストール処理を変更することができます。
よくあるのは、インストールの位置や構築するオプションの機能の設定を変更することでしょう。
<code class="filename">configure</code>には数多くのオプションがあり、それは<a class="xref" href="install-procedure.html#CONFIGURE-OPTIONS" title="17.4.1. configureオプション">17.4.1</a>に書かれています。
   </p><p>
<span class="original">
    Also, &lt;filename&gt;configure&lt;/filename&gt; responds to certain environment
    variables, as described in &lt;xref linkend="configure-envvars"/&gt;.
    These provide additional ways to customize the configuration.
</span>
また、<code class="filename">configure</code>は、<a class="xref" href="install-procedure.html#CONFIGURE-ENVVARS" title="17.4.2. configure環境変数">17.4.2</a>に書かれているように特定の環境変数に対応しています。
これは設定を変更する追加の方法を提供します。
   </p></li><li class="step" id="BUILD"><span class="original">
   &lt;title&gt;Build&lt;/title&gt;
</span><p class="title"><strong>構築</strong></p><p>
<span class="original">
    To start the build, type either of:
</span>
構築作業を開始するには、以下のいずれかを入力してください。
</p><pre class="screen">
<strong class="userinput"><code>make</code></strong>
<strong class="userinput"><code>make all</code></strong>
</pre><p>
<span class="original">
    (Remember to use &lt;acronym&gt;GNU&lt;/acronym&gt; &lt;application&gt;make&lt;/application&gt;.)
    The build will take a few minutes depending on your
    hardware.
</span>
（<acronym class="acronym">GNU</acronym> <span class="application">make</span>を使用することを忘れないでください。）
ハードウェアに依存しますが、構築作業には数分かかります。
   </p><p>
<span class="original">
   If you want to build everything that can be built, including the
   documentation (HTML and man pages), and the additional modules
   (&lt;filename&gt;contrib&lt;/filename&gt;), type instead:
</span>
もし、ドキュメント(HTMLやman)や追加モジュール(<code class="filename">contrib</code>)を含め、構築可能なものすべてを構築したい場合、次のように入力します。
</p><pre class="screen">
<strong class="userinput"><code>make world</code></strong>
</pre><p>
  </p><p>
<span class="original">
   If you want to build everything that can be built, including the
   additional modules (&lt;filename&gt;contrib&lt;/filename&gt;), but without
   the documentation, type instead:
</span>
もし、追加モジュール(<code class="filename">contrib</code>)は含めるがドキュメントは含めずに、構築可能なものすべてを構築したい場合、次のように入力します。
</p><pre class="screen">
<strong class="userinput"><code>make world-bin</code></strong>
</pre><p>
   </p><p>
<span class="original">
    If you want to invoke the build from another makefile rather than
    manually, you must unset &lt;varname&gt;MAKELEVEL&lt;/varname&gt; or set it to zero,
    for instance like this:
</span>
手動で指定するのではなく、別のMakefileから構築をしたい場合には、例えば以下のように<code class="varname">MAKELEVEL</code>を削除するか、0に設定しなければなりません。
</p><pre class="programlisting">
build-postgresql:
        $(MAKE) -C postgresql MAKELEVEL=0 all
</pre><p>
<span class="original">
    Failure to do that can lead to strange error messages, typically about
    missing header files.
</span>
上記に失敗すると、通常はヘッダファイルが見つからないという奇妙なエラーメッセージが出る場合があります。
   </p></li><li class="step"><span class="original">
   &lt;title&gt;Regression Tests&lt;/title&gt;
</span><p class="title"><strong>リグレッションテスト</strong></p><a id="id-1.6.4.9.2.3.2" class="indexterm"></a><a id="id-1.6.4.9.2.3.3" class="indexterm"></a><p>
<span class="original">
    If you want to test the newly built server before you install it,
    you can run the regression tests at this point. The regression
    tests are a test suite to verify that &lt;productname&gt;PostgreSQL&lt;/productname&gt;
    runs on your machine in the way the developers expected it
    to. Type:
</span>
インストールを行う前に、新しく構築したサーバをテストしたい場合、この時点でリグレッションテストを実行できます。
リグレッションテストとは、使用するマシンにおいて<span class="productname">PostgreSQL</span>が、開発者の想定通りに動作することを検証するためのテストのまとまりです。
次のように入力します。
</p><pre class="screen">
<strong class="userinput"><code>make check</code></strong>
</pre><p>
<span class="original">
    (This won't work as root; do it as an unprivileged user.)
    See &lt;xref linkend="regress"/&gt; for
    detailed information about interpreting the test results. You can
    repeat this test at any later time by issuing the same command.
</span>
（これは root では動作しません。
非特権ユーザとして実行してください。）
<a class="xref" href="regress.html" title="第33章 リグレッションテスト">第33章</a>にはテスト結果の解釈に関する詳しい情報があります。
同じコマンドを入力することで、後にいつでもテストを繰り返すことができます。
   </p></li><li class="step" id="INSTALL"><span class="original">
   &lt;title&gt;Installing the Files&lt;/title&gt;
</span><p class="title"><strong>ファイルのインストール</strong></p><div class="note"><h3 class="title">注記</h3><p>
<span class="original">
     If you are upgrading an existing system be sure to read
     &lt;xref linkend="upgrading"/&gt;,
     which has instructions about upgrading a
     cluster.
</span>
もし既存のシステムのアップグレードをする場合、DBクラスタのアップグレードの解説が記載されている<a class="xref" href="upgrading.html" title="19.6. PostgreSQLクラスタのアップグレード処理">19.6</a>を参照してください。
    </p></div><p>
<span class="original">
    To install &lt;productname&gt;PostgreSQL&lt;/productname&gt; enter:
</span>
<span class="productname">PostgreSQL</span>をインストールするには、以下を入力してください。
</p><pre class="screen">
<strong class="userinput"><code>make install</code></strong>
</pre><p>
<span class="original">
    This will install files into the directories that were specified
    in &lt;xref linkend="configure"/&gt;. Make sure that you have appropriate
    permissions to write into that area. Normally you need to do this
    step as root. Alternatively, you can create the target
    directories in advance and arrange for appropriate permissions to
    be granted.
</span>
これは、ファイルを<a class="xref" href="install-procedure.html#CONFIGURE" title="構成">ステップ 1</a>で指定されたディレクトリにインストールします。
その領域に書き込むための権限を持っていることを確認してください。
通常はこのステップはrootで行う必要があります。
代わりに対象とするディレクトリを前もって作成し、適切に権限を調整することも可能です。
   </p><p>
<span class="original">
    To install the documentation (HTML and man pages), enter:
</span>
ドキュメント(HTMLやman)をインストールするには、以下を入力して下さい。
</p><pre class="screen">
<strong class="userinput"><code>make install-docs</code></strong>
</pre><p>
   </p><p>
<span class="original">
    If you built the world above, type instead:
</span>
上記のようにすべてを(worldを付けて)構築していた場合には、代わりに以下を入力してください。
</p><pre class="screen">
<strong class="userinput"><code>make install-world</code></strong>
</pre><p>
<span class="original">
    This also installs the documentation.
</span>
これによりドキュメントもインストールされます。
   </p><p>
<span class="original">
    If you built the world without the documentation above, type instead:
</span>
上記のようにドキュメントを除くすべてを構築していた場合には、代わりに以下を入力してください。
</p><pre class="screen">
<strong class="userinput"><code>make install-world-bin</code></strong>
</pre><p>
   </p><p>
<span class="original">
    You can use &lt;literal&gt;make install-strip&lt;/literal&gt; instead of
    &lt;literal&gt;make install&lt;/literal&gt; to strip the executable files and
    libraries as they are installed.  This will save some space.  If
    you built with debugging support, stripping will effectively
    remove the debugging support, so it should only be done if
    debugging is no longer needed.  &lt;literal&gt;install-strip&lt;/literal&gt;
    tries to do a reasonable job saving space, but it does not have
    perfect knowledge of how to strip every unneeded byte from an
    executable file, so if you want to save all the disk space you
    possibly can, you will have to do manual work.
</span>
<code class="literal">make install</code>の代わりに<code class="literal">make install-strip</code>を使用することで、インストール時に実行可能ファイルやライブラリをストリップ（strip）することができます。
これにより、多少の容量を節約できます。
デバッグをサポートするように構築している場合でも、ストリップするとデバッグのサポートは実質、除去されてしまいます。
したがって、これはデバッグが必要なくなった場合にのみ実行すべきです。
<code class="literal">install-strip</code>は容量を節約するために適切な作業を行おうとしますが、実行可能ファイルから全ての不必要なバイトを完全にストリップすることはできません。
可能な限りのディスク容量をすべて節約したい場合は、手動で作業を行う必要があります。
   </p><p>
<span class="original">
    The standard installation provides all the header files needed for client
    application development as well as for server-side program
    development, such as custom functions or data types written in C.
</span>
この標準的なインストール方法では、クライアントアプリケーションの開発に必要なヘッダファイルと、Cで独自の関数やデータ型を作成するといったサーバ側のプログラムの開発用のヘッダファイルが用意されます。
   </p><p><span class="original">
    &lt;title&gt;Client-only installation:&lt;/title&gt;
</span><strong>クライアント側のみのインストール: </strong>
<span class="original">
     If you want to install only the client applications and
     interface libraries, then you can use these commands:
</span>
クライアントアプリケーションとインタフェースライブラリのみをインストールしたい場合、下記のコマンドを使います。
</p><pre class="screen">
<strong class="userinput"><code>make -C src/bin install</code></strong>
<strong class="userinput"><code>make -C src/include install</code></strong>
<strong class="userinput"><code>make -C src/interfaces install</code></strong>
<strong class="userinput"><code>make -C doc install</code></strong>
</pre><p>
<span class="original">
    &lt;filename&gt;src/bin&lt;/filename&gt; has a few binaries for server-only use,
    but they are small.
</span>
<code class="filename">src/bin</code>にはサーバ用の数個のバイナリがあります。これらは小さなものです。
    </p></li></ol></div><p><span class="original">
   &lt;title&gt;Uninstallation:&lt;/title&gt;
</span><strong>アンインストール: </strong>
<span class="original">
    To undo the installation use the command &lt;command&gt;make
    uninstall&lt;/command&gt;. However, this will not remove any created directories.
</span>
インストールを取り消すには、<code class="command">make uninstall</code> コマンドを使います。
しかし、作成済みのディレクトリは削除されません。
   </p><p><span class="original">
   &lt;title&gt;Cleaning:&lt;/title&gt;
</span><strong>クリーニング: </strong>
<span class="original">
    After the installation you can free disk space by removing the built
    files from the source tree with the command &lt;command&gt;make
    clean&lt;/command&gt;. This will preserve the files made by the &lt;command&gt;configure&lt;/command&gt;
    program, so that you can rebuild everything with &lt;command&gt;make&lt;/command&gt;
    later on. To reset the source tree to the state in which it was
    distributed, use &lt;command&gt;make distclean&lt;/command&gt;. If you are going to
    build for several platforms within the same source tree you must do
    this and re-configure for each platform.  (Alternatively, use
    a separate build tree for each platform, so that the source tree
    remains unmodified.)
</span>
インストールが終わったら、<code class="command">make clean</code> コマンドを使ってソースツリーから構築用のファイルを削除し、ディスク領域を解放できます。
<code class="command">configure</code>プログラムが作るファイルは保持されますので、後で<code class="command">make</code>コマンドですべてを再構築できます。
ソースツリーを配布された時の状態に戻したい場合は、<code class="command">make distclean</code>コマンドを使います。
同じソースツリー内で複数のプラットフォーム向けに構築する場合、これを実行して、それぞれのプラットフォームに対し再構成しなければなりません。
（または、未変更のソースツリーを維持するために、各プラットフォームで別々の構築用ツリーを使用してください。）
   </p><p>
<span class="original">
   If you perform a build and then discover that your &lt;command&gt;configure&lt;/command&gt;
   options were wrong, or if you change anything that &lt;command&gt;configure&lt;/command&gt;
   investigates (for example, software upgrades), then it's a good
   idea to do &lt;command&gt;make distclean&lt;/command&gt; before reconfiguring and
   rebuilding.  Without this, your changes in configuration choices
   might not propagate everywhere they need to.
</span>
構築作業を行った後で<code class="command">configure</code>用オプションが間違っていることに気付いた場合や、<code class="command">configure</code>の調査結果に何らかの変更を加えた場合（例えば、ソフトウェアのアップグレードなど）、再設定と再構築の前に<code class="command">make distclean</code>を行うことをお勧めします。
さもないと、設定選択肢の変更は、必要なところ全てには反映されない可能性があります。
  </p><div class="sect2" id="CONFIGURE-OPTIONS"><div class="titlepage"><div><div><h3 class="title">17.4.1. <code class="filename">configure</code>オプション</h3></div></div></div><span class="original">
   &lt;title&gt;&lt;filename&gt;configure&lt;/filename&gt; Options&lt;/title&gt;
</span><a id="id-1.6.4.9.6.2" class="indexterm"></a><a id="id-1.6.4.9.6.3" class="indexterm"></a><p>
<span class="original">
    &lt;command&gt;configure&lt;/command&gt;'s command line options are explained below.
    This list is not exhaustive (use &lt;literal&gt;./configure &amp;#45;-help&lt;/literal&gt;
    to get one that is).  The options not covered here are meant for
    advanced use-cases such as cross-compilation, and are documented in
    the standard Autoconf documentation.
</span>
<code class="command">configure</code>のコマンドラインオプションを以下で説明します。
この一覧は完全なものではありません(完全なものを得るには<code class="literal">./configure --help</code>を使ってください)。
ここで取り上げていないオプションは黒須コンパイルのような高度なユースケースのためのもので、標準のAutoconfのドキュメントに書かれています。
   </p><div class="sect3" id="CONFIGURE-OPTIONS-LOCATIONS"><div class="titlepage"><div><div><h4 class="title">17.4.1.1. インストレーションの位置</h4></div></div></div><span class="original">
    &lt;title&gt;Installation Locations&lt;/title&gt;
</span><p>
<span class="original">
      These options control where &lt;literal&gt;make install&lt;/literal&gt; will put
      the files.  The &lt;option&gt;&amp;#45;-prefix&lt;/option&gt; option is sufficient for
      most cases.  If you have special needs, you can customize the
      installation subdirectories with the other options described in this
      section.  Beware however that changing the relative locations of the
      different subdirectories may render the installation non-relocatable,
      meaning you won't be able to move it after installation.
      (The &lt;literal&gt;man&lt;/literal&gt; and &lt;literal&gt;doc&lt;/literal&gt; locations are
      not affected by this restriction.)  For relocatable installs, you
      might want to use the &lt;literal&gt;&amp;#45;-disable-rpath&lt;/literal&gt; option
      described later.
</span>
このオプションは<code class="literal">make install</code>がファイルをどこに置くかを制御します。
たいていの場合<code class="option">--prefix</code>オプションで十分です。
特別な必要性があるのであれば、この節に書かれた他のオプションを使用して個々のインストレーションサブディレクトリを変更できます。
しかし、異なるサブディレクトリの相対的な位置を変更した場合、インストレーションは再配置不能になります。つまり、インストールの後にディレクトリを移動できないことに注意してください。
（<code class="literal">man</code>と<code class="literal">doc</code>の場所はこの制限の影響を受けません。）
再配置可能インストールのために、後述の<code class="literal">--disable-rpath</code>を使用しようと考えるかもしれません。
     </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--prefix=<em class="replaceable"><code>PREFIX</code></em></code></span></dt><dd><p>
<span class="original">
         Install all files under the directory &lt;replaceable&gt;PREFIX&lt;/replaceable&gt;
         instead of &lt;filename&gt;/usr/local/pgsql&lt;/filename&gt;. The actual
         files will be installed into various subdirectories; no files
         will ever be installed directly into the
         &lt;replaceable&gt;PREFIX&lt;/replaceable&gt; directory.
</span>
<code class="filename">/usr/local/pgsql</code>ではなく、<em class="replaceable"><code>PREFIX</code></em>ディレクトリ以下に全てのファイルをインストールします。
ファイルは実際には様々なサブディレクトリにインストールされ、<em class="replaceable"><code>PREFIX</code></em>ディレクトリの直下にインストールされるファイルはありません。
        </p></dd><dt><span class="term"><code class="option">--exec-prefix=<em class="replaceable"><code>EXEC-PREFIX</code></em></code></span></dt><dd><p>
<span class="original">
         You can install architecture-dependent files under a
         different prefix, &lt;replaceable&gt;EXEC-PREFIX&lt;/replaceable&gt;, than what
         &lt;replaceable&gt;PREFIX&lt;/replaceable&gt; was set to. This can be useful to
         share architecture-independent files between hosts. If you
         omit this, then &lt;replaceable&gt;EXEC-PREFIX&lt;/replaceable&gt; is set equal to
         &lt;replaceable&gt;PREFIX&lt;/replaceable&gt; and both architecture-dependent and
         independent files will be installed under the same tree,
         which is probably what you want.
</span>
アーキテクチャ依存のファイルを<em class="replaceable"><code>PREFIX</code></em>の設定とは別の接頭辞<em class="replaceable"><code>EXEC-PREFIX</code></em>以下にインストールすることができます。
ホスト間でアーキテクチャ非依存のファイルを共有する場合に便利です。
省略した場合、<em class="replaceable"><code>EXEC-PREFIX</code></em>は<em class="replaceable"><code>PREFIX</code></em>と同じに設定され、アーキテクチャに依存するファイルも非依存なファイルも同じツリー以下にインストールされます。
ほとんどの場合、これが望まれています。
        </p></dd><dt><span class="term"><code class="option">--bindir=<em class="replaceable"><code>DIRECTORY</code></em></code></span></dt><dd><p>
<span class="original">
         Specifies the directory for executable programs. The default
         is &lt;filename&gt;&lt;replaceable&gt;EXEC-PREFIX&lt;/replaceable&gt;/bin&lt;/filename&gt;, which
         normally means &lt;filename&gt;/usr/local/pgsql/bin&lt;/filename&gt;.
</span>
実行可能プログラム用のディレクトリを指定します。
デフォルトでは<code class="filename"><em class="replaceable"><code>EXEC-PREFIX</code></em>/bin</code>であり、通常<code class="filename">/usr/local/pgsql/bin</code>となります。
        </p></dd><dt><span class="term"><code class="option">--sysconfdir=<em class="replaceable"><code>DIRECTORY</code></em></code></span></dt><dd><p>
<span class="original">
         Sets the directory for various configuration files,
         &lt;filename&gt;&lt;replaceable&gt;PREFIX&lt;/replaceable&gt;/etc&lt;/filename&gt; by default.
</span>
各種設定ファイル用のディレクトリを設定します。
デフォルトでは<code class="filename"><em class="replaceable"><code>PREFIX</code></em>/etc</code>です。
        </p></dd><dt><span class="term"><code class="option">--libdir=<em class="replaceable"><code>DIRECTORY</code></em></code></span></dt><dd><p>
<span class="original">
         Sets the location to install libraries and dynamically loadable
         modules. The default is
         &lt;filename&gt;&lt;replaceable&gt;EXEC-PREFIX&lt;/replaceable&gt;/lib&lt;/filename&gt;.
</span>
ライブラリや動的ロード可能モジュールをインストールする場所を設定します。
デフォルトは<code class="filename"><em class="replaceable"><code>EXEC-PREFIX</code></em>/lib</code>です。
        </p></dd><dt><span class="term"><code class="option">--includedir=<em class="replaceable"><code>DIRECTORY</code></em></code></span></dt><dd><p>
<span class="original">
         Sets the directory for installing C and C++ header files. The
         default is &lt;filename&gt;&lt;replaceable&gt;PREFIX&lt;/replaceable&gt;/include&lt;/filename&gt;.
</span>
CおよびC++のヘッダファイルをインストールするディレクトリを設定します。
デフォルトは<code class="filename"><em class="replaceable"><code>PREFIX</code></em>/include</code>です。
        </p></dd><dt><span class="term"><code class="option">--datarootdir=<em class="replaceable"><code>DIRECTORY</code></em></code></span></dt><dd><p>
<span class="original">
         Sets the root directory for various types of read-only data
         files.  This only sets the default for some of the following
         options.  The default is
         &lt;filename&gt;&lt;replaceable&gt;PREFIX&lt;/replaceable&gt;/share&lt;/filename&gt;.
</span>
いろいろな種類の読み取り専用データファイル用のルートディレクトリを設定します。
これは後述のオプションの一部についてのデフォルトを設定するだけです。
デフォルトは<code class="filename"><em class="replaceable"><code>PREFIX</code></em>/share</code>です。
        </p></dd><dt><span class="term"><code class="option">--datadir=<em class="replaceable"><code>DIRECTORY</code></em></code></span></dt><dd><p>
<span class="original">
         Sets the directory for read-only data files used by the
         installed programs. The default is
         &lt;filename&gt;&lt;replaceable&gt;DATAROOTDIR&lt;/replaceable&gt;&lt;/filename&gt;. Note that this has
         nothing to do with where your database files will be placed.
</span>
インストールプログラムが使用する読み取り専用のディレクトリを設定します。
デフォルトは<code class="filename"><em class="replaceable"><code>DATAROOTDIR</code></em></code>です。
これはインストールするデータベースファイルがどこに設置されるかとは関係ないことを覚えておいてください。
        </p></dd><dt><span class="term"><code class="option">--localedir=<em class="replaceable"><code>DIRECTORY</code></em></code></span></dt><dd><p>
<span class="original">
         Sets the directory for installing locale data, in particular
         message translation catalog files.  The default is
         &lt;filename&gt;&lt;replaceable&gt;DATAROOTDIR&lt;/replaceable&gt;/locale&lt;/filename&gt;.
</span>
特にメッセージ翻訳カタログファイルのロケールデータをインストールするディレクトリを設定します。
デフォルトは<code class="filename"><em class="replaceable"><code>DATAROOTDIR</code></em>/locale</code>です。
        </p></dd><dt><span class="term"><code class="option">--mandir=<em class="replaceable"><code>DIRECTORY</code></em></code></span></dt><dd><p>
<span class="original">
         The man pages that come with &lt;productname&gt;PostgreSQL&lt;/productname&gt; will be installed under
         this directory, in their respective
         &lt;filename&gt;man&lt;replaceable&gt;x&lt;/replaceable&gt;&lt;/filename&gt; subdirectories.
         The default is &lt;filename&gt;&lt;replaceable&gt;DATAROOTDIR&lt;/replaceable&gt;/man&lt;/filename&gt;.
</span>
<span class="productname">PostgreSQL</span>付属のマニュアルページがこのディレクトリ以下の、対応する<code class="filename">man<em class="replaceable"><code>x</code></em></code>サブディレクトリにインストールされます。
デフォルトは<code class="filename"><em class="replaceable"><code>DATAROOTDIR</code></em>/man</code>です。
        </p></dd><dt><span class="term"><code class="option">--docdir=<em class="replaceable"><code>DIRECTORY</code></em></code></span></dt><dd><p>
<span class="original">
         Sets the root directory for installing documentation files,
         except &lt;quote&gt;man&lt;/quote&gt; pages.  This only sets the default for
         the following options.  The default value for this option is
         &lt;filename&gt;&lt;replaceable&gt;DATAROOTDIR&lt;/replaceable&gt;/doc/postgresql&lt;/filename&gt;.
</span>
<span class="quote">「<span class="quote">man</span>」</span>ページを除いた、ドキュメント一式ファイルをインストールするルートディレクトリを設定します。
これは以下のオプションのデフォルトのみを設定します。
このオプションのデフォルト値は<code class="filename"><em class="replaceable"><code>DATAROOTDIR</code></em>/doc/postgresql</code>です。
        </p></dd><dt><span class="term"><code class="option">--htmldir=<em class="replaceable"><code>DIRECTORY</code></em></code></span></dt><dd><p>
<span class="original">
         The HTML-formatted documentation for
         &lt;productname&gt;PostgreSQL&lt;/productname&gt; will be installed under
         this directory.  The default is
         &lt;filename&gt;&lt;replaceable&gt;DATAROOTDIR&lt;/replaceable&gt;&lt;/filename&gt;.
</span>
         <span class="productname">PostgreSQL</span>のHTML形式化文書一式はこのディレクトリの下にインストールされます。デフォルトは<code class="filename"><em class="replaceable"><code>DATAROOTDIR</code></em></code>です。
        </p></dd></dl></div><div class="note"><h3 class="title">注記</h3><p>
<span class="original">
       Care has been taken to make it possible to install
       &lt;productname&gt;PostgreSQL&lt;/productname&gt; into shared installation locations
       (such as &lt;filename&gt;/usr/local/include&lt;/filename&gt;) without
       interfering with the namespace of the rest of the system. First,
       the string &lt;quote&gt;&lt;literal&gt;/postgresql&lt;/literal&gt;&lt;/quote&gt; is
       automatically appended to &lt;varname&gt;datadir&lt;/varname&gt;,
       &lt;varname&gt;sysconfdir&lt;/varname&gt;, and &lt;varname&gt;docdir&lt;/varname&gt;,
       unless the fully expanded directory name already contains the
       string &lt;quote&gt;&lt;literal&gt;postgres&lt;/literal&gt;&lt;/quote&gt; or
       &lt;quote&gt;&lt;literal&gt;pgsql&lt;/literal&gt;&lt;/quote&gt;. For example, if you choose
       &lt;filename&gt;/usr/local&lt;/filename&gt; as prefix, the documentation will
       be installed in &lt;filename&gt;/usr/local/doc/postgresql&lt;/filename&gt;,
       but if the prefix is &lt;filename&gt;/opt/postgres&lt;/filename&gt;, then it
       will be in &lt;filename&gt;/opt/postgres/doc&lt;/filename&gt;. The public C
       header files of the client interfaces are installed into
       &lt;varname&gt;includedir&lt;/varname&gt; and are namespace-clean. The
       internal header files and the server header files are installed
       into private directories under &lt;varname&gt;includedir&lt;/varname&gt;. See
       the documentation of each interface for information about how to
       access its header files. Finally, a private subdirectory will
       also be created, if appropriate, under &lt;varname&gt;libdir&lt;/varname&gt;
       for dynamically loadable modules.
</span>
（<code class="filename">/usr/local/include</code>といった）共用のインストール場所に、システムの他の名前空間に影響を与えることなく<span class="productname">PostgreSQL</span>をインストールすることができるような配慮がなされています。
まず、完全に展開したディレクトリ名に<span class="quote">「<span class="quote"><code class="literal">postgres</code></span>」</span>か<span class="quote">「<span class="quote"><code class="literal">pgsql</code></span>」</span>という文字列が含まれていない場合、<span class="quote">「<span class="quote"><code class="literal">/postgresql</code></span>」</span>という文字列が自動的に<code class="varname">datadir</code>、<code class="varname">sysconfdir</code>、<code class="varname">docdir</code>に追加されます。
例えば、接頭辞として<code class="filename">/usr/local</code>を使用する場合、文書は<code class="filename">/usr/local/doc/postgresql</code>にインストールされますが、接頭辞が<code class="filename">/opt/postgres</code>の場合は<code class="filename">/opt/postgres/doc</code>にインストールされます。
クライアントインタフェース用の外部向けCヘッダファイルは<code class="varname">includedir</code>にインストールされ、名前空間の問題はありません。
内部向けヘッダファイルやサーバ用ヘッダファイルは、<code class="varname">includedir</code>以下の非公開ディレクトリにインストールされます。
各インタフェース用のヘッダファイルにアクセスする方法についての情報は、そのインタフェースの文書を参照してください。
最後に、適切であれば、動的ロード可能モジュール用に<code class="varname">libdir</code>以下にも非公開用のサブディレクトリが作成されます。
      </p></div></div><div class="sect3" id="CONFIGURE-OPTIONS-FEATURES"><div class="titlepage"><div><div><h4 class="title">17.4.1.2. <span class="productname">PostgreSQL</span>の機能</h4></div></div></div><span class="original">
    &lt;title&gt;&lt;productname&gt;PostgreSQL&lt;/productname&gt; Features&lt;/title&gt;
</span><p>
<span class="original">
     The options described in this section enable building of
     various &lt;productname&gt;PostgreSQL&lt;/productname&gt; features that are not
     built by default.  Most of these are non-default only because they
     require additional software, as described in
     &lt;xref linkend="install-requirements"/&gt;.
</span>
この節に書かれたオプションは、デフォルトでは構築されない<span class="productname">PostgreSQL</span>の様々な機能を構築できるようにするものです。
この多くがデフォルトでないのは、<a class="xref" href="install-requirements.html" title="17.2. 必要条件">17.2</a>で書かれているように追加のソフトウェアを必要とするからだけです。
    </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--enable-nls[<span class="optional">=<em class="replaceable"><code>LANGUAGES</code></em></span>]</code></span></dt><dd><p>
<span class="original">
         Enables Native Language Support (&lt;acronym&gt;NLS&lt;/acronym&gt;),
         that is, the ability to display a program's messages in a
         language other than English.
         &lt;replaceable&gt;LANGUAGES&lt;/replaceable&gt; is an optional space-separated
         list of codes of the languages that you want supported, for
         example &lt;literal&gt;&amp;#45;-enable-nls='de fr'&lt;/literal&gt;.  (The intersection
         between your list and the set of actually provided
         translations will be computed automatically.)  If you do not
         specify a list, then all available translations are
         installed.
</span>
各国語サポート（<acronym class="acronym">NLS</acronym>）、つまり、英語以外の言語によるプログラムメッセージの表示機能を有効にします。
<em class="replaceable"><code>LANGUAGES</code></em>はオプションであり、サポートさせたい言語コードを空白で区切ったリストを指定します。例えば、<code class="literal">--enable-nls='de fr'</code>などとします。
（指定したリストと実際に用意された翻訳との論理積が自動的に計算されます。）
リストに何も指定しなかった場合、利用可能な翻訳すべてがインストールされます。
        </p><p>
<span class="original">
         To use this option, you will need an implementation of the
         &lt;application&gt;Gettext&lt;/application&gt; API.
</span>
このオプションを使用するためには、<span class="application">gettext</span> APIの実装が必要です。
        </p></dd><dt><span class="term"><code class="option">--with-perl</code></span></dt><dd><p>
<span class="original">
         Build the &lt;application&gt;PL/Perl&lt;/application&gt; server-side language.
</span>
<span class="application">PL/Perl</span>サーバサイド言語を構築します。
        </p></dd><dt><span class="term"><code class="option">--with-python</code></span></dt><dd><p>
<span class="original">
         Build the &lt;application&gt;PL/Python&lt;/application&gt; server-side language.
</span>
<span class="application">PL/Python</span>サーバサイド言語を構築します。
        </p></dd><dt><span class="term"><code class="option">--with-tcl</code></span></dt><dd><p>
<span class="original">
         Build the &lt;application&gt;PL/Tcl&lt;/application&gt; server-side language.
</span>
<span class="application">PL/Tcl</span>サーバサイド言語を構築します。
        </p></dd><dt><span class="term"><code class="option">--with-tclconfig=<em class="replaceable"><code>DIRECTORY</code></em></code></span></dt><dd><p>
<span class="original">
         Tcl installs the file &lt;filename&gt;tclConfig.sh&lt;/filename&gt;, which
         contains configuration information needed to build modules
         interfacing to Tcl. This file is normally found automatically
         at a well-known location, but if you want to use a different
         version of Tcl you can specify the directory in which to look
         for &lt;filename&gt;tclConfig.sh&lt;/filename&gt;.
</span>
Tclは、Tclへのインタフェースモジュールを構築するために必要な設定情報を含む<code class="filename">tclConfig.sh</code>ファイルをインストールします。
このファイルは通常、自動的に一般的に知られている場所にありますが、もしTclの別のバージョンを使いたい場合は、<code class="filename">tclConfig.sh</code>を検索対象のディレクトリを指定することができます。
        </p></dd><dt><span class="term"><code class="option">--with-icu</code></span></dt><dd><p>
<span class="original">
         Build with support for
         the &lt;productname&gt;ICU&lt;/productname&gt;&lt;indexterm&gt;&lt;primary&gt;ICU&lt;/primary&gt;&lt;/indexterm&gt;
         library, enabling use of ICU collation
         features&lt;phrase condition="standalone-ignore"&gt; (see
         &lt;xref linkend="collation"/&gt;)&lt;/phrase&gt;.
         This requires the &lt;productname&gt;ICU4C&lt;/productname&gt; package
         to be installed.  The minimum required version
         of &lt;productname&gt;ICU4C&lt;/productname&gt; is currently 4.2.
</span>
<span class="productname">ICU</span><a id="id-1.6.4.9.6.6.3.6.2.1.2" class="indexterm"></a>ライブラリのサポートを有効にして構築します。これによりICU照合機能が使用できるようになります。
<span class="phrase"> (<a class="xref" href="collation.html" title="24.2. 照合順序サポート">24.2</a>を参照してください。)</span>
これには、<span class="productname">ICU4C</span>パッケージがインストールされていることが必要です。
<span class="productname">ICU4C</span>の要求される最小のバージョンは現在4.2です。
        </p><p>
<span class="original">
         By default,
         &lt;productname&gt;pkg-config&lt;/productname&gt;&lt;indexterm&gt;&lt;primary&gt;pkg-config&lt;/primary&gt;&lt;/indexterm&gt;
         will be used to find the required compilation options.  This is
         supported for &lt;productname&gt;ICU4C&lt;/productname&gt; version 4.6 and later.
         For older versions, or if &lt;productname&gt;pkg-config&lt;/productname&gt; is
         not available, the variables &lt;envar&gt;ICU_CFLAGS&lt;/envar&gt;
         and &lt;envar&gt;ICU_LIBS&lt;/envar&gt; can be specified
         to &lt;filename&gt;configure&lt;/filename&gt;, like in this example:
</span>
デフォルトでは、<span class="productname">pkg-config</span><a id="id-1.6.4.9.6.6.3.6.2.2.2" class="indexterm"></a>が必要なコンパイルオプションを見つけるのに使われます。
これは<span class="productname">ICU4C</span>バージョン4.6またはそれ以降でサポートされています。
より古いバージョンの場合や<span class="productname">pkg-config</span>が使えない場合には、以下の例のように、変数<code class="envar">ICU_CFLAGS</code>と<code class="envar">ICU_LIBS</code>を<code class="filename">configure</code>に指定できます。
</p><pre class="programlisting">
./configure ... --with-icu ICU_CFLAGS='-I/some/where/include' ICU_LIBS='-L/some/where/lib -licui18n -licuuc -licudata'
</pre><p>
<span class="original">
         (If &lt;productname&gt;ICU4C&lt;/productname&gt; is in the default search path
         for the compiler, then you still need to specify nonempty strings in
         order to avoid use of &lt;productname&gt;pkg-config&lt;/productname&gt;, for
         example, &lt;literal&gt;ICU_CFLAGS=' '&lt;/literal&gt;.)
</span>
(<span class="productname">ICU4C</span>がコンパイラのデフォルトの検索パスにあるのなら、<span class="productname">pkg-config</span>の使用を避けるため、例えば<code class="literal">ICU_CFLAGS=' '</code>のような空でない文字列を指定することも必要です。)
        </p></dd><dt id="CONFIGURE-WITH-LLVM"><span class="term"><code class="option">--with-llvm</code></span></dt><dd><p>
<span class="original">
         Build with support for &lt;productname&gt;LLVM&lt;/productname&gt; based
         &lt;acronym&gt;JIT&lt;/acronym&gt; compilation&lt;phrase
         condition="standalone-ignore"&gt; (see &lt;xref
         linkend="jit"/&gt;)&lt;/phrase&gt;.  This
         requires the &lt;productname&gt;LLVM&lt;/productname&gt; library to be installed.
         The minimum required version of &lt;productname&gt;LLVM&lt;/productname&gt; is
         currently 3.9.
</span>
<span class="productname">LLVM</span>に基づいた<acronym class="acronym">JIT</acronym>コンパイル<span class="phrase"> (<a class="xref" href="jit.html" title="第32章 実行時コンパイル(JIT)">第32章</a>を参照)</span>のサポート有効にして構築します。
これには、<span class="productname">LLVM</span>ライブラリがインストールされていることが必要です。
<span class="productname">LLVM</span>の要求される最小のバージョンは現在3.9です。
        </p><p>
<span class="original">
         &lt;command&gt;llvm-config&lt;/command&gt;&lt;indexterm&gt;&lt;primary&gt;llvm-config&lt;/primary&gt;&lt;/indexterm&gt;
         will be used to find the required compilation options.
         &lt;command&gt;llvm-config&lt;/command&gt;, and then
         &lt;command&gt;llvm-config-$major-$minor&lt;/command&gt; for all supported
         versions, will be searched for in your &lt;envar&gt;PATH&lt;/envar&gt;.  If
         that would not yield the desired program,
         use &lt;envar&gt;LLVM_CONFIG&lt;/envar&gt; to specify a path to the
         correct &lt;command&gt;llvm-config&lt;/command&gt;. For example
</span>
要求されるコンパイルオプションを見つけるために<code class="command">llvm-config</code><a id="id-1.6.4.9.6.6.3.7.2.2.2" class="indexterm"></a>が使われます。
<code class="command">llvm-config</code>、それからサポートされるバージョンすべての<code class="command">llvm-config-$major-$minor</code>を<code class="envar">PATH</code>で探します。
それで正しいバイナリが見つからなければ、正しい<code class="command">llvm-config</code>へのパスを指定するために<code class="envar">LLVM_CONFIG</code>を使ってください。
例えば、以下の通りです。
</p><pre class="programlisting">
./configure ... --with-llvm LLVM_CONFIG='/path/to/llvm/bin/llvm-config'
</pre><p>
        </p><p>
<span class="original">
         &lt;productname&gt;LLVM&lt;/productname&gt; support requires a compatible
         &lt;command&gt;clang&lt;/command&gt; compiler (specified, if necessary, using the
         &lt;envar&gt;CLANG&lt;/envar&gt; environment variable), and a working C++
         compiler (specified, if necessary, using the &lt;envar&gt;CXX&lt;/envar&gt;
         environment variable).
</span>
<span class="productname">LLVM</span>サポートは<code class="command">clang</code>互換のコンパイラ(必要なら環境変数<code class="envar">CLANG</code>で指定してください)と動作するC++コンパイラ(必要なら環境変数<code class="envar">CXX</code>で指定してください)を要求します。
        </p></dd><dt><span class="term"><code class="option">--with-lz4</code></span></dt><dd><p>
<span class="original">
         Build with &lt;productname&gt;LZ4&lt;/productname&gt; compression support.
</span>
<span class="productname">LZ4</span>圧縮サポートを有効にして構築します。
        </p></dd><dt><span class="term"><code class="option">--with-zstd</code></span></dt><dd><p>
<span class="original">
         Build with &lt;productname&gt;Zstandard&lt;/productname&gt; compression support.
</span>
<span class="productname">Zstandard</span>圧縮サポートを有効にして構築します。
        </p></dd><dt><span class="term"><code class="option">--with-ssl=<em class="replaceable"><code>LIBRARY</code></em></code>
       <a id="id-1.6.4.9.6.6.3.10.1.2" class="indexterm"></a>
       </span></dt><dd><p>
<span class="original">
         Build with support for &lt;acronym&gt;SSL&lt;/acronym&gt; (encrypted)
         connections. The only &lt;replaceable&gt;LIBRARY&lt;/replaceable&gt;
         supported is &lt;option&gt;openssl&lt;/option&gt;. This requires the
         &lt;productname&gt;OpenSSL&lt;/productname&gt; package to be installed.
         &lt;filename&gt;configure&lt;/filename&gt; will check for the required
         header files and libraries to make sure that your
         &lt;productname&gt;OpenSSL&lt;/productname&gt; installation is sufficient
         before proceeding.
</span>
<acronym class="acronym">SSL</acronym>（暗号化）接続のサポートを有効にして構築します。
サポートされている唯一の<em class="replaceable"><code>LIBRARY</code></em>は<code class="option">openssl</code>です。
これには、<span class="productname">OpenSSL</span>パッケージがインストールされていることが必要です。
<code class="filename">configure</code>は、処理を進める前に<span class="productname">OpenSSL</span>のインストールを確認するために、必要なヘッダファイルとライブラリを検査します。
        </p></dd><dt><span class="term"><code class="option">--with-openssl</code></span></dt><dd><p>
<span class="original">
         Obsolete equivalent of &lt;literal&gt;&amp;#45;-with-ssl=openssl&lt;/literal&gt;.
</span>
<code class="literal">--with-ssl=openssl</code>に相当する古いものです。
        </p></dd><dt><span class="term"><code class="option">--with-gssapi</code></span></dt><dd><p>
<span class="original">
         Build with support for GSSAPI authentication. On many systems, the
         GSSAPI system (usually a part of the Kerberos installation) is not
         installed in a location
         that is searched by default (e.g., &lt;filename&gt;/usr/include&lt;/filename&gt;,
         &lt;filename&gt;/usr/lib&lt;/filename&gt;), so you must use the options
         &lt;option&gt;&amp;#45;-with-includes&lt;/option&gt; and &lt;option&gt;&amp;#45;-with-libraries&lt;/option&gt; in
         addition to this option.  &lt;filename&gt;configure&lt;/filename&gt; will check
         for the required header files and libraries to make sure that
         your GSSAPI installation is sufficient before proceeding.
</span>
GSSAPI認証のサポートを構築します。
多くのシステムでは、GSSAPIシステム（通常Kerberosインストレーションの一部）はデフォルトの検索場所（例えば<code class="filename">/usr/include</code>や<code class="filename">/usr/lib</code>）にインストールされていません。
そのため、<code class="option">--with-includes</code>と<code class="option">--with-libraries</code>オプションをさらに追加して使わなければいけません。
<code class="filename">configure</code>は、処理を進める前にGSSAPIが正しくインストールされていることを確認するために、必要とされるヘッダファイルとライブラリを検査します。
        </p></dd><dt><span class="term"><code class="option">--with-ldap</code></span></dt><dd><p>
<span class="original">
         Build with &lt;acronym&gt;LDAP&lt;/acronym&gt;&lt;indexterm&gt;&lt;primary&gt;LDAP&lt;/primary&gt;&lt;/indexterm&gt;
         support for authentication and connection parameter lookup (see
         &lt;phrase id="install-ldap-links"&gt;&lt;xref linkend="libpq-ldap"/&gt; and
         &lt;xref linkend="auth-ldap"/&gt;&lt;/phrase&gt; for more information). On Unix,
         this requires the &lt;productname&gt;OpenLDAP&lt;/productname&gt; package to be
         installed. On Windows, the default &lt;productname&gt;WinLDAP&lt;/productname&gt;
         library is used.  &lt;filename&gt;configure&lt;/filename&gt; will check for the required
         header files and libraries to make sure that your
         &lt;productname&gt;OpenLDAP&lt;/productname&gt; installation is sufficient before
         proceeding.
</span>
認証および接続パラメータ検索用の<acronym class="acronym">LDAP</acronym><a id="id-1.6.4.9.6.6.3.13.2.1.2" class="indexterm"></a>サポートを有効にして構築します。
（詳細は<span id="INSTALL-LDAP-LINKS" class="phrase"><a class="xref" href="libpq-ldap.html" title="34.18. 接続パラメータのLDAP検索">34.18</a>および<a class="xref" href="auth-ldap.html" title="21.10. LDAP認証">21.10</a></span>を参照してください。）
Unixでは、<span class="productname">OpenLDAP</span>パッケージがインストールされていることが必要です。
Windowsではデフォルトの<span class="productname">WinLDAP</span>ライブラリが使用されます。
<code class="filename">configure</code>は、処理を進める前に<span class="productname">OpenLDAP</span>のインストールが十分されているかどうかを確認するために、必要なヘッダファイルとライブラリを検査します。
        </p></dd><dt><span class="term"><code class="option">--with-pam</code></span></dt><dd><p>
<span class="original">
         Build with &lt;acronym&gt;PAM&lt;/acronym&gt;&lt;indexterm&gt;&lt;primary&gt;PAM&lt;/primary&gt;&lt;/indexterm&gt;
         (Pluggable Authentication Modules) support.
</span>
<acronym class="acronym">PAM</acronym><a id="id-1.6.4.9.6.6.3.14.2.1.2" class="indexterm"></a>（プラガブル認証モジュール）のサポートを有効にして構築します。
        </p></dd><dt><span class="term"><code class="option">--with-bsd-auth</code></span></dt><dd><p>
<span class="original">
         Build with BSD Authentication support.
         (The BSD Authentication framework is
         currently only available on OpenBSD.)
</span>
BSD認証のサポートを有効にして構築します。
(BSD認証フレームワークは今のところOpenBSDだけで利用可能です。)
        </p></dd><dt><span class="term"><code class="option">--with-systemd</code></span></dt><dd><p>
<span class="original">
         Build with support
         for &lt;application&gt;systemd&lt;/application&gt;&lt;indexterm&gt;&lt;primary&gt;systemd&lt;/primary&gt;&lt;/indexterm&gt;
         service notifications.  This improves integration if the server
         is started under &lt;application&gt;systemd&lt;/application&gt; but has no impact
         otherwise&lt;phrase condition="standalone-ignore"&gt;; see &lt;xref linkend="server-start"/&gt; for more
         information&lt;/phrase&gt;.  &lt;application&gt;libsystemd&lt;/application&gt; and the
         associated header files need to be installed to use this option.
</span>
<span class="application">systemd</span><a id="id-1.6.4.9.6.6.3.16.2.1.2" class="indexterm"></a>サービス通知のサポートを有効にして構築します。
サーババイナリが<span class="application">systemd</span>の元で開始する場合には、これは統合を改善しますが、それ以外は影響はありません。<span class="phrase">詳細は<a class="xref" href="server-start.html" title="19.3. データベースサーバの起動">19.3</a>を参照してください。</span>
このオプションを使えるようにするには、<span class="application">libsystemd</span>と関連するヘッダファイルをインストールすることが必要です。
        </p></dd><dt><span class="term"><code class="option">--with-bonjour</code></span></dt><dd><p>
<span class="original">
         Build with support for Bonjour automatic service discovery.
         This requires Bonjour support in your operating system.
         Recommended on macOS.
</span>
Bonjour自動サービス検出のサポートを有効にして構築します。
これには、オペレーティングシステムがBonjourをサポートしていることが必要です。
macOSでは推奨します。
        </p></dd><dt><span class="term"><code class="option">--with-uuid=<em class="replaceable"><code>LIBRARY</code></em></code></span></dt><dd><p>
<span class="original">
         Build the &lt;xref linkend="uuid-ossp"/&gt; module
         (which provides functions to generate UUIDs), using the specified
         UUID library.&lt;indexterm&gt;&lt;primary&gt;UUID&lt;/primary&gt;&lt;/indexterm&gt;
         &lt;replaceable&gt;LIBRARY&lt;/replaceable&gt; must be one of:
</span>
指定されたUUIDライブラリを使用して(UUIDを生成する関数を提供する)<a class="xref" href="uuid-ossp.html" title="F.49. uuid-ossp">uuid-ossp</a>モジュールをビルドします。<a id="id-1.6.4.9.6.6.3.18.2.1.2" class="indexterm"></a>
<em class="replaceable"><code>LIBRARY</code></em>は以下のいずれかでなければなりません。
        </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="original">
           &lt;option&gt;bsd&lt;/option&gt; to use the UUID functions found in FreeBSD
           and some other BSD-derived systems
</span>
<code class="option">bsd</code>はFreeBSD、その他のBSD派生システムにあるUUID関数を使います。
          </p></li><li class="listitem"><p>
<span class="original">
           &lt;option&gt;e2fs&lt;/option&gt; to use the UUID library created by
           the &lt;literal&gt;e2fsprogs&lt;/literal&gt; project; this library is present in most
           Linux systems and in macOS, and can be obtained for other
           platforms as well
</span>
<code class="option">e2fs</code>は<code class="literal">e2fsprogs</code>プロジェクトで作られたUUIDライブラリを使います。
このライブラリはたいていのLinuxシステムとmacOSにあり、また、その他のプラットフォームでも入手可能です。
          </p></li><li class="listitem"><p>
<span class="original">
           &lt;option&gt;ossp&lt;/option&gt; to use the &lt;ulink
           url="http://www.ossp.org/pkg/lib/uuid/"&gt;OSSP UUID library&lt;/ulink&gt;
</span>
<code class="option">ossp</code>は<a class="ulink" href="http://www.ossp.org/pkg/lib/uuid/" target="_top">OSSP UUIDライブラリ</a>を使用します。
          </p></li></ul></div></dd><dt><span class="term"><code class="option">--with-ossp-uuid</code></span></dt><dd><p>
<span class="original">
         Obsolete equivalent of &lt;literal&gt;&amp;#45;-with-uuid=ossp&lt;/literal&gt;.
</span>
<code class="literal">--with-uuid=ossp</code>に相当する古いものです。
        </p></dd><dt><span class="term"><code class="option">--with-libxml</code></span></dt><dd><p>
<span class="original">
         Build with libxml2, enabling SQL/XML support.  Libxml2 version 2.6.23 or
         later is required for this feature.
</span>
libxml2を使用して構築し、SQL/XMLサポートを有効にします。
この機能のためにはlibxml2バージョン2.6.23以降が必要です。
        </p><p>
<span class="original">
         To detect the required compiler and linker options, PostgreSQL will
         query &lt;command&gt;pkg-config&lt;/command&gt;, if that is installed and knows
         about libxml2.  Otherwise the program &lt;command&gt;xml2-config&lt;/command&gt;,
         which is installed by libxml2, will be used if it is found.  Use
         of &lt;command&gt;pkg-config&lt;/command&gt; is preferred, because it can deal
         with multi-architecture installations better.
</span>
pkg-configがインストールされていて、かつそれがlibxml2について知っているようであれば、必要なコンパイラオプション、リンカオプションを検出するために、PostgreSQLは<code class="command">pkg-config</code>に問い合わせます。
そうでなければ、libxml2がインストールするプログラム<code class="command">xml2-config</code>を見つけられれば使用します。
複数アーキテクチャのインストレーションをよりうまく扱えますので、<code class="command">pkg-config</code>を使用する方が好ましいです。
        </p><p>
<span class="original">
         To use a libxml2 installation that is in an unusual location, you
         can set &lt;command&gt;pkg-config&lt;/command&gt;-related environment
         variables (see its documentation), or set the environment variable
         &lt;envar&gt;XML2_CONFIG&lt;/envar&gt; to point to
         the &lt;command&gt;xml2-config&lt;/command&gt; program belonging to the libxml2
         installation, or set the variables &lt;envar&gt;XML2_CFLAGS&lt;/envar&gt;
         and &lt;envar&gt;XML2_LIBS&lt;/envar&gt;.  (If &lt;command&gt;pkg-config&lt;/command&gt; is
         installed, then to override its idea of where libxml2 is you must
         either set &lt;envar&gt;XML2_CONFIG&lt;/envar&gt; or set
         both &lt;envar&gt;XML2_CFLAGS&lt;/envar&gt; and &lt;envar&gt;XML2_LIBS&lt;/envar&gt; to
         nonempty strings.)
</span>
通常以外の場所にインストールしたlibxml2インストレーションを使用するためには、<code class="command">pkg-config</code>関連の環境変数を設定するか(そのドキュメントを参照してください)、環境変数<code class="envar">XML2_CONFIG</code>がそのインストレーション用の<code class="command">xml2-config</code>プログラムを指し示すように設定するか、変数<code class="envar">XML2_CFLAGS</code>と<code class="envar">XML2_LIBS</code>を設定します。
(<code class="command">pkg-config</code>がインストールされていて、libxml2がどこにあるかについてのその認識を覆したいのであれば、<code class="envar">XML2_CONFIG</code>を、もしくは<code class="envar">XML2_CFLAGS</code>と<code class="envar">XML2_LIBS</code>の両方を空でない文字列に設定しなければなりません。)
        </p></dd><dt><span class="term"><code class="option">--with-libxslt</code></span></dt><dd><p>
<span class="original">
         Build with libxslt, enabling the
         &lt;xref linkend="xml2"/&gt;
         module to perform XSL transformations of XML.
         &lt;option&gt;&amp;#45;-with-libxml&lt;/option&gt; must be specified as well.
</span>
XMLのXSL変換を行うために<a class="xref" href="xml2.html" title="F.50. xml2">xml2</a>モジュールを有効にしてlibxsltを構築します。
<code class="option">--with-libxml</code>も指定しなければなりません。
        </p></dd></dl></div></div><div class="sect3" id="CONFIGURE-OPTIONS-ANTI-FEATURES"><div class="titlepage"><div><div><h4 class="title">17.4.1.3. 機能の無効化</h4></div></div></div><span class="original">
    &lt;title&gt;Anti-Features&lt;/title&gt;
</span><p>
<span class="original">
     The options described in this section allow disabling
     certain &lt;productname&gt;PostgreSQL&lt;/productname&gt; features that are built
     by default, but which might need to be turned off if the required
     software or system features are not available.  Using these options is
     not recommended unless really necessary.
</span>
この節に書かれたオプションは、デフォルトでは構築されますが、必要なソフトウェアやシステムの機能が利用可能でない場合にオフにする必要がある<span class="productname">PostgreSQL</span>の特定の機能を無効にします。
本当に必要でない限りは、ここのプションの使用は勧められません。
    </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--without-readline</code></span></dt><dd><p>
<span class="original">
         Prevents use of the &lt;application&gt;Readline&lt;/application&gt; library
         (and &lt;application&gt;libedit&lt;/application&gt; as well).  This option disables
         command-line editing and history in
         &lt;application&gt;psql&lt;/application&gt;.
</span>
<span class="application">Readline</span>ライブラリ（および<span class="application">libedit</span>）の使用を防止します。
このオプションは<span class="application">psql</span>でのコマンドライン編集および履歴を無効にします。
        </p></dd><dt><span class="term"><code class="option">--with-libedit-preferred</code></span></dt><dd><p>
<span class="original">
         Favors the use of the BSD-licensed &lt;application&gt;libedit&lt;/application&gt; library
         rather than GPL-licensed &lt;application&gt;Readline&lt;/application&gt;.  This option
         is significant only if you have both libraries installed; the
         default in that case is to use &lt;application&gt;Readline&lt;/application&gt;.
</span>
GPLライセンスの<span class="application">Readline</span>ではなくBSDライセンスの<span class="application">libedit</span>ライブラリを優先して使用します。
このオプションは両方のライブラリがインストールされている場合にのみ重要です。その場合デフォルトで<span class="application">Readline</span>が使用されます。
        </p></dd><dt><span class="term"><code class="option">--without-zlib</code></span></dt><dd><p>
         <a id="id-1.6.4.9.6.7.3.3.2.1.1" class="indexterm"></a>
<span class="original">
         Prevents use of the &lt;application&gt;Zlib&lt;/application&gt; library.
         This disables
         support for compressed archives in &lt;application&gt;pg_dump&lt;/application&gt;
         and &lt;application&gt;pg_restore&lt;/application&gt;.
</span>
<span class="application">Zlib</span>ライブラリの使用を抑制します。
これは、<span class="application">pg_dump</span>と<span class="application">pg_restore</span>における圧縮アーカイブのサポートを無効にします。
        </p></dd><dt><span class="term"><code class="option">--disable-spinlocks</code></span></dt><dd><p>
<span class="original">
         Allow the build to succeed even if &lt;productname&gt;PostgreSQL&lt;/productname&gt;
         has no CPU spinlock support for the platform.  The lack of
         spinlock support will result in very poor performance; therefore,
         this option should only be used if the build aborts and
         informs you that the platform lacks spinlock support. If this
         option is required to build &lt;productname&gt;PostgreSQL&lt;/productname&gt; on
         your platform, please report the problem to the
         &lt;productname&gt;PostgreSQL&lt;/productname&gt; developers.
</span>
<span class="productname">PostgreSQL</span>がそのプラットフォーム用のCPUスピンロックをサポートしない場合でも、構築に成功するようにします。
スピンロックのサポートの欠落により、性能は悪化します。
したがって、このオプションは、構築が失敗し、その原因が使用するプラットフォームでスピンロックサポートが欠落している場合にのみ使用してください。
使用するプラットフォームにおける<span class="productname">PostgreSQL</span>の構築にこのオプションが必要とされた場合は、<span class="productname">PostgreSQL</span>開発者にその問題を報告してください。
        </p></dd><dt><span class="term"><code class="option">--disable-atomics</code></span></dt><dd><p>
<span class="original">
         Disable use of CPU atomic operations.  This option does nothing on
         platforms that lack such operations.  On platforms that do have
         them, this will result in poor performance.  This option is only
         useful for debugging or making performance comparisons.
</span>
CPU不可分操作の使用を無効にします。
このオプションはそのような操作のないプラットフォームでは何もしません。
そのような操作のあるプラットフォームでは、これにより性能が低下するでしょう。
このオプションはデバッグや性能比較をする場合にのみ有用です。
        </p></dd><dt><span class="term"><code class="option">--disable-thread-safety</code></span></dt><dd><p>
<span class="original">
         Disable the thread-safety of client libraries.  This prevents
         concurrent threads in &lt;application&gt;libpq&lt;/application&gt; and
         &lt;application&gt;ECPG&lt;/application&gt; programs from safely controlling
         their private connection handles.  Use this only on platforms
         with deficient threading support.
</span>
クライアントライブラリのスレッドセーフを無効にします。
これにより、<span class="application">libpq</span>や<span class="application">ECPG</span>プログラム内の同時実行スレッドは、安全にその固有の接続ハンドルを制御できなくなります。
スレッドのサポートに欠陥があるプラットフォームでのみ、これを使ってください。
        </p></dd></dl></div></div><div class="sect3" id="CONFIGURE-OPTIONS-BUILD-PROCESS"><div class="titlepage"><div><div><h4 class="title">17.4.1.4. 構築プロセスの詳細</h4></div></div></div><span class="original">
    &lt;title&gt;Build Process Details&lt;/title&gt;
</span><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--with-includes=<em class="replaceable"><code>DIRECTORIES</code></em></code></span></dt><dd><p>
<span class="original">
         &lt;replaceable&gt;DIRECTORIES&lt;/replaceable&gt; is a colon-separated list of
         directories that will be added to the list the compiler
         searches for header files. If you have optional packages
         (such as GNU &lt;application&gt;Readline&lt;/application&gt;) installed in a non-standard
         location,
         you have to use this option and probably also the corresponding
         &lt;option&gt;&amp;#45;-with-libraries&lt;/option&gt; option.
</span>
<em class="replaceable"><code>DIRECTORIES</code></em>には、コンパイラがヘッダファイルを検索するディレクトリのリストをコロンで区切って指定します。
（GNU <span class="application">Readline</span>などの）オプションのパッケージが非標準的な場所にインストールされている場合、このオプションと、おそらく対応する<code class="option">--with-libraries</code>オプションを使用する必要があります。
        </p><p>
<span class="original">
         Example: &lt;literal&gt;&amp;#45;-with-includes=/opt/gnu/include:/usr/sup/include&lt;/literal&gt;.
</span>
         例： <code class="literal">--with-includes=/opt/gnu/include:/usr/sup/include</code>
        </p></dd><dt><span class="term"><code class="option">--with-libraries=<em class="replaceable"><code>DIRECTORIES</code></em></code></span></dt><dd><p>
<span class="original">
         &lt;replaceable&gt;DIRECTORIES&lt;/replaceable&gt; is a colon-separated list of
         directories to search for libraries. You will probably have
         to use this option (and the corresponding
         &lt;option&gt;&amp;#45;-with-includes&lt;/option&gt; option) if you have packages
         installed in non-standard locations.
</span>
<em class="replaceable"><code>DIRECTORIES</code></em>には、ライブラリを検索するディレクトリのリストをコロンで区切って指定します。
パッケージが非標準的な場所にインストールされている場合は、おそらくこのオプション（と対応する<code class="option">--with-includes</code>オプション）を使用する必要があります。
        </p><p>
<span class="original">
         Example: &lt;literal&gt;&amp;#45;-with-libraries=/opt/gnu/lib:/usr/sup/lib&lt;/literal&gt;.
</span>
         例： <code class="literal">--with-libraries=/opt/gnu/lib:/usr/sup/lib</code>
        </p></dd><dt><span class="term"><code class="option">--with-system-tzdata=<em class="replaceable"><code>DIRECTORY</code></em></code>
       <a id="id-1.6.4.9.6.8.2.3.1.2" class="indexterm"></a>
       <a id="id-1.6.4.9.6.8.2.3.1.3" class="indexterm"></a>
       </span></dt><dd><p>
<span class="original">
         &lt;productname&gt;PostgreSQL&lt;/productname&gt; includes its own time zone database,
         which it requires for date and time operations.  This time zone
         database is in fact compatible with the IANA time zone
         database provided by many operating systems such as FreeBSD,
         Linux, and Solaris, so it would be redundant to install it again.
         When this option is used, the system-supplied time zone database
         in &lt;replaceable&gt;DIRECTORY&lt;/replaceable&gt; is used instead of the one
         included in the PostgreSQL source distribution.
         &lt;replaceable&gt;DIRECTORY&lt;/replaceable&gt; must be specified as an
         absolute path.  &lt;filename&gt;/usr/share/zoneinfo&lt;/filename&gt; is a
         likely directory on some operating systems.  Note that the
         installation routine will not detect mismatching or erroneous time
         zone data.  If you use this option, you are advised to run the
         regression tests to verify that the time zone data you have
         pointed to works correctly with &lt;productname&gt;PostgreSQL&lt;/productname&gt;.
</span>
<span class="productname">PostgreSQL</span>は、日付時刻に関する操作で必要な、独自の時間帯データベースを持ちます。
実際のところ、この時間帯データベースはFreeBSD、Linux、Solarisなどの多くのオペレーティングシステムで提供されるIANA時間帯データベースと互換性があります。
このため、これを再びインストールすることは冗長です。
このオプションが使用されると、<em class="replaceable"><code>DIRECTORY</code></em>にあるシステムが提供する時間帯データベースがPostgreSQLソース配布物に含まれるものの代わりに使用されます。
<em class="replaceable"><code>DIRECTORY</code></em>は絶対パスで指定しなければなりません。
<code class="filename">/usr/share/zoneinfo</code>がオペレーティングシステムの一部でよく使われます。
インストール処理が時間帯データが一致しない、またはエラーがあることを検知しないことに注意してください。
このオプションを使用する場合、指定した時間帯データが<span class="productname">PostgreSQL</span>で正しく動作するかどうかを検証するためにリグレッションテストを実行することが推奨されています。
        </p><a id="id-1.6.4.9.6.8.2.3.2.2" class="indexterm"></a><a id="id-1.6.4.9.6.8.2.3.2.3" class="indexterm"></a><p>
<span class="original">
         This option is mainly aimed at binary package distributors
         who know their target operating system well.  The main
         advantage of using this option is that the PostgreSQL package
         won't need to be upgraded whenever any of the many local
         daylight-saving time rules change.  Another advantage is that
         PostgreSQL can be cross-compiled more straightforwardly if the
         time zone database files do not need to be built during the
         installation.
</span>
このオプションは、対象オペレーティングシステムを熟知しているパッケージ配布者を主な対象としたもの。
このオプションを使用する大きな利点は、多くの局所的な夏時間規則の変更があってもPostgreSQLパッケージを更新する必要がないことです。
他の利点として、時間帯データベースファイルをインストール時に構築する必要がありませんので、PostgreSQLのクロスコンパイルをより簡単に行うことができます。
        </p></dd><dt><span class="term"><code class="option">--with-extra-version=<em class="replaceable"><code>STRING</code></em></code></span></dt><dd><p>
<span class="original">
         Append &lt;replaceable&gt;STRING&lt;/replaceable&gt; to the PostgreSQL version number.  You
         can use this, for example, to mark binaries built from unreleased Git
         snapshots or containing custom patches with an extra version string,
         such as a &lt;command&gt;git describe&lt;/command&gt; identifier or a
         distribution package release number.
</span>
PostgreSQLバージョン番号に<em class="replaceable"><code>STRING</code></em>を追加します。
これは、例えば、リリースされていないGitスナップショットからビルドしたバイナリや、<code class="command">git describe</code>識別子やディストリビューションパッケージリリース番号のような追加のバージョン文字列のあるカスタムパッチを含むバイナリに印をつけるために使えます。
        </p></dd><dt><span class="term"><code class="option">--disable-rpath</code></span></dt><dd><p>
<span class="original">
         Do not mark &lt;productname&gt;PostgreSQL&lt;/productname&gt;'s executables
         to indicate that they should search for shared libraries in the
         installation's library directory (see &lt;option&gt;&amp;#45;-libdir&lt;/option&gt;).
         On most platforms, this marking uses an absolute path to the
         library directory, so that it will be unhelpful if you relocate
         the installation later.  However, you will then need to provide
         some other way for the executables to find the shared libraries.
         Typically this requires configuring the operating system's
         dynamic linker to search the library directory; see
         &lt;xref linkend="install-post-shlibs"/&gt; for more detail.
</span>
<span class="productname">PostgreSQL</span>の実行ファイルがインストレーションのライブラリディレクトリ(<code class="option">--libdir</code>を参照してください)にある共有ライブラリを探すよう指示する印を付けません。
ほとんどのプラットフォームでは、この印付けはライブラリディレクトリへの絶対パスを利用しますので、後でインストレーションを再配置したときには役に立たないでしょう。
ですので、実行ファイルが共有ライブラリを見つける他の方法を提供する必要があるでしょう。
通常は、オペレーティングシステムの動的リンカがライブラリディレクトリを探すよう設定することが必要です。詳細は<a class="xref" href="install-post.html#INSTALL-POST-SHLIBS" title="17.5.1. 共有ライブラリ">17.5.1</a>を参照してください。
        </p></dd></dl></div></div><div class="sect3" id="CONFIGURE-OPTIONS-MISC"><div class="titlepage"><div><div><h4 class="title">17.4.1.5. その他</h4></div></div></div><span class="original">
    &lt;title&gt;Miscellaneous&lt;/title&gt;
</span><p>
<span class="original">
     It's fairly common, particularly for test builds, to adjust the
     default port number with &lt;option&gt;&amp;#45;-with-pgport&lt;/option&gt;.
     The other options in this section are recommended only for advanced
     users.
</span>
デフォルトのポート番号を<code class="option">--with-pgport</code>で調整することは、特にテスト構築のためには、かなり良くあることです。
この節の他のオプションは上級ユーザにのみ勧められます。
    </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--with-pgport=<em class="replaceable"><code>NUMBER</code></em></code></span></dt><dd><p>
<span class="original">
         Set &lt;replaceable&gt;NUMBER&lt;/replaceable&gt; as the default port number for
         server and clients. The default is 5432. The port can always
         be changed later on, but if you specify it here then both
         server and clients will have the same default compiled in,
         which can be very convenient.  Usually the only good reason
         to select a non-default value is if you intend to run multiple
         &lt;productname&gt;PostgreSQL&lt;/productname&gt; servers on the same machine.
</span>
サーバとクライアントのデフォルトのポート番号を<em class="replaceable"><code>NUMBER</code></em>に設定します。
デフォルトは5432です。
このポートは後でいつでも変更することができますが、ここで指定した場合、サーバとクライアントはコンパイル時に同じデフォルト値を持つようになります。
これは非常に便利です。
通常、デフォルト以外の値を選択すべき唯一の理由は、同じマシンで複数の<span class="productname">PostgreSQL</span>を稼働させることです。
        </p></dd><dt><span class="term"><code class="option">--with-krb-srvnam=<em class="replaceable"><code>NAME</code></em></code></span></dt><dd><p>
<span class="original">
         The default name of the Kerberos service principal used
         by GSSAPI.
         &lt;literal&gt;postgres&lt;/literal&gt; is the default. There's usually no
         reason to change this unless you are building for a Windows
         environment, in which case it must be set to upper case
         &lt;literal&gt;POSTGRES&lt;/literal&gt;.
</span>
GSSAPIで使用されるKerberosのサービスプリンシパルのデフォルトの名前です。
デフォルトでは<code class="literal">postgres</code>です。
これを変える理由はWindows環境のために構築しているのでない限り、特にありません。
Windows環境のために構築している場合は大文字の<code class="literal">POSTGRES</code>に設定する必要があります。
        </p></dd><dt><span class="term"><code class="option">--with-segsize=<em class="replaceable"><code>SEGSIZE</code></em></code></span></dt><dd><p>
<span class="original">
         Set the &lt;firstterm&gt;segment size&lt;/firstterm&gt;, in gigabytes.  Large tables are
         divided into multiple operating-system files, each of size equal
         to the segment size.  This avoids problems with file size limits
         that exist on many platforms.  The default segment size, 1 gigabyte,
         is safe on all supported platforms.  If your operating system has
         &lt;quote&gt;largefile&lt;/quote&gt; support (which most do, nowadays), you can use
         a larger segment size.  This can be helpful to reduce the number of
         file descriptors consumed when working with very large tables.
         But be careful not to select a value larger than is supported
         by your platform and the file systems you intend to use.  Other
         tools you might wish to use, such as &lt;application&gt;tar&lt;/application&gt;, could
         also set limits on the usable file size.
         It is recommended, though not absolutely required, that this value
         be a power of 2.
         Note that changing this value breaks on-disk database compatibility,
         meaning you cannot use &lt;command&gt;pg_upgrade&lt;/command&gt; to upgrade to
         a build with a different segment size.
</span>
<em class="firstterm">セグメントサイズ</em>をギガバイト単位で指定します。
大規模なテーブルはこのセグメントサイズと同じサイズの複数のオペレーティングシステムのファイルに分割されます。
これにより多くのプラットフォームで存在するファイルサイズ上限に関する問題を防ぎます。
デフォルトのセグメントサイズは1ギガバイトで、サポートされるすべてのプラットフォームで安全です。
使用するオペレーティングシステムが<span class="quote">「<span class="quote">ラージファイル</span>」</span>をサポートしていれば（最近はほとんどサポートしています）、より大きなセグメントサイズを使用することができます。
非常に大規模なテーブルで作業する時のファイル記述子の消費数を減らすために、これが役に立つでしょう。
しかし、プラットフォーム、または使用予定のファイルシステムでサポートされる値以上に大きな値を指定しないように注意してください。
<span class="application">tar</span>などの、使用したいその他のツールにも使用できるファイルサイズに制限があることがあります。
絶対に必要ではありませんが、この値を2のべき乗にすることを勧めます。
この値を変更するとディスク上でのデータベースの互換性を壊すことに注意してください。すなわち、<code class="command">pg_upgrade</code>を使ってセグメントサイズの異なるビルドにはアップグレードできません。
        </p></dd><dt><span class="term"><code class="option">--with-blocksize=<em class="replaceable"><code>BLOCKSIZE</code></em></code></span></dt><dd><p>
<span class="original">
         Set the &lt;firstterm&gt;block size&lt;/firstterm&gt;, in kilobytes.  This is the unit
         of storage and I/O within tables.  The default, 8 kilobytes,
         is suitable for most situations; but other values may be useful
         in special cases.
         The value must be a power of 2 between 1 and 32 (kilobytes).
         Note that changing this value breaks on-disk database compatibility,
         meaning you cannot use &lt;command&gt;pg_upgrade&lt;/command&gt; to upgrade to
         a build with a different block size.
</span>
キロバイト単位で<em class="firstterm">ブロック容量</em>を設定します。
これはテーブル内でのストレージとI/Oの単位です。
8キロバイトのデフォルトはほとんどの場合適切ですが、特別な場合は他の値が役立ちます。
値は1から32（キロバイト）の範囲の２のべき乗でなければなりません。
この値を変更するとディスク上でのデータベースの互換性を壊すことに注意してください。すなわち、<code class="command">pg_upgrade</code>を使ってブロック容量の異なるビルドにはアップグレードできません。
        </p></dd><dt><span class="term"><code class="option">--with-wal-blocksize=<em class="replaceable"><code>BLOCKSIZE</code></em></code></span></dt><dd><p>
<span class="original">
         Set the &lt;firstterm&gt;WAL block size&lt;/firstterm&gt;, in kilobytes.  This is the unit
         of storage and I/O within the WAL log.  The default, 8 kilobytes,
         is suitable for most situations; but other values may be useful
         in special cases.
         The value must be a power of 2 between 1 and 64 (kilobytes).
         Note that changing this value breaks on-disk database compatibility,
         meaning you cannot use &lt;command&gt;pg_upgrade&lt;/command&gt; to upgrade to
         a build with a different WAL block size.
</span>
キロバイト単位で<em class="firstterm">WALブロック容量</em>を設定します。
これはWALログ内でのストレージとI/Oの単位です。
8キロバイトのデフォルトはほとんどの場合適切ですが、特別な場合は大きめの値が役立ちます。
値は1から64（キロバイト）の範囲の２のべき乗でなければなりません。
この値を変更するとディスク上でのデータベースの互換性を壊すことに注意してください。すなわち、<code class="command">pg_upgrade</code>を使ってWALブロック容量の異なるビルドにはアップグレードできません。
        </p></dd></dl></div></div><div class="sect3" id="CONFIGURE-OPTIONS-DEVEL"><div class="titlepage"><div><div><h4 class="title">17.4.1.6. 開発者向けオプション</h4></div></div></div><span class="original">
    &lt;title&gt;Developer Options&lt;/title&gt;
</span><p>
<span class="original">
     Most of the options in this section are only of interest for
     developing or debugging &lt;productname&gt;PostgreSQL&lt;/productname&gt;.
     They are not recommended for production builds, except
     for &lt;option&gt;&amp;#45;-enable-debug&lt;/option&gt;, which can be useful to enable
     detailed bug reports in the unlucky event that you encounter a bug.
     On platforms supporting DTrace, &lt;option&gt;&amp;#45;-enable-dtrace&lt;/option&gt;
     may also be reasonable to use in production.
</span>
この節のオプションのほとんどは、<span class="productname">PostgreSQL</span>を開発したりデバッグしたりするために重要なものです。
<code class="option">--enable-debug</code>を除いて、実運用での構築には勧められません。<code class="option">--enable-debug</code>はバグに出くわすという不幸な出来事の時に詳細なバグレポートが得られるので有用かもしれません。
DTraceをサポートするプラットフォームでは、<code class="option">--enable-dtrace</code>を実運用で使うことも適当かもしれません。
    </p><p>
<span class="original">
     When building an installation that will be used to develop code inside
     the server, it is recommended to use at least the
     options &lt;option&gt;&amp;#45;-enable-debug&lt;/option&gt;
     and &lt;option&gt;&amp;#45;-enable-cassert&lt;/option&gt;.
</span>
サーバ内でコードの開発に使われるインストレーションを構築する場合には、少なくともオプション<code class="option">--enable-debug</code>と<code class="option">--enable-cassert</code>を使うことをお勧めします。
    </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">--enable-debug</code></span></dt><dd><p>
<span class="original">
         Compiles all programs and libraries with debugging symbols.
         This means that you can run the programs in a debugger
         to analyze problems. This enlarges the size of the installed
         executables considerably, and on non-GCC compilers it usually
         also disables compiler optimization, causing slowdowns. However,
         having the symbols available is extremely helpful for dealing
         with any problems that might arise.  Currently, this option is
         recommended for production installations only if you use GCC.
         But you should always have it on if you are doing development work
         or running a beta version.
</span>
すべてのプログラムとライブラリをデバッグシンボル付きでコンパイルします。
これは、問題を解析するためにデバッガ内でプログラムを実行できることを意味します。
これはインストールする実行形式ファイルのサイズをかなり大きくし、また、GCC以外のコンパイラでは、通常はコンパイラによる最適化が行われなくなりますので、低速になります。
しかし、デバッグシンボルが利用できるということは、発生した問題に対応する時に非常に便利です。
現在のところ、GCC を使用している場合にのみ、稼働用のインストレーションにこのオプションを使用することを推奨します。
しかし、開発作業時やベータ版を実行する時は、常にこれを有効にすべきです。
        </p></dd><dt><span class="term"><code class="option">--enable-cassert</code></span></dt><dd><p>
<span class="original">
         Enables &lt;firstterm&gt;assertion&lt;/firstterm&gt; checks in the server, which test for
         many &lt;quote&gt;cannot happen&lt;/quote&gt; conditions.  This is invaluable for
         code development purposes, but the tests can slow down the
         server significantly.
         Also, having the tests turned on won't necessarily enhance the
         stability of your server!  The assertion checks are not categorized
         for severity, and so what might be a relatively harmless bug will
         still lead to server restarts if it triggers an assertion
         failure.  This option is not recommended for production use, but
         you should have it on for development work or when running a beta
         version.
</span>
サーバにおける、多くの<span class="quote">「<span class="quote">あり得ない</span>」</span>状態をテストする<em class="firstterm">アサーション</em>チェックを有効にします。
これは、プログラムの開発のためには測り知れない価値がありますが、このテストによりサーバはかなり低速になります。
また、このテストを有効にしても、サーバの安定性が向上するとは限りません！
アサーションチェックは、重要度によって分類されていませんので、比較的害がないようなバグでも、アサーション失敗をトリガとした、サーバの再起動が行われてしまいます。
稼働用にこのオプションを使用することは推奨されませんが、開発作業時やベータ版を実行する場合は、これを有効にすべきです。
        </p></dd><dt><span class="term"><code class="option">--enable-tap-tests</code></span></dt><dd><p>
<span class="original">
         Enable tests using the Perl TAP tools.  This requires a Perl
         installation and the Perl module &lt;literal&gt;IPC::Run&lt;/literal&gt;.
         &lt;phrase condition="standalone-ignore"&gt;See &lt;xref linkend="regress-tap"/&gt; for more information.&lt;/phrase&gt;
</span>
Perl TAPツールを使ったテストを有効にします。
これにはPerlのインストールとPerlモジュール<code class="literal">IPC::Run</code>が必要です。
<span class="phrase">詳細は<a class="xref" href="regress-tap.html" title="33.4. TAPテスト">33.4</a>を参照してください。</span>
        </p></dd><dt><span class="term"><code class="option">--enable-depend</code></span></dt><dd><p>
<span class="original">
         Enables automatic dependency tracking.  With this option, the
         makefiles are set up so that all affected object files will
         be rebuilt when any header file is changed.  This is useful
         if you are doing development work, but is just wasted overhead
         if you intend only to compile once and install.  At present,
         this option only works with GCC.
</span>
自動依存関係追跡を有効にします。
このオプションを使用すると、ヘッダファイルが変更された場合に、影響を受ける全てのオブジェクトファイルが再構築されるように、makefile が設定されます。
これは開発作業時には有用ですが、単に一度コンパイルしインストールするだけであれば、これは無駄なオーバーヘッドです。
現在のところ、GCC でのみ、このオプションは動作します。
        </p></dd><dt><span class="term"><code class="option">--enable-coverage</code></span></dt><dd><p>
<span class="original">
         If using GCC, all programs and libraries are compiled with
         code coverage testing instrumentation.  When run, they
         generate files in the build directory with code coverage
         metrics.
         &lt;phrase condition="standalone-ignore"&gt;See &lt;xref linkend="regress-coverage"/&gt;
         for more information.&lt;/phrase&gt; This option is for use only with GCC
         and when doing development work.
</span>
GCCを使用している場合、すべてのプログラムとライブラリはコードカバレッジ試験機構付きでコンパイルされます。
実行すると、これらは構築用ディレクトリ内にコードカバレッジメトリックを持ったファイルを生成します。
<span class="phrase">詳細は<a class="xref" href="regress-coverage.html" title="33.5. テストが網羅する範囲の検証">33.5</a>を参照してください。</span>
このオプションはGCC専用であり、また、開発作業中に使用するためのものです。
        </p></dd><dt><span class="term"><code class="option">--enable-profiling</code></span></dt><dd><p>
<span class="original">
         If using GCC, all programs and libraries are compiled so they
         can be profiled.  On backend exit, a subdirectory will be created
         that contains the &lt;filename&gt;gmon.out&lt;/filename&gt; file containing
         profile data.
         This option is for use only with GCC and when doing development work.
</span>
GCCを使用する場合、すべてのプログラムとライブラリがプロファイリング可能状態でコンパイルされます。
バックエンドの終了時、プロファイリングに使用する<code class="filename">gmon.out</code>ファイルを含むサブディレクトリが作成されます。
このオプションはGCCを使用する場合のみ使用でき、開発作業を行う時に使用します。
        </p></dd><dt><span class="term"><code class="option">--enable-dtrace</code></span></dt><dd><p>
         <a id="id-1.6.4.9.6.10.4.7.2.1.1" class="indexterm"></a>
<span class="original">
         Compiles &lt;productname&gt;PostgreSQL&lt;/productname&gt; with support for the
         dynamic tracing tool DTrace.
         &lt;phrase condition="standalone-ignore"&gt;See &lt;xref linkend="dynamic-trace"/&gt;
         for more information.&lt;/phrase&gt;
</span>
動的追跡ツールDTraceのサポートを有効にして<span class="productname">PostgreSQL</span>をコンパイルします。
<span class="phrase">より詳細な情報は<a class="xref" href="dynamic-trace.html" title="28.5. 動的追跡">28.5</a>を参照してください。</span>
        </p><p>
<span class="original">
         To point to the &lt;command&gt;dtrace&lt;/command&gt; program, the
         environment variable &lt;envar&gt;DTRACE&lt;/envar&gt; can be set.  This
         will often be necessary because &lt;command&gt;dtrace&lt;/command&gt; is
         typically installed under &lt;filename&gt;/usr/sbin&lt;/filename&gt;,
         which might not be in your &lt;envar&gt;PATH&lt;/envar&gt;.
</span>
<code class="command">dtrace</code>プログラムを指し示すために<code class="envar">DTRACE</code>環境変数を設定することができます。
<code class="command">dtrace</code>は通常、<code class="envar">PATH</code>内に存在しない可能性がある<code class="filename">/usr/sbin</code>以下にインストールされていますので、この設定はよく必要になります。
        </p><p>
<span class="original">
         Extra command-line options for the &lt;command&gt;dtrace&lt;/command&gt; program
         can be specified in the environment variable
         &lt;envar&gt;DTRACEFLAGS&lt;/envar&gt;.  On Solaris,
         to include DTrace support in a 64-bit binary, you must specify
         &lt;literal&gt;DTRACEFLAGS="-64"&lt;/literal&gt;.  For example,
         using the GCC compiler:
</span>
さらに<code class="command">dtrace</code>プログラム用のコマンドラインオプションを<code class="envar">DTRACEFLAGS</code>環境変数で指定できます。
Solarisで64ビットバイナリでDTraceをサポートするには、<code class="literal">DTRACEFLAGS="-64"</code>を指定してください。
例えばGCCコンパイラを使用する場合は以下のようにします。
</p><pre class="screen">
./configure CC='gcc -m64' --enable-dtrace DTRACEFLAGS='-64' ...
</pre><p>
<span class="original">
         Using Sun's compiler:
</span>
Sunのコンパイラを使用する場合は以下のようにします。
</p><pre class="screen">
./configure CC='/opt/SUNWspro/bin/cc -xtarget=native64' --enable-dtrace DTRACEFLAGS='-64' ...
</pre><p>
        </p></dd></dl></div></div></div><div class="sect2" id="CONFIGURE-ENVVARS"><div class="titlepage"><div><div><h3 class="title">17.4.2. <code class="filename">configure</code>環境変数</h3></div></div></div><span class="original">
   &lt;title&gt;&lt;filename&gt;configure&lt;/filename&gt; Environment Variables&lt;/title&gt;
</span><a id="id-1.6.4.9.7.2" class="indexterm"></a><a id="id-1.6.4.9.7.3" class="indexterm"></a><p>
<span class="original">
     In addition to the ordinary command-line options described above,
     &lt;filename&gt;configure&lt;/filename&gt; responds to a number of environment
     variables.
     You can specify environment variables on the
     &lt;filename&gt;configure&lt;/filename&gt; command line, for example:
</span>
上記の通常のコマンドラインオプションに加えて、<code class="filename">configure</code>は数多くの環境変数に対応します。
次のようにして、<code class="filename">configure</code>コマンドラインに環境変数を指定できます。
</p><pre class="screen">
<strong class="userinput"><code>./configure CC=/opt/bin/gcc CFLAGS='-O2 -pipe'</code></strong>
</pre><p>
<span class="original">
     In this usage an environment variable is little different from a
     command-line option.
     You can also set such variables beforehand:
</span>
この使い方では、環境変数はコマンドラインオプションとは少し異なります。
あらかじめそのような変数を設定しておくこともできます。
</p><pre class="screen">
<strong class="userinput"><code>export CC=/opt/bin/gcc</code></strong>
<strong class="userinput"><code>export CFLAGS='-O2 -pipe'</code></strong>
<strong class="userinput"><code>./configure</code></strong>
</pre><p>
<span class="original">
     This usage can be convenient because many programs' configuration
     scripts respond to these variables in similar ways.
</span>
多くのプログラムの設定スクリプトは似たようにこの変数に対応しますので、この使い方は便利でしょう。
    </p><p>
<span class="original">
     The most commonly used of these environment variables are
     &lt;envar&gt;CC&lt;/envar&gt; and &lt;envar&gt;CFLAGS&lt;/envar&gt;.
     If you prefer a C compiler different from the one
     &lt;filename&gt;configure&lt;/filename&gt; picks, you can set the
     variable &lt;envar&gt;CC&lt;/envar&gt; to the program of your choice.
     By default, &lt;filename&gt;configure&lt;/filename&gt; will pick
     &lt;filename&gt;gcc&lt;/filename&gt; if available, else the platform's
     default (usually &lt;filename&gt;cc&lt;/filename&gt;).  Similarly, you can override the
     default compiler flags if needed with the &lt;envar&gt;CFLAGS&lt;/envar&gt; variable.
</span>
これらの環境変数の中で最も一般的に使用されているのは、<code class="envar">CC</code>と<code class="envar">CFLAGS</code>です。
<code class="filename">configure</code>が選ぶものと違うCコンパイラを使いたいという場合には、<code class="envar">CC</code> 環境変数をその使用したいプログラムに設定することができます。
デフォルトでは、<code class="filename">configure</code>は利用できるのであれば<code class="filename">gcc</code>を、利用できなければプラットフォームのデフォルト（通常<code class="filename">cc</code>）を選択します。
同様に、デフォルトのコンパイラフラグは必要に応じて<code class="envar">CFLAGS</code>変数で上書きすることもできます。
    </p><p>
<span class="original">
     Here is a list of the significant variables that can be set in
     this manner:
</span>
以下は、この方式で設定可能な重要な環境変数の一覧です。

     </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="envar">BISON</code></span></dt><dd><p>
<span class="original">
         Bison program
</span>
Bisonプログラム。
        </p></dd><dt><span class="term"><code class="envar">CC</code></span></dt><dd><p>
<span class="original">
         C compiler
</span>
Cコンパイラ。
        </p></dd><dt><span class="term"><code class="envar">CFLAGS</code></span></dt><dd><p>
<span class="original">
         options to pass to the C compiler
</span>
Cコンパイラに渡すオプション。
        </p></dd><dt><span class="term"><code class="envar">CLANG</code></span></dt><dd><p>
<span class="original">
         path to &lt;command&gt;clang&lt;/command&gt; program used to process source code
         for inlining when compiling with &lt;literal&gt;&amp;#45;-with-llvm&lt;/literal&gt;
</span>
<code class="literal">--with-llvm</code>でコンパイルされた場合、ソースコードのインライン展開を処理するために使われる<code class="command">clang</code>プログラムへのパス。
        </p></dd><dt><span class="term"><code class="envar">CPP</code></span></dt><dd><p>
<span class="original">
         C preprocessor
</span>
Cプリプロセッサ。
        </p></dd><dt><span class="term"><code class="envar">CPPFLAGS</code></span></dt><dd><p>
<span class="original">
         options to pass to the C preprocessor
</span>
Cプリプロセッサに渡すオプション。
        </p></dd><dt><span class="term"><code class="envar">CXX</code></span></dt><dd><p>
<span class="original">
         C++ compiler
</span>
C++コンパイラ。
        </p></dd><dt><span class="term"><code class="envar">CXXFLAGS</code></span></dt><dd><p>
<span class="original">
         options to pass to the C++ compiler
</span>
C++コンパイラに渡すオプション。
        </p></dd><dt><span class="term"><code class="envar">DTRACE</code></span></dt><dd><p>
<span class="original">
         location of the &lt;command&gt;dtrace&lt;/command&gt; program
</span>
<code class="command">dtrace</code>プログラムの場所。
        </p></dd><dt><span class="term"><code class="envar">DTRACEFLAGS</code></span></dt><dd><p>
<span class="original">
         options to pass to the &lt;command&gt;dtrace&lt;/command&gt; program
</span>
<code class="command">dtrace</code>プログラムに渡すオプション。
        </p></dd><dt><span class="term"><code class="envar">FLEX</code></span></dt><dd><p>
<span class="original">
         Flex program
</span>
Flexプログラム。
        </p></dd><dt><span class="term"><code class="envar">LDFLAGS</code></span></dt><dd><p>
<span class="original">
         options to use when linking either executables or shared libraries
</span>
実行ファイルや共有ライブラリにリンクする場合に使用するオプション。
        </p></dd><dt><span class="term"><code class="envar">LDFLAGS_EX</code></span></dt><dd><p>
<span class="original">
         additional options for linking executables only
</span>
実行ファイルのリンク時のみに追加されるオプション。
        </p></dd><dt><span class="term"><code class="envar">LDFLAGS_SL</code></span></dt><dd><p>
<span class="original">
         additional options for linking shared libraries only
</span>
共有ライブラリのリンク時のみに追加されるオプション。
        </p></dd><dt><span class="term"><code class="envar">LLVM_CONFIG</code></span></dt><dd><p>
<span class="original">
         &lt;command&gt;llvm-config&lt;/command&gt; program used to locate the
         &lt;productname&gt;LLVM&lt;/productname&gt; installation
</span>
<span class="productname">LLVM</span>インストレーションの場所を特定するために使用する<code class="command">llvm-config</code>プログラム。
        </p></dd><dt><span class="term"><code class="envar">MSGFMT</code></span></dt><dd><p>
<span class="original">
         &lt;command&gt;msgfmt&lt;/command&gt; program for native language support
</span>
多言語サポート（NLS）用の<code class="command">msgfmt</code>プログラム。
        </p></dd><dt><span class="term"><code class="envar">PERL</code></span></dt><dd><p>
<span class="original">
         Perl interpreter program.  This will be used to determine the
         dependencies for building PL/Perl.  The default is
         &lt;command&gt;perl&lt;/command&gt;.
</span>
Perlインタプリタプログラム。
これは、PL/Perl構築に関する依存性を決定するために使用されます。
デフォルトは<code class="command">perl</code>です。
        </p></dd><dt><span class="term"><code class="envar">PYTHON</code></span></dt><dd><p>
<span class="original">
         Python interpreter program.  This will be used to determine the
         dependencies for building PL/Python.  If this is not set, the
         following are probed in this order:
         &lt;literal&gt;python3 python&lt;/literal&gt;.
</span>
Pythonインタプリタプログラム。
これは、PL/Python構築に関する依存性を決定するために使用されます。
設定されていなければ、<code class="literal">python3 python</code>の順で調べられます。
        </p></dd><dt><span class="term"><code class="envar">TCLSH</code></span></dt><dd><p>
<span class="original">
         Tcl interpreter program.  This will be used to
         determine the dependencies for building PL/Tcl.
         If this is not set, the following are probed in this
         order: &lt;literal&gt;tclsh tcl tclsh8.6 tclsh86 tclsh8.5 tclsh85
         tclsh8.4 tclsh84&lt;/literal&gt;.
</span>
Tclインタプリタプログラム。
これは、PL/Tcl構築に関する依存性を決定するために使用され、Tclスクリプト内を置き換えます。
設定されていなければ、以下の順で調べられます。<code class="literal">tclsh tcl tclsh8.6 tclsh86 tclsh8.5 tclsh85 tclsh8.4 tclsh84</code>
        </p></dd><dt><span class="term"><code class="envar">XML2_CONFIG</code></span></dt><dd><p>
<span class="original">
         &lt;command&gt;xml2-config&lt;/command&gt; program used to locate the
         libxml2 installation
</span>
libxml2インストレーションの場所を特定するために使用する<code class="command">xml2-config</code>プログラムです。
        </p></dd></dl></div><p>
    </p><p>
<span class="original">
     Sometimes it is useful to add compiler flags after-the-fact to the set
     that were chosen by &lt;filename&gt;configure&lt;/filename&gt;.  An important example is
     that &lt;application&gt;gcc&lt;/application&gt;'s &lt;option&gt;-Werror&lt;/option&gt; option cannot be included
     in the &lt;envar&gt;CFLAGS&lt;/envar&gt; passed to &lt;filename&gt;configure&lt;/filename&gt;, because
     it will break many of &lt;filename&gt;configure&lt;/filename&gt;'s built-in tests.  To add
     such flags, include them in the &lt;envar&gt;COPT&lt;/envar&gt; environment variable
     while running &lt;filename&gt;make&lt;/filename&gt;.  The contents of &lt;envar&gt;COPT&lt;/envar&gt;
     are added to both the &lt;envar&gt;CFLAGS&lt;/envar&gt; and &lt;envar&gt;LDFLAGS&lt;/envar&gt;
     options set up by &lt;filename&gt;configure&lt;/filename&gt;.  For example, you could do
</span>
<code class="filename">configure</code>が選んだコンパイラフラグに対して、事後にフラグを追加することが有用な場合があります。
重要な例は、<code class="filename">configure</code>に渡す<code class="envar">CFLAGS</code>に<span class="application">gcc</span>の<code class="option">-Werror</code>オプションを含められないことです。なぜなら、そうすると<code class="filename">configure</code>の組み込みテストの多くが失敗するからです。
そのようなフラグを追加するには、<code class="filename">make</code>を実行する時に<code class="envar">COPT</code>環境変数に含めてください。
<code class="filename">configure</code>で設定された<code class="envar">CFLAGS</code>オプションと<code class="envar">LDFLAGS</code>オプションの両方に、<code class="envar">COPT</code>の内容が追加されます。
例えば、以下のようにします。
</p><pre class="screen">
<strong class="userinput"><code>make COPT='-Werror'</code></strong>
</pre><p>
<span class="original">
     or
</span>
または
</p><pre class="screen">
<strong class="userinput"><code>export COPT='-Werror'</code></strong>
<strong class="userinput"><code>make</code></strong>
</pre><p>
    </p><div class="note"><h3 class="title">注記</h3><p>
<span class="original">
      If using GCC, it is best to build with an optimization level of
      at least &lt;option&gt;-O1&lt;/option&gt;, because using no optimization
      (&lt;option&gt;-O0&lt;/option&gt;) disables some important compiler warnings (such
      as the use of uninitialized variables).  However, non-zero
      optimization levels can complicate debugging because stepping
      through compiled code will usually not match up one-to-one with
      source code lines.  If you get confused while trying to debug
      optimized code, recompile the specific files of interest with
      &lt;option&gt;-O0&lt;/option&gt;.  An easy way to do this is by passing an option
      to &lt;application&gt;make&lt;/application&gt;: &lt;command&gt;make PROFILE=-O0 file.o&lt;/command&gt;.
</span>
GCCを使う場合、少なくとも<code class="option">-O1</code>レベルの最適化で構築することがベストです。なぜなら、何の最適化もしない(<code class="option">-O0</code>) と、重要なコンパイル警告(初期化されていない変数の使用など)が無効になるからです。
しかし、最適化を行うことでソースコードとコンパイルされたコードのステップは1対1とはならなくなるため、デバッグは複雑になるかもしれません。
最適化されたコードのデバッグに悩まされてしまう場合は、関心のある特定のファイルに対して<code class="option">-O0</code>で再コンパイルしてください。
これを実行するための簡単な方法は、<code class="command">make PROFILE=-O0 file.o</code>のように、<span class="application">make</span>経由でオプションを渡すことです。
     </p><p>
<span class="original">
      The &lt;envar&gt;COPT&lt;/envar&gt; and &lt;envar&gt;PROFILE&lt;/envar&gt; environment variables are
      actually handled identically by the &lt;productname&gt;PostgreSQL&lt;/productname&gt;
      makefiles.  Which to use is a matter of preference, but a common habit
      among developers is to use &lt;envar&gt;PROFILE&lt;/envar&gt; for one-time flag
      adjustments, while &lt;envar&gt;COPT&lt;/envar&gt; might be kept set all the time.
</span>
<code class="envar">COPT</code>と<code class="envar">PROFILE</code>の環境変数は、<span class="productname">PostgreSQL</span>のmakefileでは実際には全く同一に扱われます。
どちらを使うかは好みの問題ですが、開発者の一般的な習慣では、一時的にフラグを調整するには<code class="envar">PROFILE</code>を使い、永続的に保持するものには<code class="envar">COPT</code>を使います。
     </p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="install-getsource.html" title="17.3. ソースの入手">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="installation.html" title="第17章 ソースコードからインストール">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="install-post.html" title="17.5. インストール後の設定作業">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">17.3. ソースの入手 </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 15.0文書">ホーム</a></td><td width="40%" align="right" valign="top"> 17.5. インストール後の設定作業</td></tr></table></div></body></html>