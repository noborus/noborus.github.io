<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>53.4. pg_amop</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="catalog-pg-am.html" title="53.3. pg_am" /><link rel="next" href="catalog-pg-amproc.html" title="53.5. pg_amproc" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 16.0文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="catalogs.html" title="第53章 システムカタログ">第53章 システムカタログ</a></td><td width="20%" align="right"></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="catalog-pg-am.html" title="53.3. pg_am">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="catalogs.html" title="第53章 システムカタログ">上へ</a></td><td width="60%" align="center">53.4. <code class="structname">pg_amop</code></td><td width="20%" align="right"> <a accesskey="n" href="catalog-pg-amproc.html" title="53.5. pg_amproc">次へ</a></td></tr></table><hr /></div><div class="sect1" id="CATALOG-PG-AMOP"><div class="titlepage"><div><div><h2 class="title" style="clear: both">53.4. <code class="structname">pg_amop</code> <a href="#CATALOG-PG-AMOP" class="id_link">#</a></h2></div></div></div><a id="id-1.10.4.6.2" class="indexterm"></a><p>
<!--
   The catalog <structname>pg_amop</structname> stores information about
   operators associated with access method operator families.  There is one
   row for each operator that is a member of an operator family.  A family
   member can be either a <firstterm>search</firstterm> operator or an
   <firstterm>ordering</firstterm> operator.  An operator
   can appear in more than one family, but cannot appear in more than one
   search position nor more than one ordering position within a family.
   (It is allowed, though unlikely, for an operator to be used for both
   search and ordering purposes.)
-->
<code class="structname">pg_amop</code>カタログにはアクセスメソッド演算子の集合に関連付けられた演算子の情報が格納されています。
演算子族のメンバである演算子毎に１つの行が存在します。
演算子族のメンバは<em class="firstterm">検索</em>演算子または<em class="firstterm">順序付け</em>演算子のいずれかになることができます。
演算子は1つ以上の演算子族に現れますが、演算子族の中では検索でも順序付けでも複数現れることはありません。
（ほとんどありませんが、ある演算子が検索目的と順序付け目的の両方で使用されることが許されます。）
  </p><div class="table" id="id-1.10.4.6.4"><p class="title"><strong>表53.4 <code class="structname">pg_amop</code>の列</strong></p><div class="table-contents"><!--
   <title><structname>pg_amop</structname> Columns</title>
--><table class="table" summary="pg_amopの列" border="1"><colgroup><col /></colgroup><thead><tr><th class="catalog_table_entry"><p class="column_definition">
<!--
       Column Type
-->
列 型
      </p>
      <p>
<!--
       Description
-->
説明
      </p></th></tr></thead><tbody><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">oid</code> <code class="type">oid</code>
      </p>
      <p>
<!--
       Row identifier
-->
行識別子
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">amopfamily</code> <code class="type">oid</code>
<!--
       (references <link linkend="catalog-pg-opfamily"><structname>pg_opfamily</structname></link>.<structfield>oid</structfield>)
-->
（参照先 <a class="link" href="catalog-pg-opfamily.html" title="53.35. pg_opfamily"><code class="structname">pg_opfamily</code></a>.<code class="structfield">oid</code>）
      </p>
      <p>
<!--
       The operator family this entry is for
-->
この項目用の演算子族
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">amoplefttype</code> <code class="type">oid</code>
<!--
       (references <link linkend="catalog-pg-type"><structname>pg_type</structname></link>.<structfield>oid</structfield>)
-->
（参照先 <a class="link" href="catalog-pg-type.html" title="53.64. pg_type"><code class="structname">pg_type</code></a>.<code class="structfield">oid</code>）
      </p>
      <p>
<!--
       Left-hand input data type of operator
-->
演算子の左辺側のデータ型
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">amoprighttype</code> <code class="type">oid</code>
<!--
       (references <link linkend="catalog-pg-type"><structname>pg_type</structname></link>.<structfield>oid</structfield>)
-->
（参照先 <a class="link" href="catalog-pg-type.html" title="53.64. pg_type"><code class="structname">pg_type</code></a>.<code class="structfield">oid</code>）
      </p>
      <p>
<!--
       Right-hand input data type of operator
-->
演算子の右辺側のデータ型
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">amopstrategy</code> <code class="type">int2</code>
      </p>
      <p>
<!--
       Operator strategy number
-->
演算子の戦略番号
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">amoppurpose</code> <code class="type">char</code>
      </p>
      <p>
<!--
       Operator purpose, either <literal>s</literal> for search or
       <literal>o</literal> for ordering
-->
演算子の目的。 <code class="literal">s</code> = 検索用、 <code class="literal">o</code> = 順序付け用
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">amopopr</code> <code class="type">oid</code>
<!--
       (references <link linkend="catalog-pg-operator"><structname>pg_operator</structname></link>.<structfield>oid</structfield>)
-->
（参照先 <a class="link" href="catalog-pg-operator.html" title="53.34. pg_operator"><code class="structname">pg_operator</code></a>.<code class="structfield">oid</code>）
      </p>
      <p>
<!--
       OID of the operator
-->
演算子のOID
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">amopmethod</code> <code class="type">oid</code>
<!--
       (references <link linkend="catalog-pg-am"><structname>pg_am</structname></link>.<structfield>oid</structfield>)
-->
（参照先 <a class="link" href="catalog-pg-am.html" title="53.3. pg_am"><code class="structname">pg_am</code></a>.<code class="structfield">oid</code>）
      </p>
      <p>
<!--
       Index access method operator family is for
-->
演算子族用のインデックスアクセスメソッド
      </p></td></tr><tr><td class="catalog_table_entry"><p class="column_definition">
       <code class="structfield">amopsortfamily</code> <code class="type">oid</code>
<!--
       (references <link linkend="catalog-pg-opfamily"><structname>pg_opfamily</structname></link>.<structfield>oid</structfield>)
-->
（参照先 <a class="link" href="catalog-pg-opfamily.html" title="53.35. pg_opfamily"><code class="structname">pg_opfamily</code></a>.<code class="structfield">oid</code>）
      </p>
      <p>
<!--
       The B-tree operator family this entry sorts according to, if an
       ordering operator; zero if a search operator
-->
順序付け用の演算子の場合、この項目のソートが従うB-tree演算子族。検索用演算子であればゼロ
      </p></td></tr></tbody></table></div></div><br class="table-break" /><p>
<!--
   A <quote>search</quote> operator entry indicates that an index of this operator
   family can be searched to find all rows satisfying
   <literal>WHERE</literal>
   <replaceable>indexed_column</replaceable>
   <replaceable>operator</replaceable>
   <replaceable>constant</replaceable>.
   Obviously, such an operator must return <type>boolean</type>, and its left-hand input
   type must match the index's column data type.
-->
<span class="quote">「<span class="quote">検索</span>」</span>用演算子の項目は、この演算子族のインデックスを<code class="literal">WHERE</code> <em class="replaceable"><code>indexed_column</code></em> <em class="replaceable"><code>operator</code></em> <em class="replaceable"><code>constant</code></em>を満たすすべての行を見つけるための検索に使用できることを示します。
いうまでもありませんが、こうした演算子は<code class="type">論理型</code>を返さなければならず、また左辺の入力型はインデックス列のデータ型に一致しなければなりません。
  </p><p>
<!--
   An <quote>ordering</quote> operator entry indicates that an index of this
   operator family can be scanned to return rows in the order represented by
   <literal>ORDER BY</literal>
   <replaceable>indexed_column</replaceable>
   <replaceable>operator</replaceable>
   <replaceable>constant</replaceable>.
   Such an operator could return any sortable data type, though again
   its left-hand input type must match the index's column data type.
   The exact semantics of the <literal>ORDER BY</literal> are specified by the
   <structfield>amopsortfamily</structfield> column, which must reference
   a B-tree operator family for the operator's result type.
-->
<span class="quote">「<span class="quote">順序付け</span>」</span>用演算子の項目は、この演算子族のインデックスを<code class="literal">ORDER BY</code> <em class="replaceable"><code>indexed_column</code></em> <em class="replaceable"><code>operator</code></em> <em class="replaceable"><code>constant</code></em>で表される順序で行を返すためのスキャンに使用できることを示します。
こうした演算子の左辺の入力型はインデックス列のデータ型に一致しなければならないことは同じですが、任意のソート可能なデータ型を返すことができます。
<code class="literal">ORDER BY</code>の正確な意味は、この演算子の結果型用のB-tree演算子族を参照する必要がある<code class="structfield">amopsortfamily</code>列により指定されます。
  </p><div class="note"><h3 class="title">注記</h3><p>
<!--
    At present, it's assumed that the sort order for an ordering operator
    is the default for the referenced operator family, i.e., <literal>ASC NULLS
    LAST</literal>.  This might someday be relaxed by adding additional columns
    to specify sort options explicitly.
-->
現在、順序付け演算子のソート順は参照される演算子族のデフォルト、つまり<code class="literal">ASC NULLS LAST</code>であると仮定されています。
これは将来、ソートオプションを明示的に指定する追加列を加えることで緩和されるかもしれません。
   </p></div><p>
<!--
   An entry's <structfield>amopmethod</structfield> must match the
   <structfield>opfmethod</structfield> of its containing operator family (including
   <structfield>amopmethod</structfield> here is an intentional denormalization of the
   catalog structure for performance reasons).  Also,
   <structfield>amoplefttype</structfield> and <structfield>amoprighttype</structfield> must match
   the <structfield>oprleft</structfield> and <structfield>oprright</structfield> fields of the
   referenced <link linkend="catalog-pg-operator"><structname>pg_operator</structname></link> entry.
-->
項目の<code class="structfield">amopmethod</code>は、項目を含む演算子族の<code class="structfield">opfmethod</code>に一致しなくてはいけません（ここでの<code class="structfield">amopmethod</code>は、性能上の理由からカタログ構造を意図的に非正規化したものも含みます）。
また、<code class="structfield">amoplefttype</code>と<code class="structfield">amoprighttype</code>は、参照されている<a class="link" href="catalog-pg-operator.html" title="53.34. pg_operator"><code class="structname">pg_operator</code></a>項目の<code class="structfield">oprleft</code>と<code class="structfield">oprright</code>に一致しなくてはいけません。
  </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="catalog-pg-am.html" title="53.3. pg_am">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="catalogs.html" title="第53章 システムカタログ">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="catalog-pg-amproc.html" title="53.5. pg_amproc">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">53.3. <code class="structname">pg_am</code> </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="PostgreSQL 16.0文書">ホーム</a></td><td width="40%" align="right" valign="top"> 53.5. <code class="structname">pg_amproc</code></td></tr></table></div></body></html>