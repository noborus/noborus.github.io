<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>E.311. リリース7.4</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="release-7-4-1.html" title="E.310. リリース7.4.1" /><link rel="next" href="release-7-3-21.html" title="E.312. リリース7.3.21" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.1文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="release.html" title="付録E リリースノート">付録E リリースノート</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 11.1 &#10;                      release-7-4.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="release-7-4-1.html" title="E.310. リリース7.4.1">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="release.html" title="付録E リリースノート">上へ</a></td><td width="60%" align="center">E.311. リリース7.4</td><td width="20%" align="right"> <a accesskey="n" href="release-7-3-21.html" title="E.312. リリース7.3.21">次へ</a></td></tr></table><hr /></div><div class="sect1" id="RELEASE-7-4"><div class="titlepage"><div><div><h2 class="title" style="clear: both">E.311. リリース7.4</h2></div></div></div><span class="original">
 &lt;title&gt;Release 7.4&lt;/title&gt;
</span><p><span class="original">
  &lt;title&gt;Release date:&lt;/title&gt;
</span><strong>リリース日: </strong>2003-11-17</p><div class="sect2" id="id-1.11.6.315.3"><div class="titlepage"><div><div><h3 class="title">E.311.1. 概要</h3></div></div></div><span class="original">
  &lt;title&gt;Overview&lt;/title&gt;
</span><p>
<span class="original">
   Major changes in this release:
</span>
このリリースの大きな変更点を以下に示します。
  </p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="original">
     &lt;literal&gt;IN&lt;/literal&gt; / &lt;literal&gt;NOT IN&lt;/literal&gt; subqueries are
     now much more efficient
</span>
<code class="literal">IN</code>/<code class="literal">NOT IN</code> 副問い合わせが非常に効率的になりました
    </span></dt><dd><p>
<span class="original">
      In previous releases, &lt;literal&gt;IN&lt;/literal&gt;/&lt;literal&gt;NOT
      IN&lt;/literal&gt; subqueries were joined to the upper query by
      sequentially scanning the subquery looking for a match.  The
      7.4 code uses the same sophisticated techniques used by
      ordinary joins and so is much faster.  An
      &lt;literal&gt;IN&lt;/literal&gt; will now usually be as fast as or faster
      than an equivalent &lt;literal&gt;EXISTS&lt;/literal&gt; subquery; this
      reverses the conventional wisdom that applied to previous
      releases.
</span>
以前のリリースでは、<code class="literal">IN</code>/<code class="literal">NOT IN</code> 副問い合わせは、シーケンシャルスキャンによって副問い合わせと一致する上位の問い合わせと結合されていました。
7.4のコードでは、通常の結合で使用される洗練された技術と同じものを使用し、そのため、非常に高速になりました。
これで <code class="literal">IN</code>は通常、等価な<code class="literal">EXISTS</code> と同程度の速度、場合によってはより高速になりました。
これにより、これまでのリリースにおいて行なっていた慣習的常識はくつがえりました。
     </p></dd><dt><span class="term">
<span class="original">
     Improved &lt;literal&gt;GROUP BY&lt;/literal&gt; processing by using hash buckets
</span>
ハッシュバケットを使用した<code class="literal">GROUP BY</code>処理の改良
    </span></dt><dd><p>
<span class="original">
      In previous releases, rows to be grouped had to be sorted
      first.  The 7.4 code can do &lt;literal&gt;GROUP BY&lt;/literal&gt;
      without sorting, by accumulating results into a hash table
      with one entry per group.  It will still use the sort
      technique, however, if the hash table is estimated to be too
      large to fit in &lt;varname&gt;sort_mem&lt;/varname&gt;.
</span>
以前のリリースでは、グループ化される行が最初にソートされました。
7.4のコードでは、グループ当たり1項目で、ハッシュテーブルに結果を積むことによって、ソートを行なわずに<code class="literal">GROUP BY</code>ができるようになりました。
しかし、ハッシュテーブルが<code class="varname">sort_mem</code>に収まるには大き過ぎると推定した場合、まだソート技術を使用します。
     </p></dd><dt><span class="term">
<span class="original">
     New multikey hash join capability
</span>
複数キーによるハッシュ結合能力(新規)
    </span></dt><dd><p>
<span class="original">
      In previous releases, hash joins could only occur on single
      keys.  This release allows multicolumn hash joins.
</span>
以前のリリースでは、ハッシュ結合は1つのキー上でのみ存在できました。
このリリースでは、複数列に対するハッシュ結合が可能です。
     </p></dd><dt><span class="term">
<span class="original">
     Queries using the explicit &lt;literal&gt;JOIN&lt;/literal&gt; syntax are
     now better optimized
</span>
明示的な<code class="literal">JOIN</code>構文を使用した問い合わせはより良く最適化されるようになりました
    </span></dt><dd><p>
<span class="original">
      Prior releases evaluated queries using the explicit
      &lt;literal&gt;JOIN&lt;/literal&gt; syntax only in the order implied by
      the syntax. 7.4 allows full optimization of these queries,
      meaning the optimizer considers all possible join orderings
      and chooses the most efficient.  Outer joins, however, must
      still follow the declared ordering.
</span>
以前のリリースでは、明示的な<code class="literal">JOIN</code>構文を使用する問い合わせを、単に、
構文によって示される順番で評価していました。
7.4ではこれらの問い合わせを完全に最適化できるようになりました。
つまり、オプティマイザは全ての結合順序を考慮し、最も効率的なものを選択します。
しかし、外部結合はまだ宣言順に従わなければなりません。
     </p></dd><dt><span class="term">
<span class="original">
     Faster and more powerful regular expression code
</span>
より強力、より高速な正規表現コード
    </span></dt><dd><p>
<span class="original">
      The entire regular expression module has been replaced with a
      new version by Henry Spencer, originally written for Tcl.  The
      code greatly improves performance and supports several flavors
      of regular expressions.
</span>
正規表現モジュール全体が、もともとはTclで作成されたHenry Spencer氏による新しいバージョンに置き換えられました。
このコードではかなり性能が向上し、様々な種類の正規表現をサポートしています。
     </p></dd><dt><span class="term">
<span class="original">
     Function-inlining for simple SQL functions
</span>
簡単なSQL関数のインライン関数
    </span></dt><dd><p>
<span class="original">
      Simple SQL functions can now be inlined by including their SQL
      in the main query.  This improves performance by eliminating
      per-call overhead.  That means simple SQL functions now
      behave like macros.
</span>
簡単なSQL関数を元の問い合わせ内のSQLに含めることによりインライン化できるようになりました。
呼び出しに伴うオーバーヘッドを抑制することにより、性能が向上します。
つまり、簡単なSQL関数がマクロのように動作するようになりました。
     </p></dd><dt><span class="term">
<span class="original">
     Full support for IPv6 connections and IPv6 address data types
</span>
完全なIPv6接続とIPv6アドレスデータ型のサポート
    </span></dt><dd><p>
<span class="original">
      Previous releases allowed only IPv4 connections, and the IP
      data types only supported IPv4 addresses. This release adds
      full IPv6 support in both of these areas.
</span>
以前のリリースでは、IPv4接続のみが可能、そしてIPデータ型としてはIPv4アドレスのみをサポートしていました。
このリリースでは両者に関して完全なIPv6をサポートしています。
     </p></dd><dt><span class="term">
<span class="original">
     Major improvements in SSL performance and reliability
</span>
SSLの性能と信頼性の大きな改良
    </span></dt><dd><p>
<span class="original">
      Several people very familiar with the SSL API have overhauled
      our SSL code to improve SSL key negotiation and error
      recovery.
</span>
SSL APIに非常に詳しい方々により、SSLコードは書き直され、SSLキー調停やエラー復旧が改良されました。
     </p></dd><dt><span class="term">
<span class="original">
     Make free space map efficiently reuse empty index pages,
     and other free space management improvements
</span>
空き領域マップが効率的に空インデックスページを再利用するようにしました。また、他の空き領域の管理を改良しました。
    </span></dt><dd><p>
<span class="original">
      In previous releases, B-tree index pages that were left empty
      because of deleted rows could only be reused by rows with
      index values similar to the rows originally indexed on that
      page. In 7.4, &lt;command&gt;VACUUM&lt;/command&gt; records empty index
      pages and allows them to be reused for any future index rows.
</span>
以前のリリースでは、削除行によって空のまま残されたB-treeインデックスページは、元々そのページにインデックス付けされた行に近いインデックス値を持つ行によってのみ再利用されました。
7.4では、<code class="command">VACUUM</code>は空のインデックスページを記録し、それらを将来のインデックス行用に再利用することができます。
     </p></dd><dt><span class="term">
<span class="original">
     SQL-standard information schema
</span>
標準SQLの情報スキーマ
    </span></dt><dd><p>
<span class="original">
      The information schema provides a standardized and stable way
      to access information about the schema objects defined in a
      database.
</span>
情報スキーマは、データベース内で定義されたスキーマオブジェクトについての情報にアクセスするための、標準化され、安定した方法を提供します。
     </p></dd><dt><span class="term">
<span class="original">
     Cursors conform more closely to the SQL standard
</span>
カーソルはより標準SQLに近く従うようになりました
    </span></dt><dd><p>
<span class="original">
      The commands &lt;command&gt;FETCH&lt;/command&gt; and
      &lt;command&gt;MOVE&lt;/command&gt; have been overhauled to conform more
      closely to the SQL standard.
</span>
<code class="command">FETCH</code>と<code class="command">MOVE</code>コマンドは、より標準SQLに近く従うよう改良されました。
     </p></dd><dt><span class="term">
<span class="original">
     Cursors can exist outside transactions
</span>
カーソルがトランザクションの外側でも存在できるようになりました
    </span></dt><dd><p>
<span class="original">
      These cursors are also called holdable cursors.
</span>
これらのカーソルは保持可能カーソルとも呼ばれます。
     </p></dd><dt><span class="term">
<span class="original">
     New client-to-server protocol
</span>
新しいクライアントからサーバへのプロトコル
    </span></dt><dd><p>
<span class="original">
      The new protocol adds error codes, more status information,
      faster startup, better support for binary data transmission,
      parameter values separated from SQL commands, prepared
      statements available at the protocol level, and cleaner
      recovery from &lt;command&gt;COPY&lt;/command&gt; failures.  The older
      protocol is still supported by both server and clients.
</span>
新しいプロトコルでは、エラーコード、より多くの状況情報、より高速な起動、より優れたバイナリデータの通信、SQLコマンドとパラメータ値の分離、プロトコルレベルで利用できる準備された文が付与されました。また、<code class="command">COPY</code>失敗時の復旧がより明確になりました。
昔のプロトコルもまだ、サーバ、クライアントともサポートされています。
     </p></dd><dt><span class="term">
<span class="original">
     &lt;application&gt;libpq&lt;/application&gt; and
     &lt;application&gt;ECPG&lt;/application&gt; applications are now fully
     thread-safe
</span>
<span class="application">libpq</span> と <span class="application">ECPG</span> アプリケーションが完全にスレッドセーフになりました
    </span></dt><dd><p>
<span class="original">
      While previous &lt;application&gt;libpq&lt;/application&gt; releases
      already supported threads, this release improves thread safety
      by fixing some non-thread-safe code that was used during
      database connection startup.  The &lt;command&gt;configure&lt;/command&gt;
      option &lt;option&gt;&amp;#045;&amp;#045;enable-thread-safety&lt;/option&gt; must be used to
      enable this feature.
</span>
以前の<span class="application">libpq</span> のリリースでも既にスレッドをサポートしていましたが、このリリースでは、データベース接続開始期間に使用されていたスレッドセーフでないいくつかのコードを修正し、スレッドセーフに改良されました。
この機能を有効にするには、<code class="command">configure</code>の<code class="option">--enable-thread-safety</code>を使用しなければなりません。
     </p></dd><dt><span class="term">
<span class="original">
     New version of full-text indexing
</span>
新しいバージョンのフルテキストインデックス
    </span></dt><dd><p>
<span class="original">
      A new full-text indexing suite is available in
      &lt;filename&gt;contrib/tsearch2&lt;/filename&gt;.
</span>
<code class="filename">contrib/tsearch2</code>にある新しいフルテキストインデックス手法が利用可能です。
     </p></dd><dt><span class="term">
<span class="original">
     New autovacuum tool
</span>
新しい自動vacuumツール
    </span></dt><dd><p>
<span class="original">
      The new autovacuum tool in
      &lt;filename&gt;contrib/autovacuum&lt;/filename&gt; monitors the database
      statistics tables for
      &lt;command&gt;INSERT&lt;/command&gt;/&lt;command&gt;UPDATE&lt;/command&gt;/&lt;command&gt;DELETE&lt;/command&gt;
      activity and automatically vacuums tables when needed.
</span>
<code class="filename">contrib/autovacuum</code>にある新しい自動vacuumツールは、<code class="command">INSERT</code>/<code class="command">UPDATE</code>/<code class="command">DELETE</code>の活動について、統計情報テーブルを監視し、必要に応じて自動的にvacuumを行ないます。
     </p></dd><dt><span class="term">
<span class="original">
     Array handling has been improved and moved into the server core
</span>
配列の扱いは、改良され、サーバの中核部分に移りました
    </span></dt><dd><p>
<span class="original">
      Many array limitations have been removed, and arrays behave
      more like fully-supported data types.
</span>
多くの配列の制限が取り除かれました。
これにより、配列は、ほぼ完全にデータ型をサポートできるように動作します。
     </p></dd></dl></div></div><div class="sect2" id="id-1.11.6.315.4"><div class="titlepage"><div><div><h3 class="title">E.311.2. バージョン7.4への移行</h3></div></div></div><span class="original">
  &lt;title&gt;Migration to Version 7.4&lt;/title&gt;
</span><p>
<span class="original">
   A dump/restore using &lt;application&gt;pg_dump&lt;/application&gt; is
   required for those wishing to migrate data from any previous
   release.
</span>
以前のリリースからデータを移行する場合、<span class="application">pg_dump</span> によるダンプ/リストアが必要です。
  </p><p>
<span class="original">
   Observe the following incompatibilities:
</span>
以下の非互換部分を確認して下さい。
  </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
<span class="original">
     The server-side autocommit setting was removed and
     reimplemented in client applications and languages.
     Server-side autocommit was causing too many problems with
     languages and applications that wanted to control their own
     autocommit behavior, so autocommit was removed from the server
     and added to individual client APIs as appropriate.
</span>
サーバ側での自動コミット設定は削除され、クライアントアプリケーションと言語内で再実装されました。
サーバ側の自動コミットは、自動コミットの振舞いを自身で制御したい言語やアプリケーションで、多くの問題の原因となっていました。
そのため、サーバから自動コミットは取り除かれ、個々のクライアントAPIに適切に追加されました。
    </p></li><li class="listitem"><p>
<span class="original">
     Error message wording has changed substantially in this
     release.  Significant effort was invested to make the messages
     more consistent and user-oriented.  If your applications try to
     detect different error conditions by parsing the error message,
     you are strongly encouraged to use the new error code facility instead.
</span>
エラーメッセージの言葉使いがこのリリースで大きく変わりました。
これらのメッセージをより正確に、よりユーザ向けにするために非常に多くの労力を費やしました。
アプリケーションがエラーメッセージを解析してエラー条件の違いを検知するようであれば、その代わりに、新しいエラーコード機能を使用するように強く勧めます。
    </p></li><li class="listitem"><p>
<span class="original">
     Inner joins using the explicit &lt;literal&gt;JOIN&lt;/literal&gt; syntax
     might behave differently because they are now better
     optimized.
</span>
明示的な<code class="literal">JOIN</code>を使用する内部結合構文の振舞いが変わる可能性があります。
これらはより良く最適化されるようになったためです。
    </p></li><li class="listitem"><p>
<span class="original">
     A number of server configuration parameters have been renamed
     for clarity, primarily those related to
     logging.
</span>
多くのサーバ設定パラメータの名前が、明確になるように変更されました。
主にログに関連したパラメータです。
    </p></li><li class="listitem"><p>
<span class="original">
     &lt;literal&gt;FETCH 0&lt;/literal&gt; or &lt;literal&gt;MOVE 0&lt;/literal&gt; now
     does nothing.  In prior releases, &lt;literal&gt;FETCH 0&lt;/literal&gt;
     would fetch all remaining rows, and &lt;literal&gt;MOVE 0&lt;/literal&gt;
     would move to the end of the cursor.
</span>
<code class="literal">FETCH 0</code> や <code class="literal">MOVE 0</code> は何も行なわないようになりました。
以前のリリースでは、<code class="literal">FETCH 0</code>は残存する全ての行を取り出し、<code class="literal">MOVE 0</code> はカーソルの最後まで移動していました。
    </p></li><li class="listitem"><p>
<span class="original">
     &lt;command&gt;FETCH&lt;/command&gt; and &lt;command&gt;MOVE&lt;/command&gt; now return
     the actual number of rows fetched/moved, or zero if at the
     beginning/end of the cursor.  Prior releases would return the
     row count passed to the command, not the number of rows
     actually fetched or moved.
</span>
<code class="command">FETCH</code> と <code class="command">MOVE</code> は、実際に取り出し/移動した行の数を返すようになりました。
なお、カーソルがその先頭/最後にあった場合は0を返します。
以前のリリースは、そのコマンドに渡した行数を返し、実際に取り出した、あるいは、移動した行数を返しませんでした。
    </p></li><li class="listitem"><p>
<span class="original">
     &lt;command&gt;COPY&lt;/command&gt; now can process files that use
     carriage-return or carriage-return/line-feed end-of-line
     sequences. Literal carriage-returns and line-feeds are no
     longer accepted in data values; use &lt;literal&gt;\r&lt;/literal&gt; and
     &lt;literal&gt;\n&lt;/literal&gt; instead.
</span>
<code class="command">COPY</code> は、行末を表すシーケンスとして、復帰のみ、あるいは、復帰/改行を使用したファイルも処理できるようになりました。
復帰と改行そのものは、データ値としては受け付けられません。
その代わりに<code class="literal">\r</code> と<code class="literal">\n</code>を使用して下さい。
    </p></li><li class="listitem"><p>
<span class="original">
     Trailing spaces are now trimmed when converting from type
     &lt;type&gt;char(&lt;replaceable&gt;n&lt;/replaceable&gt;)&lt;/type&gt; to
     &lt;type&gt;varchar(&lt;replaceable&gt;n&lt;/replaceable&gt;)&lt;/type&gt; or &lt;type&gt;text&lt;/type&gt;.
     This is what most people always expected to happen anyway.
</span>
<code class="type">char(<em class="replaceable"><code>n</code></em>)</code> から <code class="type">varchar(<em class="replaceable"><code>n</code></em>)</code> もしくは <code class="type">text</code>への変換時、最後の空白は除去されるようになりました。
これは、ほとんどのユーザが常にそうなってほしいと期待している動作です。
    </p></li><li class="listitem"><p>
<span class="original">
     The data type &lt;type&gt;float(&lt;replaceable&gt;p&lt;/replaceable&gt;)&lt;/type&gt; now
     measures &lt;replaceable&gt;p&lt;/replaceable&gt; in binary digits, not decimal
     digits.  The new behavior follows the SQL standard.
</span>
<code class="type">float(<em class="replaceable"><code>p</code></em>)</code> データ型は、10進数ではなく、2進数での<em class="replaceable"><code>p</code></em>桁を表すようになりました。
新しいこの動作は、標準SQLに従います。
    </p></li><li class="listitem"><p>
<span class="original">
     Ambiguous date values now must match the ordering specified by
     the &lt;varname&gt;datestyle&lt;/varname&gt; setting.  In prior releases, a
     date specification of &lt;literal&gt;10/20/03&lt;/literal&gt; was interpreted as a
     date in October even if &lt;varname&gt;datestyle&lt;/varname&gt; specified that
     the day should be first.  7.4 will throw an error if a date
     specification is invalid for the current setting of
     &lt;varname&gt;datestyle&lt;/varname&gt;.
</span>
曖昧な日付値は、<code class="varname">datestyle</code>設定で指定した順序に一致しなければならなくなりました。
以前のリリースでは、<code class="literal">10/20/03</code>というデータ指定は、<code class="varname">datestyle</code>で日が最初であると指定していたとしても、10月と解釈されていました。
7.4では、日付の指定がその時点の<code class="varname">datestyle</code>設定では無効である場合、エラーが発生します。
    </p></li><li class="listitem"><p>
<span class="original">
     The functions &lt;function&gt;oidrand&lt;/function&gt;,
     &lt;function&gt;oidsrand&lt;/function&gt;, and
     &lt;function&gt;userfntest&lt;/function&gt; have been removed.  These
     functions were determined to be no longer useful.
</span>
<code class="function">oidrand</code>、<code class="function">oidsrand</code>、<code class="function">userfntest</code> 関数が削除されました。
これらの関数は、もう使用されることはないと決定されました。
    </p></li><li class="listitem"><p>
<span class="original">
     String literals specifying time-varying date/time values, such
     as &lt;literal&gt;'now'&lt;/literal&gt; or &lt;literal&gt;'today'&lt;/literal&gt; will
     no longer work as expected in column default expressions; they
     now cause the time of the table creation to be the default, not
     the time of the insertion.  Functions such as
     &lt;function&gt;now()&lt;/function&gt;, &lt;function&gt;current_timestamp&lt;/function&gt;, or
     &lt;function&gt;current_date&lt;/function&gt; should be used instead.
</span>
<code class="literal">'now'</code>や<code class="literal">'today'</code>のような時間が変動する日付/時刻値を指定する文字列リテラルは、列のデフォルト式で想定したとおりに働かなくなりました。
これらは、挿入時の時刻ではなく、テーブルを生成した時刻をそのデフォルトに設定するようになりました。
その代わりに、<code class="function">now()</code>、<code class="function">current_timestamp</code>、<code class="function">current_date</code>といった関数を使用して下さい。
    </p><p>
<span class="original">
     In previous releases, there was special code so that strings
     such as &lt;literal&gt;'now'&lt;/literal&gt; were interpreted at
     &lt;command&gt;INSERT&lt;/command&gt; time and not at table creation time, but
     this work around didn't cover all cases.  Release 7.4 now
     requires that defaults be defined properly using functions such
     as &lt;function&gt;now()&lt;/function&gt; or &lt;function&gt;current_timestamp&lt;/function&gt;. These
     will work in all situations.
</span>
以前のリリースでは、<code class="literal">'now'</code>といった文字列がテーブル生成時刻ではなく、<code class="command">INSERT</code>時刻と解釈されるような特殊なコードがありました。
しかし、この回避方法は全ての場合に適用されませんでした。
リリース7.4では、デフォルト式は<code class="function">now()</code> や <code class="function">current_timestamp</code>といった関数を適切に使用して定義することが必須となりました。
これらは全ての状況で動作します。
    </p></li><li class="listitem"><p>
<span class="original">
     The dollar sign (&lt;literal&gt;$&lt;/literal&gt;) is no longer allowed in
     operator names.  It can instead be a non-first character in
     identifiers.  This was done to improve compatibility with other
     database systems, and to avoid syntax problems when parameter
     placeholders (&lt;literal&gt;$&lt;replaceable&gt;n&lt;/replaceable&gt;&lt;/literal&gt;) are written
     adjacent to operators.
</span>
ドル印(<code class="literal">$</code>)は演算子名として使用できなくなりました。
その代わり、識別子の文字(先頭文字は除く)として使用できるようになりました。
これは、他のデータベースシステムとの互換性を向上させるため、および、パラメータのプレースホルダ(<code class="literal">$<em class="replaceable"><code>n</code></em></code>)が演算子に近接していた場合の構文問題を防止するために行なわれました。
    </p></li></ul></div></div><div class="sect2" id="id-1.11.6.315.5"><div class="titlepage"><div><div><h3 class="title">E.311.3. 変更点</h3></div></div></div><span class="original">
  &lt;title&gt;Changes&lt;/title&gt;
</span><p>
<span class="original">
   Below you will find a detailed account of the changes between
   release 7.4 and the previous major release.
</span>
以下に、リリース7.4と以前のメジャーリリースとの間になされた変更点について、詳細な説明を示します。
  </p><div class="sect3" id="id-1.11.6.315.5.3"><div class="titlepage"><div><div><h4 class="title">E.311.3.1. サーバ操作についての変更</h4></div></div></div><span class="original">
  &lt;title&gt;Server Operation Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
     Allow IPv6 server connections (Nigel Kukard, Johan Jordaan,
     Bruce, Tom, Kurt Roeckx, Andrew Dunstan)
    </p></li><li class="listitem"><p>
     Fix SSL to handle errors cleanly (Nathan Mueller)
    </p><p>
     In prior releases, certain SSL API error reports were not
     handled correctly.  This release fixes those problems.
    </p></li><li class="listitem"><p>
     SSL protocol security and performance improvements (Sean Chittenden)
    </p><p>
<span class="original">
     SSL key renegotiation was happening too frequently, causing poor
     SSL performance.  Also, initial key handling was improved.
</span>
SSLの性能の低さのために、SSLキーの再調停があまりにも頻繁に発生していました。
また、初期のキーの取扱いが改良されました。
    </p></li><li class="listitem"><p>
     Print lock information when a deadlock is detected (Tom)
    </p><p>
<span class="original">
     This allows easier debugging of deadlock situations.
</span>
これによりデッドロック状況のデバッグが容易になります。
    </p></li><li class="listitem"><p>
     Update <code class="filename">/tmp</code> socket modification times
     regularly to avoid their removal (Tom)
    </p><p>
<span class="original">
     This should help prevent &lt;filename&gt;/tmp&lt;/filename&gt; directory
     cleaner administration scripts from removing server socket
     files.
</span>
これは、<code class="filename">/tmp</code> ディレクトリを整理する管理スクリプトによってサーバソケットファイルが削除されてしまうことを防ぐ助けになるでしょう。
    </p></li><li class="listitem"><p>Enable PAM for macOS (Aaron Hillegass)</p></li><li class="listitem"><p>Make B-tree indexes fully WAL-safe (Tom)</p><p>
<span class="original">
     In prior releases, under certain rare cases, a server crash
     could cause B-tree indexes to become corrupt. This release
     removes those last few rare cases.
</span>
以前のリリースでは、ある特定かつ稀な場合、サーバクラッシュによりB-treeインデックスが破損してしまいました。このリリースでは、これらのもっとも稀な場合について削除しました。
    </p></li><li class="listitem"><p>Allow B-tree index compaction and empty page reuse (Tom)</p></li><li class="listitem"><p>
     Fix inconsistent index lookups during split of first root page (Tom)
    </p><p>
<span class="original">
     In prior releases, when a single-page index split into two
     pages, there was a brief period when another database session
     could miss seeing an index entry.  This release fixes that rare
     failure case.
</span>
以前のリリースでは、単一ページのインデックスを2ページに分割する際に、
他のデータベースセッションがインデックス項目を探すことができない、短い時間がありました。
このリリースはこの稀に起こる失敗を修正しました。
    </p></li><li class="listitem"><p>Improve free space map allocation logic (Tom)</p></li><li class="listitem"><p>空領域マップの割り当てロジックの改良 (Tom)</p></li><li class="listitem"><p>Preserve free space information between server restarts (Tom)</p><p>
<span class="original">
     In prior releases, the free space map was not saved when the
     postmaster was stopped, so newly started servers had no free
     space information. This release saves the free space map, and
     reloads it when the server is restarted.
</span>
以前のリリースでは、postmasterが停止した時に空領域は保存されませんでした。
そのため、新しく稼働したサーバは、空領域情報を持ちませんでした。
このリリースでは、空領域マップを保存し、サーバの再起動時にそれを再読み込みします。
    </p></li><li class="listitem"><p>Add start time to <code class="literal">pg_stat_activity</code> (Neil)</p></li><li class="listitem"><p>New code to detect corrupt disk pages; erase with <code class="varname">zero_damaged_pages</code> (Tom)</p></li><li class="listitem"><p>New client/server protocol: faster, no username length limit, allow clean exit from <code class="command">COPY</code> (Tom)</p></li><li class="listitem"><p>Add transaction status, table ID, column ID to client/server protocol (Tom)</p></li><li class="listitem"><p>Add binary I/O to client/server protocol (Tom)</p></li><li class="listitem"><p>Remove autocommit server setting; move to client applications (Tom)</p></li><li class="listitem"><p>New error message wording, error codes, and three levels of error detail (Tom, Joe, Peter)</p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.4"><div class="titlepage"><div><div><h4 class="title">E.311.3.2. 性能の向上</h4></div></div></div><span class="original">
  &lt;title&gt;Performance Improvements&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Add hashing for <code class="literal">GROUP BY</code> aggregates (Tom)</p></li><li class="listitem"><p>Make nested-loop joins be smarter about multicolumn indexes (Tom)</p></li><li class="listitem"><p>Allow multikey hash joins (Tom)</p></li><li class="listitem"><p>Improve constant folding (Tom)</p></li><li class="listitem"><p>Add ability to inline simple SQL functions (Tom)</p></li><li class="listitem"><p>Reduce memory usage for queries using complex functions (Tom)</p><p>
<span class="original">
     In prior releases, functions returning allocated memory would
     not free it until the query completed. This release allows the
     freeing of function-allocated memory when the function call
     completes, reducing the total memory used by functions.
</span>
以前のリリースでは、割り当てられたメモリを返す関数は、問い合わせが完了するまで、それを解放しませんでした。
このリリースでは、関数が割り当てたメモリを関数呼び出しの終了時に解放することができ、関数で使用される総メモリ量が減少します。
    </p></li><li class="listitem"><p>Improve GEQO optimizer performance (Tom)</p><p>
<span class="original">
     This release fixes several inefficiencies in the way the GEQO optimizer
     manages potential query paths.
</span>
このリリースでは、GEQOオプティマイザの潜在的な問い合わせ経路の管理方法において複数の非効率な点を修正しました。
    </p></li><li class="listitem"><p>
     Allow <code class="literal">IN</code>/<code class="literal">NOT IN</code> to be handled via hash
     tables (Tom)
    </p></li><li class="listitem"><p>
     Improve <code class="literal">NOT IN (<em class="replaceable"><code>subquery</code></em>)</code>
     performance (Tom)
    </p></li><li class="listitem"><p>
     Allow most <code class="literal">IN</code> subqueries to be processed as
     joins (Tom)
    </p></li><li class="listitem"><p>
     Pattern matching operations can use indexes regardless of
     locale (Peter)
    </p><p>
<span class="original">
     There is no way for non-ASCII locales to use the standard
     indexes for &lt;literal&gt;LIKE&lt;/literal&gt; comparisons. This release
     adds a way to create a special index for
     &lt;literal&gt;LIKE&lt;/literal&gt;.
</span>
非ASCIIのロケールでは、<code class="literal">LIKE</code>比較用の標準的なインデックスを使用する方法がありません。
このリリースでは<code class="literal">LIKE</code>用に特別なインデックスを作成する方法を追加しました。
    </p></li><li class="listitem"><p>Allow the postmaster to preload libraries using <code class="varname">preload_libraries</code> (Joe)</p><p>
<span class="original">
     For shared libraries that require a long time to load, this
     option is available so the library can be preloaded in the
     postmaster and inherited by all database sessions.
</span>
長時間読み込まれる共有ライブラリでは、このオプションを利用でき、そのライブラリはpostmaster内であらかじめ読み込まれ、全てのデータベースセッションで継承されます。
    </p></li><li class="listitem"><p>
     Improve optimizer cost computations, particularly for subqueries (Tom)
    </p></li><li class="listitem"><p>
     Avoid sort when subquery <code class="literal">ORDER BY</code> matches upper query (Tom)
    </p></li><li class="listitem"><p>
     Deduce that <code class="literal">WHERE a.x = b.y AND b.y = 42</code> also
     means <code class="literal">a.x = 42</code> (Tom)
    </p></li><li class="listitem"><p>
     Allow hash/merge joins on complex joins (Tom)
    </p></li><li class="listitem"><p>
     Allow hash joins for more data types (Tom)
    </p></li><li class="listitem"><p>
     Allow join optimization of explicit inner joins, disable with
     <code class="varname">join_collapse_limit</code> (Tom)
    </p></li><li class="listitem"><p>
     Add parameter <code class="varname">from_collapse_limit</code> to control
     conversion of subqueries to joins (Tom)
    </p></li><li class="listitem"><p>
     Use faster and more powerful regular expression code from Tcl
     (Henry Spencer, Tom)
    </p></li><li class="listitem"><p>
     Use bit-mapped relation sets in the optimizer (Tom)
    </p></li><li class="listitem"><p>Improve connection startup time (Tom)</p><p>
<span class="original">
     The new client/server protocol requires fewer network packets to
     start a database session.
</span>
新しいクライアント/サーバプロトコルでは、データベースセッション開始のために必要なネットワークパケットがより少なくなりました。
    </p></li><li class="listitem"><p>
     Improve trigger/constraint performance (Stephan)
    </p></li><li class="listitem"><p>
     Improve speed of <code class="literal">col IN (const, const, const, ...)</code> (Tom)
    </p></li><li class="listitem"><p>
     Fix hash indexes which were broken in rare cases (Tom)
    </p></li><li class="listitem"><p>Improve hash index concurrency and speed (Tom)</p><p>
<span class="original">
     Prior releases suffered from poor hash index performance,
     particularly for high concurrency situations. This release fixes
     that, and the development group is interested in reports
     comparing B-tree and hash index performance.
</span>
以前のリリースでは、特に、同時実行数が多い状況では、ハッシュインデックスの低性能が見られました。
このリリースではそれを修正し、開発グループでは、B-treeとハッシュインデックスとの性能比較についての報告をまとめました。
    </p></li><li class="listitem"><p>Align shared buffers on 32-byte boundary for copy speed improvement (Manfred Spraul)</p><p>
<span class="original">
     Certain CPU's perform faster data copies when addresses are
     32-byte aligned.
</span>
特定のCPUでは、アドレスが32バイトで整列された時にデータコピーがより高速になります。
    </p></li><li class="listitem"><p>Data type <code class="type">numeric</code> reimplemented for better performance (Tom)</p><p>
<span class="original">
     &lt;type&gt;numeric&lt;/type&gt; used to be stored in base 100. The new code
     uses base 10000, for significantly better performance.
</span>
<code class="type">numeric</code>は100を基として保存していました。
かなり良い性能のために、新しいコードでは10000を基として使用します。
    </p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.5"><div class="titlepage"><div><div><h4 class="title">E.311.3.3. サーバ設定の変更</h4></div></div></div><span class="original">
  &lt;title&gt;Server Configuration Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Rename server parameter <code class="varname">server_min_messages</code> to <code class="varname">log_min_messages</code> (Bruce)</p><p>
<span class="original">
     This was done so most parameters that control the server logs
     begin with &lt;literal&gt;log_&lt;/literal&gt;.
</span>
これは<code class="literal">log_</code>から始まるサーバのログを制御するほとんどのパラメータに対して行なわれました。
    </p></li><li class="listitem"><p>Rename <code class="varname">show_*_stats</code> to <code class="varname">log_*_stats</code> (Bruce)</p></li><li class="listitem"><p>Rename <code class="varname">show_source_port</code> to <code class="varname">log_source_port</code> (Bruce)</p></li><li class="listitem"><p>Rename <code class="varname">hostname_lookup</code> to <code class="varname">log_hostname</code> (Bruce)</p></li><li class="listitem"><p>Add <code class="varname">checkpoint_warning</code> to warn of excessive checkpointing (Bruce)</p><p>
<span class="original">
     In prior releases, it was difficult to determine if checkpoint
     was happening too frequently. This feature adds a warning to the
     server logs when excessive checkpointing happens.
</span>
以前のリリースでは、チェックポイントが頻繁に発生し過ぎているかどうかを認識することは困難でした。
この機能により、過度なチェックポイントの発生時にサーバログに警告が追加されます。
    </p></li><li class="listitem"><p>New read-only server parameters for localization (Tom)</p></li><li class="listitem"><p>
     Change debug server log messages to output as <code class="literal">DEBUG</code>
     rather than <code class="literal">LOG</code> (Bruce)
    </p></li><li class="listitem"><p>Prevent server log variables from being turned off by non-superusers (Bruce)</p><p>
<span class="original">
     This is a security feature so non-superusers cannot disable
     logging that was enabled by the administrator.
</span>
非スーパーユーザが管理者によって有効にされたログ取得を無効にすることを不可能とする、セキュリティに関するものです。
    </p></li><li class="listitem"><p>
     <code class="varname">log_min_messages</code>/<code class="varname">client_min_messages</code> now
     controls <code class="varname">debug_*</code> output (Bruce)
    </p><p>
<span class="original">
     This centralizes client debug information so all debug output
     can be sent to either the client or server logs.
</span>
これはクライアントデバッグ情報を集中化し、これにより、全てのデバッグ用出力がクライアントログもしくはサーバログに送信できます。
    </p></li><li class="listitem"><p>Add macOS Rendezvous server support (Chris Campbell)</p><p>
<span class="original">
     This allows macOS hosts to query the network for available
     &lt;productname&gt;PostgreSQL&lt;/productname&gt; servers.
</span>
これにより、macOSホストが利用可能な<span class="productname">PostgreSQL</span>サーバにネットワークから問い合わせできるようになります。
    </p></li><li class="listitem"><p>
     Add ability to print only slow statements using
     <code class="varname">log_min_duration_statement</code>
     (Christopher)
    </p><p>
<span class="original">
     This is an often requested debugging feature that allows
     administrators to see only slow queries in their server logs.
</span>
これは、よく要求のあったデバッグ機能で、これにより、管理者はサーバログ内で低速な問い合わせのみを見られるようになります。
    </p></li><li class="listitem"><p>Allow <code class="filename">pg_hba.conf</code> to accept netmasks in CIDR format (Andrew Dunstan)</p><p>
<span class="original">
     This allows administrators to merge the host IP address and
     netmask fields into a single CIDR field in &lt;filename&gt;pg_hba.conf&lt;/filename&gt;.
</span>
これにより、管理者は<code class="filename">pg_hba.conf</code>内でホストIPアドレスとネットマスクフィールドを単一CIDRフィールドにまとめることができます。
    </p></li><li class="listitem"><p>New read-only parameter <code class="varname">is_superuser</code> (Tom)</p></li><li class="listitem"><p>New parameter <code class="varname">log_error_verbosity</code> to control error detail (Tom)</p><p>
<span class="original">
     This works with the new error reporting feature to supply
     additional error information like hints, file names and line
     numbers.
</span>
これは、新しいエラー報告機能と一緒に動作し、ヒントやファイル名、行番号などのエラー情報を更に提供します。
    </p></li><li class="listitem"><p><code class="literal">postgres --describe-config</code> now dumps server config variables (Aizaz Ahmed, Peter)</p><p>
<span class="original">
     This option is useful for administration tools that need to know
     the configuration variable names and their minimums, maximums,
     defaults, and descriptions.
</span>
このオプションは、設定変数名とその最小、最大、デフォルト、説明文を把握する必要がある管理ツールで有用です。
    </p></li><li class="listitem"><p>
     Add new columns in <code class="literal">pg_settings</code>:
     <code class="literal">context</code>, <code class="literal">type</code>, <code class="literal">source</code>,
     <code class="literal">min_val</code>, <code class="literal">max_val</code> (Joe)
    </p></li><li class="listitem"><p>
     Make default <code class="varname">shared_buffers</code> 1000 and
     <code class="varname">max_connections</code> 100, if possible (Tom)
    </p><p>
<span class="original">
     Prior versions defaulted to 64 shared buffers so &lt;productname&gt;PostgreSQL&lt;/productname&gt;
     would start on even very old systems. This release tests the
     amount of shared memory allowed by the platform and selects more
     reasonable default values if possible.  Of course, users are
     still encouraged to evaluate their resource load and size
     &lt;varname&gt;shared_buffers&lt;/varname&gt; accordingly.
</span>
以前のバージョンではデフォルトで64共有バッファでした。
そのため、非常に古いシステムでも<span class="productname">PostgreSQL</span>が起動できました。
このリリースでは、プラットフォームで許可された共有メモリ量を試験し、可能であれば、より理想的なデフォルト値を選択します。
もちろん、ユーザはリソースの使用状況を評価し、それに合わせて<code class="varname">shared_buffers</code>の大きさを決定することもまだ可能です。
    </p></li><li class="listitem"><p>
     New <code class="filename">pg_hba.conf</code> record type
     <code class="literal">hostnossl</code> to prevent SSL connections (Jon
     Jensen)
    </p><p>
<span class="original">
     In prior releases, there was no way to prevent SSL connections
     if both the client and server supported SSL. This option allows
     that capability.
</span>
以前のリリースでは、クライアントとサーバがSSLをサポートする場合、SSL接続を防ぐ方法がありませんでした。
このオプションでその機能が可能です。
    </p></li><li class="listitem"><p>
     Remove parameter <code class="varname">geqo_random_seed</code>
     (Tom)
    </p></li><li class="listitem"><p>
     Add server parameter <code class="varname">regex_flavor</code> to control regular expression processing (Tom)
    </p></li><li class="listitem"><p>
     Make <code class="command">pg_ctl</code> better handle nonstandard ports (Greg)
    </p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.6"><div class="titlepage"><div><div><h4 class="title">E.311.3.4. 問い合わせに関する変更</h4></div></div></div><span class="original">
  &lt;title&gt;Query Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>New SQL-standard information schema (Peter)</p></li><li class="listitem"><p>Add read-only transactions (Peter)</p></li><li class="listitem"><p>Print key name and value in foreign-key violation messages (Dmitry Tkach)</p></li><li class="listitem"><p>Allow users to see their own queries in <code class="literal">pg_stat_activity</code> (Kevin Brown)</p><p>
<span class="original">
     In prior releases, only the superuser could see query strings
     using &lt;literal&gt;pg_stat_activity&lt;/literal&gt;. Now ordinary users
     can see their own query strings.
</span>
以前のリリースでは、スーパーユーザのみが<code class="literal">pg_stat_activity</code>を使用して問い合わせ文字列を確認することができました。
通常のユーザが自身の問い合わせ文字列を確認できるようになりました。
    </p></li><li class="listitem"><p>Fix aggregates in subqueries to match SQL standard (Tom)</p><p>
<span class="original">
     The SQL standard says that an aggregate function appearing
     within a nested subquery belongs to the outer query if its
     argument contains only outer-query variables.  Prior
     &lt;productname&gt;PostgreSQL&lt;/productname&gt; releases did not handle
     this fine point correctly.
</span>
標準SQLでは、入れ子になった副問い合わせ内の集約関数は、その引数に問い合わせ外部の変数のみが含まれる場合、その外部の問い合わせに属すると規定しています。
以前の<span class="productname">PostgreSQL</span>のリリースでは、この点を正しく扱っていませんでした。
    </p></li><li class="listitem"><p>Add option to prevent auto-addition of tables referenced in query (Nigel J. Andrews)</p><p>
<span class="original">
     By default, tables mentioned in the query are automatically
     added to the &lt;literal&gt;FROM&lt;/literal&gt; clause if they are not already
     there.  This is compatible with historic
     &lt;productname&gt;POSTGRES&lt;/productname&gt; behavior but is contrary to
     the SQL standard.  This option allows selecting
     standard-compatible behavior.
</span>
デフォルトでは、問い合わせ内にあり、<code class="literal">FROM</code>句にまだ存在しないテーブルは自動的に<code class="literal">FROM</code>句に追加されました。
これは、歴史的な<span class="productname">POSTGRES</span>の振舞いと互換性がありますが、標準SQLとは反対です。
このオプションにより、標準と互換性がある動作を選択することができます。
    </p></li><li class="listitem"><p>Allow <code class="literal">UPDATE ... SET col = DEFAULT</code> (Rod)</p><p>
<span class="original">
     This allows &lt;command&gt;UPDATE&lt;/command&gt; to set a column to its
     declared default value.
</span>
これにより<code class="command">UPDATE</code>は列を宣言されたデフォルト値に設定することができます。
    </p></li><li class="listitem"><p>Allow expressions to be used in <code class="literal">LIMIT</code>/<code class="literal">OFFSET</code> (Tom)</p><p>
<span class="original">
     In prior releases, &lt;literal&gt;LIMIT&lt;/literal&gt;/&lt;literal&gt;OFFSET&lt;/literal&gt; could
     only use constants, not expressions.
</span>
以前のリリースでは、<code class="literal">LIMIT</code>/<code class="literal">OFFSET</code>には定数のみを使用でき、式は使用できませんでした。
    </p></li><li class="listitem"><p>Implement <code class="literal">CREATE TABLE AS EXECUTE</code> (Neil, Peter)</p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.7"><div class="titlepage"><div><div><h4 class="title">E.311.3.5. オブジェクト操作に関する変更</h4></div></div></div><span class="original">
  &lt;title&gt;Object Manipulation Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Make <code class="command">CREATE SEQUENCE</code> grammar more conforming to SQL:2003 (Neil)</p></li><li class="listitem"><p>Add statement-level triggers (Neil)</p><p>
<span class="original">
     While this allows a trigger to fire at the end of a statement,
     it does not allow the trigger to access all rows modified by the
     statement.  This capability is planned for a future release.
</span>
これにより文の終了時にトリガを発行することができます。しかし、そのトリガは文によって変更された全ての行にアクセスすることはできません。
この能力は将来のリリースで計画しています。
    </p></li><li class="listitem"><p>Add check constraints for domains (Rod)</p><p>
<span class="original">
     This greatly increases the usefulness of domains by allowing
     them to use check constraints.
</span>
ドメインに検査制約を使用できるようになり、ドメインの有用性が非常に高くなりました。
    </p></li><li class="listitem"><p>Add <code class="command">ALTER DOMAIN</code> (Rod)</p><p>
<span class="original">
     This allows manipulation of existing domains.
</span>
これにより既存のドメインの操作が可能です。
    </p></li><li class="listitem"><p>Fix several zero-column table bugs (Tom)</p><p>
<span class="original">
     &lt;productname&gt;PostgreSQL&lt;/productname&gt; supports zero-column tables. This fixes various bugs
     that occur when using such tables.
</span>
<span class="productname">PostgreSQL</span>はゼロ列のテーブルをサポートします。
そうしたテーブルの使用時に発生する各種の不具合を修正しました。
    </p></li><li class="listitem"><p>Have <code class="literal">ALTER TABLE ... ADD PRIMARY KEY</code> add not-null constraint (Rod)</p><p>
<span class="original">
     In prior releases, &lt;literal&gt;ALTER TABLE ... ADD
     PRIMARY&lt;/literal&gt; would add a unique index, but not a not-null
     constraint.  That is fixed in this release.
</span>
以前のリリースでは、<code class="literal">ALTER TABLE ... ADD PRIMARY</code>は一意性制約を追加しますが、非NULL制約を追加しませんでした。
このリリースで修正されました。
    </p></li><li class="listitem"><p>Add <code class="literal">ALTER TABLE ... WITHOUT OIDS</code> (Rod)</p><p>
<span class="original">
     This allows control over whether new and updated rows will have
     an OID column.  This is most useful for saving storage space.
</span>
これにより新規行、更新された行がOID列を持つかどうかを制御することができます。
これは、ほとんどの場合、格納領域の節約に有用です。
    </p></li><li class="listitem"><p>
     Add <code class="literal">ALTER SEQUENCE</code> to modify minimum, maximum,
     increment, cache, cycle values (Rod)
    </p></li><li class="listitem"><p>Add <code class="literal">ALTER TABLE ... CLUSTER ON</code> (Alvaro Herrera)</p><p>
<span class="original">
     This command is used by &lt;command&gt;pg_dump&lt;/command&gt; to record the
     cluster column for each table previously clustered. This
     information is used by database-wide cluster to cluster all
     previously clustered tables.
</span>
このコマンドは<code class="command">pg_dump</code>で使用され、以前にクラスタ化された各テーブルのクラスタ用列を記録します。
この情報はデータベース全体のクラスタによって、以前にクラスタ化されたテーブルをクラスタ化するために使用されます。
    </p></li><li class="listitem"><p>Improve automatic type casting for domains (Rod, Tom)</p></li><li class="listitem"><p>Allow dollar signs in identifiers, except as first character (Tom)</p></li><li class="listitem"><p>Disallow dollar signs in operator names, so <code class="literal">x=$1</code> works (Tom)</p></li><li class="listitem"><p>
     Allow copying table schema using <code class="literal">LIKE
     <em class="replaceable"><code>subtable</code></em></code>, also SQL:2003
     feature <code class="literal">INCLUDING DEFAULTS</code> (Rod)
    </p></li><li class="listitem"><p>
     Add <code class="literal">WITH GRANT OPTION</code> clause to
     <code class="command">GRANT</code> (Peter)
    </p><p>
<span class="original">
     This enabled &lt;command&gt;GRANT&lt;/command&gt; to give other users the
     ability to grant privileges on an object.
</span>
これにより、<code class="command">GRANT</code>は他のユーザにオブジェクトの権限を付与する能力を与えることができるようになります。
    </p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.8"><div class="titlepage"><div><div><h4 class="title">E.311.3.6. ユーティリティコマンドに関する変更</h4></div></div></div><span class="original">
  &lt;title&gt;Utility Command Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Add <code class="literal">ON COMMIT</code> clause to <code class="command">CREATE TABLE</code> for temporary tables (Gavin)</p><p>
<span class="original">
     This adds the ability for a table to be dropped or all rows
     deleted on transaction commit.
</span>
これにより、トランザクションのコミット時にテーブルの削除、もしくは、全行の削除を行なう機能が追加されました。
    </p></li><li class="listitem"><p>Allow cursors outside transactions using <code class="literal">WITH HOLD</code> (Neil)</p><p>
<span class="original">
     In previous releases, cursors were removed at the end of the
     transaction that created them. Cursors can now be created with
     the &lt;literal&gt;WITH HOLD&lt;/literal&gt; option, which allows them to
     continue to be accessed after the creating transaction has
     committed.
</span>
以前のリリースでは、カーソルはそのカーソルを作成したトランザクションの終端で削除されました。
カーソルは<code class="literal">WITH HOLD</code>オプションを付けて作成できるようになり、これにより、作成したトランザクションがコミットされた後でもそのカーソルにアクセスできるようになります。
    </p></li><li class="listitem"><p><code class="literal">FETCH 0</code> and <code class="literal">MOVE 0 </code> now do nothing (Bruce)</p><p>
<span class="original">
     In previous releases, &lt;literal&gt;FETCH 0&lt;/literal&gt; fetched all
     remaining rows, and &lt;literal&gt;MOVE 0&lt;/literal&gt; moved to the end
     of the cursor.
</span>
以前のリリースでは、<code class="literal">FETCH 0</code>は全ての行を取り出し、<code class="literal">MOVE 0</code>はカーソルの終端まで移動しました。
    </p></li><li class="listitem"><p>
     Cause <code class="command">FETCH</code> and <code class="command">MOVE</code> to
     return the number of rows fetched/moved, or zero if at the
     beginning/end of cursor, per SQL standard (Bruce)
    </p><p>
<span class="original">
     In prior releases, the row count returned by
     &lt;command&gt;FETCH&lt;/command&gt; and &lt;command&gt;MOVE&lt;/command&gt; did not
     accurately reflect the number of rows processed.
</span>
以前のリリースでは、<code class="command">FETCH</code> と <code class="command">MOVE</code>で返される行数は、実際に処理された行数を反映したものではありませんでした。
    </p></li><li class="listitem"><p>Properly handle <code class="literal">SCROLL</code> with cursors, or
    report an error (Neil)</p><p>
<span class="original">
     Allowing random access (both forward and backward scrolling) to
     some kinds of queries cannot be done without some additional
     work. If &lt;literal&gt;SCROLL&lt;/literal&gt; is specified when the cursor
     is created, this additional work will be performed. Furthermore,
     if the cursor has been created with &lt;literal&gt;NO SCROLL&lt;/literal&gt;,
     no random access is allowed.
</span>
ある種の問い合わせに(前方、および、後方にスクロールする)ランダムアクセスを許可することは、何らかの追加作業なしでは行なうことができません。
カーソル生成時に<code class="literal">SCROLL</code>が付与された場合、この追加作業が行なわれます。
さらに、そのカーソルが<code class="literal">NO SCROLL</code>で生成された場合は、ランダムアクセスは許可されません。
    </p></li><li class="listitem"><p>
     Implement SQL-compatible options <code class="literal">FIRST</code>,
     <code class="literal">LAST</code>, <code class="literal">ABSOLUTE <em class="replaceable"><code>n</code></em></code>,
     <code class="literal">RELATIVE <em class="replaceable"><code>n</code></em></code> for
     <code class="command">FETCH</code> and <code class="command">MOVE</code> (Tom)
    </p></li><li class="listitem"><p>Allow <code class="command">EXPLAIN</code> on <code class="command">DECLARE CURSOR</code> (Tom)</p></li><li class="listitem"><p>Allow <code class="command">CLUSTER</code> to use index marked as pre-clustered by default (Alvaro Herrera)</p></li><li class="listitem"><p>Allow <code class="command">CLUSTER</code> to cluster all tables (Alvaro Herrera)</p><p>
<span class="original">
     This allows all previously clustered tables in a database to be
     reclustered with a single command.
</span>
これにより、過去にクラスタ化されたテーブルは全て、単一コマンドで再度クラスタ化することができます。
    </p></li><li class="listitem"><p>Prevent <code class="command">CLUSTER</code> on partial indexes (Tom)</p></li><li class="listitem"><p>Allow DOS and Mac line-endings in <code class="command">COPY</code> files (Bruce)</p></li><li class="listitem"><p>
     Disallow literal carriage return as a data value,
     backslash-carriage-return and <code class="literal">\r</code> are still allowed
     (Bruce)
    </p></li><li class="listitem"><p><code class="command">COPY</code> changes (binary, <code class="literal">\.</code>) (Tom)</p></li><li class="listitem"><p>Recover from <code class="command">COPY</code> failure cleanly (Tom)</p></li><li class="listitem"><p>Prevent possible memory leaks in <code class="command">COPY</code> (Tom)</p></li><li class="listitem"><p>Make <code class="command">TRUNCATE</code> transaction-safe (Rod)</p><p>
<span class="original">
     &lt;command&gt;TRUNCATE&lt;/command&gt; can now be used inside a
     transaction. If the transaction aborts, the changes made by the
     &lt;command&gt;TRUNCATE&lt;/command&gt; are automatically rolled back.
</span>
<code class="command">TRUNCATE</code> がトランザクション内部で使用できるようになりました。
トランザクションが中断した場合、<code class="command">TRUNCATE</code> で行なわれた変更は自動的にロールバックされます。
    </p></li><li class="listitem"><p>
     Allow prepare/bind of utility commands like
     <code class="command">FETCH</code> and <code class="command">EXPLAIN</code> (Tom)
    </p></li><li class="listitem"><p>Add <code class="command">EXPLAIN EXECUTE</code> (Neil)</p></li><li class="listitem"><p>Improve <code class="command">VACUUM</code> performance on indexes by reducing WAL traffic (Tom)</p></li><li class="listitem"><p>Functional indexes have been generalized into indexes on expressions (Tom)</p><p>
<span class="original">
     In prior releases, functional indexes only supported a simple
     function applied to one or more column names.  This release
     allows any type of scalar expression.
</span>
以前のリリースでは、関数インデックスは、1つ以上の列名に適用される単一の関数のみをサポートしていました。
このリリースでは、任意の種類のスカラ式を使用できます。
    </p></li><li class="listitem"><p>
     Have <code class="command">SHOW TRANSACTION ISOLATION</code> match input
     to <code class="command">SET TRANSACTION ISOLATION</code>
     (Tom)
    </p></li><li class="listitem"><p>
      Have <code class="command">COMMENT ON DATABASE</code> on nonlocal
      database generate a warning, rather than an error (Rod)
     </p><p>
<span class="original">
     Database comments are stored in database-local tables so
     comments on a database have to be stored in each database.
</span>
データベースのコメントは、データベースに局所的なテーブルに保存されます。
そのため、データベース上のコメントは各データベース内に保存されなければなりません。
    </p></li><li class="listitem"><p>
     Improve reliability of <code class="command">LISTEN</code>/<code class="command">NOTIFY</code> (Tom)
    </p></li><li class="listitem"><p>Allow <code class="command">REINDEX</code> to reliably reindex nonshared system catalog indexes (Tom)</p><p>
<span class="original">
     This allows system tables to be reindexed without the
     requirement of a standalone session, which was necessary in
     previous releases. The only tables that now require a standalone
     session for reindexing are the global system tables
     &lt;literal&gt;pg_database&lt;/literal&gt;, &lt;literal&gt;pg_shadow&lt;/literal&gt;, and
     &lt;literal&gt;pg_group&lt;/literal&gt;.
</span>
これにより、以前のリリースでは必要であった、スタンドアローンセッションの必要なしにシステムテーブルのインデックスを再作成できます。
現時点で、インデックスの再作成のためにスタンドアローンセッションが必要なテーブルは、<code class="literal">pg_database</code>、<code class="literal">pg_shadow</code>、<code class="literal">pg_group</code>.グローバルシステムテーブルのみです。
    </p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.9"><div class="titlepage"><div><div><h4 class="title">E.311.3.7. データ型と関数に関する変更</h4></div></div></div><span class="original">
  &lt;title&gt;Data Type and Function Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
     New server parameter <code class="varname">extra_float_digits</code> to
     control precision display of floating-point numbers (Pedro
     Ferreira, Tom)
    </p><p>
<span class="original">
     This controls output precision which was causing regression
     testing problems.
</span>
これにより、リグレッションテストで問題の原因となった、出力精度を制御することができます。
    </p></li><li class="listitem"><p>Allow <code class="literal">+1300</code> as a numeric time-zone specifier, for FJST (Tom)</p></li><li class="listitem"><p>
     Remove rarely used functions <code class="function">oidrand</code>,
     <code class="function">oidsrand</code>, and <code class="function">userfntest</code> functions
     (Neil)
    </p></li><li class="listitem"><p>Add <code class="function">md5()</code> function to main server, already in <code class="filename">contrib/pgcrypto</code> (Joe)</p><p>
<span class="original">
     An MD5 function was frequently requested. For more complex
     encryption capabilities, use
     &lt;filename&gt;contrib/pgcrypto&lt;/filename&gt;.
</span>
MD5関数がしばしば要求されました。
より複雑な暗号化のためには<code class="filename">contrib/pgcrypto</code>を使用して下さい。
    </p></li><li class="listitem"><p>Increase date range of <code class="type">timestamp</code> (John Cochran)</p></li><li class="listitem"><p>
     Change <code class="literal">EXTRACT(EPOCH FROM timestamp)</code> so
     <code class="type">timestamp without time zone</code> is assumed to be in
     local time, not GMT (Tom)
    </p></li><li class="listitem"><p>Trap division by zero in case the operating system doesn't prevent it (Tom)</p></li><li class="listitem"><p>Change the <code class="type">numeric</code> data type internally to base 10000 (Tom)</p></li><li class="listitem"><p>New <code class="function">hostmask()</code> function (Greg Wickham)</p></li><li class="listitem"><p>Fixes for <code class="function">to_char()</code> and <code class="function">to_timestamp()</code> (Karel)</p></li><li class="listitem"><p>
     Allow functions that can take any argument data type and return
     any data type, using <code class="type">anyelement</code> and
     <code class="type">anyarray</code> (Joe)
    </p><p>
<span class="original">
     This allows the creation of functions that can work with any
     data type.
</span>
これにより、任意のデータ型で動作できる関数を作成できるようになります。
    </p></li><li class="listitem"><p>
     Arrays can now be specified as <code class="literal">ARRAY[1,2,3]</code>,
     <code class="literal">ARRAY[['a','b'],['c','d']]</code>, or
     <code class="literal">ARRAY[ARRAY[ARRAY[2]]]</code> (Joe)
    </p></li><li class="listitem"><p>
     Allow proper comparisons for arrays, including <code class="literal">ORDER
     BY</code> and <code class="literal">DISTINCT</code> support
     (Joe)
    </p></li><li class="listitem"><p>Allow indexes on array columns (Joe)</p></li><li class="listitem"><p>Allow array concatenation with <code class="literal">||</code> (Joe)</p></li><li class="listitem"><p>
     Allow <code class="literal">WHERE</code> qualification
     <code class="literal"><em class="replaceable"><code>expr</code></em> <em class="replaceable"><code>op</code></em> ANY/SOME/ALL
     (<em class="replaceable"><code>array_expr</code></em>)</code> (Joe)
    </p><p>
<span class="original">
     This allows arrays to behave like a list of values, for purposes
     like &lt;literal&gt;SELECT * FROM tab WHERE col IN
     (array_val)&lt;/literal&gt;.
</span>
これにより、<code class="literal">SELECT * FROM tab WHERE col IN (array_val)</code>のような目的のために、配列が値のリストのように振舞うことができます。
    </p></li><li class="listitem"><p>
     New array functions <code class="function">array_append</code>,
     <code class="function">array_cat</code>, <code class="function">array_lower</code>,
     <code class="function">array_prepend</code>, <code class="function">array_to_string</code>,
     <code class="function">array_upper</code>, <code class="function">string_to_array</code> (Joe)
    </p></li><li class="listitem"><p>Allow user defined aggregates to use polymorphic functions (Joe)</p></li><li class="listitem"><p>Allow assignments to empty arrays (Joe)</p></li><li class="listitem"><p>
     Allow 60 in seconds fields of <code class="type">time</code>,
     <code class="type">timestamp</code>, and <code class="type">interval</code> input values
     (Tom)
    </p><p>
<span class="original">
     Sixty-second values are needed for leap seconds.
</span>
閏秒には60秒という値が必要でした。
    </p></li><li class="listitem"><p>Allow <code class="type">cidr</code> data type to be cast to <code class="type">text</code> (Tom)</p></li><li class="listitem"><p>Disallow invalid time zone names in SET TIMEZONE</p></li><li class="listitem"><p>
     Trim trailing spaces when <code class="type">char</code> is cast to
     <code class="type">varchar</code> or <code class="type">text</code> (Tom)
    </p></li><li class="listitem"><p>
     Make <code class="type">float(<em class="replaceable"><code>p</code></em>)</code> measure the precision
     <em class="replaceable"><code>p</code></em> in binary digits, not decimal digits
     (Tom)
    </p></li><li class="listitem"><p>Add IPv6 support to the <code class="type">inet</code> and <code class="type">cidr</code> data types (Michael Graff)</p></li><li class="listitem"><p>Add <code class="function">family()</code> function to report whether address is IPv4 or IPv6 (Michael Graff)</p></li><li class="listitem"><p>
     Have <code class="literal">SHOW datestyle</code> generate output similar
     to that used by <code class="literal">SET datestyle</code> (Tom)
    </p></li><li class="listitem"><p>
     Make <code class="literal">EXTRACT(TIMEZONE)</code> and <code class="literal">SET/SHOW
     TIME ZONE</code> follow the SQL convention for the sign of
     time zone offsets, i.e., positive is east from UTC (Tom)
    </p></li><li class="listitem"><p>Fix <code class="literal">date_trunc('quarter', ...)</code> (Böjthe Zoltán)</p><p>
<span class="original">
     Prior releases returned an incorrect value for this function call.
</span>
以前のリリースのこの関数の呼び出しは不正確な値を返しました。
    </p></li><li class="listitem"><p>Make <code class="function">initcap()</code> more compatible with Oracle (Mike Nolan)</p><p>
<span class="original">
     &lt;function&gt;initcap()&lt;/function&gt; now uppercases a letter appearing
     after any non-alphanumeric character, rather than only after
     whitespace.
</span>
<code class="function">initcap()</code> は空白文字の直後だけではなく、非英数字の直後の文字を大文字にするようになりました。
    </p></li><li class="listitem"><p>Allow only <code class="varname">datestyle</code> field order for date values not in ISO-8601 format (Greg)</p></li><li class="listitem"><p>
     Add new <code class="varname">datestyle</code> values <code class="literal">MDY</code>,
     <code class="literal">DMY</code>, and <code class="literal">YMD</code> to set input field order;
     honor <code class="literal">US</code> and <code class="literal">European</code> for backward
     compatibility (Tom)
    </p></li><li class="listitem"><p>
     String literals like <code class="literal">'now'</code> or
     <code class="literal">'today'</code> will no longer work as a column
     default. Use functions such as <code class="function">now()</code>,
     <code class="function">current_timestamp</code> instead.  (change
     required for prepared statements) (Tom)
    </p></li><li class="listitem"><p>Treat NaN as larger than any other value in <code class="function">min()</code>/<code class="function">max()</code> (Tom)</p><p>
<span class="original">
     NaN was already sorted after ordinary numeric values for most
     purposes, but &lt;function&gt;min()&lt;/function&gt; and &lt;function&gt;max()&lt;/function&gt; didn't
     get this right.
</span>
NaNは既にほとんどの目的で、通常の数値の後にソートされていましたが、<code class="function">min()</code> と <code class="function">max()</code>ではこれを正しく取っていませんでした。
    </p></li><li class="listitem"><p>Prevent interval from suppressing <code class="literal">:00</code>
    seconds display</p></li><li class="listitem"><p>
     New functions <code class="function">pg_get_triggerdef(prettyprint)</code>
     and <code class="function">pg_conversion_is_visible()</code> (Christopher)
    </p></li><li class="listitem"><p>Allow time to be specified as <code class="literal">040506</code> or <code class="literal">0405</code> (Tom)</p></li><li class="listitem"><p>
     Input date order must now be <code class="literal">YYYY-MM-DD</code> (with 4-digit year) or
     match <code class="varname">datestyle</code>
    </p></li><li class="listitem"><p>
     Make <code class="function">pg_get_constraintdef</code> support
     unique, primary-key, and check constraints (Christopher)
    </p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.10"><div class="titlepage"><div><div><h4 class="title">E.311.3.8. サーバ側の言語に関する変更</h4></div></div></div><span class="original">
  &lt;title&gt;Server-Side Language Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
     Prevent PL/pgSQL crash when <code class="literal">RETURN NEXT</code> is
     used on a zero-row record variable (Tom)
    </p></li><li class="listitem"><p>
     Make PL/Python's <code class="function">spi_execute</code> interface
     handle null values properly (Andrew Bosma)
    </p></li><li class="listitem"><p>Allow PL/pgSQL to declare variables of composite types without <code class="literal">%ROWTYPE</code> (Tom)</p></li><li class="listitem"><p>Fix PL/Python's <code class="function">_quote()</code> function to handle big integers</p></li><li class="listitem"><p>Make PL/Python an untrusted language, now called <code class="literal">plpythonu</code> (Kevin Jacobs, Tom)</p><p>
<span class="original">
     The Python language no longer supports a restricted execution
     environment, so the trusted version of PL/Python was removed. If
     this situation changes, a version of PL/Python that can be used
     by non-superusers will be readded.
</span>
Python言語は制限付き実行環境をサポートしなくなりました。
そのため、信頼されたバージョンのPL/Pythonは削除されました。
この状態が変われば、非スーパーユーザで使用可能なバージョンのPL/Pythonは再び追加されるでしょう。
    </p></li><li class="listitem"><p>Allow polymorphic PL/pgSQL functions (Joe, Tom)</p></li><li class="listitem"><p>Allow polymorphic SQL functions (Joe)</p></li><li class="listitem"><p>
     Improved compiled function caching mechanism in PL/pgSQL with
     full support for polymorphism (Joe)
    </p></li><li class="listitem"><p>
     Add new parameter <code class="literal">$0</code> in PL/pgSQL representing the
     function's actual return type (Joe)
    </p></li><li class="listitem"><p>
     Allow PL/Tcl and PL/Python to use the same trigger on multiple tables (Tom)
    </p></li><li class="listitem"><p>
     Fixed PL/Tcl's <code class="function">spi_prepare</code> to accept fully
     qualified type names in the parameter type list
     (Jan)
    </p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.11"><div class="titlepage"><div><div><h4 class="title">E.311.3.9. psql の変更</h4></div></div></div><span class="original">
  &lt;title&gt;psql Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Add <code class="literal">\pset pager always</code> to always use pager (Greg)</p><p>
<span class="original">
     This forces the pager to be used even if the number of rows is
     less than the screen height.  This is valuable for rows that
     wrap across several screen rows.
</span>
これにより行数がスクリーンの高さよりも少なかったとしても強制的にページャを使用します。
これは、スクリーンの複数行に跨がる行では価値があります。
    </p></li><li class="listitem"><p>Improve tab completion (Rod, Ross Reedstrom, Ian Barwick)</p></li><li class="listitem"><p>Reorder <code class="literal">\?</code> help into groupings (Harald Armin Massa, Bruce)</p></li><li class="listitem"><p>Add backslash commands for listing schemas, casts, and conversions (Christopher)</p></li><li class="listitem"><p>
     <code class="command">\encoding</code> now changes based on the server parameter
     <code class="varname">client_encoding</code> (Tom)
    </p><p>
<span class="original">
     In previous versions, &lt;command&gt;\encoding&lt;/command&gt; was not aware
     of encoding changes made using &lt;literal&gt;SET
     client_encoding&lt;/literal&gt;.
</span>
以前のリリースでは、<code class="literal">SET client_encoding</code>を使用した符号化方式の変更は<code class="command">\encoding</code>に影響しませんでした。
    </p></li><li class="listitem"><p>Save editor buffer into readline history (Ross)</p><p>
<span class="original">
     When &lt;command&gt;\e&lt;/command&gt; is used to edit a query, the result is saved
     in the readline history for retrieval using the up arrow.
</span>
<code class="command">\e</code>を使用して問い合わせを編集する場合、その結果はreadlineの履歴に保存され、上矢印キーを使用して取り出すことができます。
    </p></li><li class="listitem"><p>Improve <code class="command">\d</code> display (Christopher)</p></li><li class="listitem"><p>Enhance HTML mode to be more standards-conforming (Greg)</p></li><li class="listitem"><p>New <code class="command">\set AUTOCOMMIT off</code> capability (Tom)</p><p>
<span class="original">
     This takes the place of the removed server parameter &lt;varname&gt;autocommit&lt;/varname&gt;.
</span>
これは、削除された<code class="varname">autocommit</code>サーバパラメータの代わりになります。
    </p></li><li class="listitem"><p>New <code class="command">\set VERBOSITY</code> to control error detail (Tom)</p><p>
<span class="original">
     This controls the new error reporting details.
</span>
これは新しいエラー報告の詳細を制御します。
    </p></li><li class="listitem"><p>New prompt escape sequence <code class="literal">%x</code> to show transaction status (Tom)</p></li><li class="listitem"><p>Long options for <span class="application">psql</span> are now available on all platforms</p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.12"><div class="titlepage"><div><div><h4 class="title">E.311.3.10. pg_dump の変更</h4></div></div></div><span class="original">
  &lt;title&gt;pg_dump Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Multiple pg_dump fixes, including tar format and large objects</p></li><li class="listitem"><p>Allow pg_dump to dump specific schemas (Neil)</p></li><li class="listitem"><p>Make pg_dump preserve column storage characteristics (Christopher)</p><p>
<span class="original">
     This preserves &lt;literal&gt;ALTER TABLE ... SET STORAGE&lt;/literal&gt; information.
</span>
これは<code class="literal">ALTER TABLE ... SET STORAGE</code>の情報を保持します。
    </p></li><li class="listitem"><p>Make pg_dump preserve <code class="command">CLUSTER</code> characteristics (Christopher)</p></li><li class="listitem"><p>
     Have pg_dumpall use <code class="command">GRANT</code>/<code class="command">REVOKE</code> to dump database-level privileges (Tom)
    </p></li><li class="listitem"><p>
     Allow pg_dumpall to support the options <code class="option">-a</code>,
     <code class="option">-s</code>, <code class="option">-x</code> of pg_dump (Tom)
    </p></li><li class="listitem"><p>Prevent pg_dump from lowercasing identifiers specified on the command line (Tom)</p></li><li class="listitem"><p>
     pg_dump options <code class="option">--use-set-session-authorization</code>
     and <code class="option">--no-reconnect</code> now do nothing, all dumps
     use <code class="command">SET SESSION AUTHORIZATION</code>
    </p><p>
<span class="original">
     pg_dump no longer reconnects to switch users, but instead always
     uses &lt;command&gt;SET SESSION AUTHORIZATION&lt;/command&gt;. This will
     reduce password prompting during restores.
</span>
pg_dumpはユーザを切替えるための再接続を行なわないようになりました。
その代わりに常に<code class="command">SET SESSION AUTHORIZATION</code>を使用します。
これはリストア時のパスワード問い合わせを減少させます。
    </p></li><li class="listitem"><p>Long options for <span class="application">pg_dump</span> are now available on all platforms</p><p>
<span class="original">
     &lt;productname&gt;PostgreSQL&lt;/productname&gt; now includes its own
     long-option processing routines.
</span>
<span class="productname">PostgreSQL</span>はその内部に長い名前のオプションを処理する関数を含むようになりました。
    </p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.13"><div class="titlepage"><div><div><h4 class="title">E.311.3.11. libpq の変更</h4></div></div></div><span class="original">
  &lt;title&gt;libpq Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
     Add function <code class="function">PQfreemem</code> for freeing memory on
     Windows, suggested for <code class="command">NOTIFY</code> (Bruce)
    </p><p>
<span class="original">
     Windows requires that memory allocated in a library be freed by
     a function in the same library, hence
     &lt;function&gt;free()&lt;/function&gt; doesn't work for freeing memory
     allocated by libpq. &lt;function&gt;PQfreemem&lt;/function&gt; is the proper
     way to free libpq memory, especially on Windows, and is
     recommended for other platforms as well.
</span>
Windowsは、あるライブラリで割り当てられたメモリを同じライブラリ内の関数で解放することを要求します。
そのため、<code class="function">free()</code>では、libpqで割り当てられたメモリの解放を行なうことができません。
特にWindowsでは<code class="function">PQfreemem</code> がlibpqのメモリを解放する適切な方法です。
そして、これは他のプラットフォームでも推奨されます。
    </p></li><li class="listitem"><p>Document service capability, and add sample file (Bruce)</p><p>
<span class="original">
     This allows clients to look up connection information in a
     central file on the client machine.
</span>
これにより、クライアントはクライアントマシン上で中央にまとめられたファイル内の接続情報を検索することができます。
    </p></li><li class="listitem"><p>
     Make <code class="function">PQsetdbLogin</code> have the same defaults as
     <code class="function">PQconnectdb</code> (Tom)
    </p></li><li class="listitem"><p>Allow libpq to cleanly fail when result sets are too large (Tom)</p></li><li class="listitem"><p>
     Improve performance of function <code class="function">PQunescapeBytea</code> (Ben Lamb)
    </p></li><li class="listitem"><p>
     Allow thread-safe libpq with <code class="filename">configure</code>
     option <code class="option">--enable-thread-safety</code> (Lee Kindness,
     Philip Yarra)
    </p></li><li class="listitem"><p>
     Allow function <code class="function">pqInternalNotice</code> to accept a
     format string and arguments instead of just a preformatted
     message (Tom, Sean Chittenden)
    </p></li><li class="listitem"><p>
     Control SSL negotiation with <code class="literal">sslmode</code> values
     <code class="literal">disable</code>, <code class="literal">allow</code>,
     <code class="literal">prefer</code>, and <code class="literal">require</code> (Jon
     Jensen)
    </p></li><li class="listitem"><p>Allow new error codes and levels of text (Tom)</p></li><li class="listitem"><p>Allow access to the underlying table and column of a query result (Tom)</p><p>
<span class="original">
     This is helpful for query-builder applications that want to know
     the underlying table and column names associated with a specific
     result set.
</span>
指定した結果セットに関連する、背後にあるテーブルと列の名前を把握したい問い合わせ構築ツールで役にたちます。
    </p></li><li class="listitem"><p>Allow access to the current transaction status (Tom)</p></li><li class="listitem"><p>Add ability to pass binary data directly to the server (Tom)</p></li><li class="listitem"><p>
     Add function <code class="function">PQexecPrepared</code> and
     <code class="function">PQsendQueryPrepared</code> functions which perform
     bind/execute of previously prepared statements (Tom)
     </p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.14"><div class="titlepage"><div><div><h4 class="title">E.311.3.12. JDBC に関する変更</h4></div></div></div><span class="original">
  &lt;title&gt;JDBC Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Allow <code class="function">setNull</code> on updateable result sets</p></li><li class="listitem"><p>Allow <code class="function">executeBatch</code> on a prepared statement (Barry)</p></li><li class="listitem"><p>Support SSL connections (Barry)</p></li><li class="listitem"><p>Handle schema names in result sets (Paul Sorenson)</p></li><li class="listitem"><p>Add refcursor support (Nic Ferrier)</p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.15"><div class="titlepage"><div><div><h4 class="title">E.311.3.13. インタフェースに関する雑多な変更</h4></div></div></div><span class="original">
  &lt;title&gt;Miscellaneous Interface Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Prevent possible memory leak or core dump during libpgtcl shutdown (Tom)</p></li><li class="listitem"><p>Add Informix compatibility to ECPG (Michael)</p><p>
<span class="original">
     This allows ECPG to process embedded C programs that were
     written using certain Informix extensions.
</span>
これにより、ECPGは、Informix拡張を使用して作成された組み込みCプログラムを処理できます。
    </p></li><li class="listitem"><p>Add type <code class="type">decimal</code> to ECPG that is fixed length, for Informix (Michael)</p></li><li class="listitem"><p>
     Allow thread-safe embedded SQL programs with
     <code class="filename">configure</code> option
     <code class="option">--enable-thread-safety</code> (Lee Kindness, Bruce)
    </p><p>
<span class="original">
     This allows multiple threads to access the database at the same
     time.
</span>
これにより、複数のスレッドが同時にデータベースにアクセスできます。
    </p></li><li class="listitem"><p>Moved Python client PyGreSQL to <a class="ulink" href="http://www.pygresql.org" target="_top">http://www.pygresql.org</a> (Marc)</p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.16"><div class="titlepage"><div><div><h4 class="title">E.311.3.14. ソースコードに関する変更</h4></div></div></div><span class="original">
  &lt;title&gt;Source Code Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Prevent need for separate platform geometry regression result files (Tom)</p></li><li class="listitem"><p>Improved PPC locking primitive (Reinhard Max)</p></li><li class="listitem"><p>New function <code class="function">palloc0</code> to allocate and clear memory (Bruce)</p></li><li class="listitem"><p>Fix locking code for s390x CPU (64-bit) (Tom)</p></li><li class="listitem"><p>Allow OpenBSD to use local ident credentials (William Ahern)</p></li><li class="listitem"><p>Make query plan trees read-only to executor (Tom)</p></li><li class="listitem"><p>Add macOS startup scripts (David Wheeler)</p></li><li class="listitem"><p>Allow libpq to compile with Borland C++ compiler (Lester Godwin, Karl Waclawek)</p></li><li class="listitem"><p>Use our own version of <code class="function">getopt_long()</code> if needed (Peter)</p></li><li class="listitem"><p>Convert administration scripts to C (Peter)</p></li><li class="listitem"><p> Bison &gt;= 1.85 is now required to build the <span class="productname">PostgreSQL</span> grammar, if building from CVS</p></li><li class="listitem"><p>Merge documentation into one book (Peter)</p></li><li class="listitem"><p>Add Windows compatibility functions (Bruce)</p></li><li class="listitem"><p>Allow client interfaces to compile under MinGW (Bruce)</p></li><li class="listitem"><p>New <code class="function">ereport()</code> function for error reporting (Tom)</p></li><li class="listitem"><p>Support Intel compiler on Linux (Peter)</p></li><li class="listitem"><p>Improve Linux startup scripts (Slawomir Sudnik, Darko Prenosil)</p></li><li class="listitem"><p>Add support for AMD Opteron and Itanium (Jeffrey W. Baker, Bruce)</p></li><li class="listitem"><p>Remove <code class="option">--enable-recode</code> option from <code class="command">configure</code></p><p>
<span class="original">
     This was no longer needed now that we have &lt;command&gt;CREATE CONVERSION&lt;/command&gt;.
</span>
<code class="command">CREATE CONVERSION</code>がありますので、これはもはや不要です。
    </p></li><li class="listitem"><p>Generate a compile error if spinlock code is not found (Bruce)</p><p>
<span class="original">
     Platforms without spinlock code will now fail to compile, rather
     than silently using semaphores. This failure can be disabled
     with a new &lt;command&gt;configure&lt;/command&gt; option.
</span>
スピンロック用のコードがないプラットフォームは、セマフォをこっそりと使用するのではなく、コンパイルに失敗するようになります。
この失敗は、新しい<code class="command">configure</code>オプションで無効にすることができます。
    </p></li></ul></div></div><div class="sect3" id="id-1.11.6.315.5.17"><div class="titlepage"><div><div><h4 class="title">E.311.3.15. 寄贈物に関する変更</h4></div></div></div><span class="original">
  &lt;title&gt;Contrib Changes&lt;/title&gt;
</span><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Change dbmirror license to BSD</p></li><li class="listitem"><p>Improve earthdistance (Bruno Wolff III)</p></li><li class="listitem"><p>Portability improvements to pgcrypto (Marko Kreen)</p></li><li class="listitem"><p>Prevent crash in xml (John Gray, Michael Richards)</p></li><li class="listitem"><p>Update oracle</p></li><li class="listitem"><p>Update mysql</p></li><li class="listitem"><p>Update cube (Bruno Wolff III)</p></li><li class="listitem"><p>Update earthdistance to use cube (Bruno Wolff III)</p></li><li class="listitem"><p>Update btree_gist (Oleg)</p></li><li class="listitem"><p>New tsearch2 full-text search module (Oleg, Teodor)</p></li><li class="listitem"><p>Add hash-based crosstab function to tablefuncs (Joe)</p></li><li class="listitem"><p>Add serial column to order <code class="function">connectby()</code> siblings in tablefuncs (Nabil Sayegh,Joe)</p></li><li class="listitem"><p>Add named persistent connections to dblink (Shridhar Daithanka)</p></li><li class="listitem"><p>New pg_autovacuum allows automatic <code class="command">VACUUM</code> (Matthew T. O'Connor)</p></li><li class="listitem"><p>Make pgbench honor environment variables <code class="envar">PGHOST</code>, <code class="envar">PGPORT</code>, <code class="envar">PGUSER</code> (Tatsuo)</p></li><li class="listitem"><p>Improve intarray (Teodor Sigaev)</p></li><li class="listitem"><p>Improve pgstattuple (Rod)</p></li><li class="listitem"><p>Fix bug in <code class="function">metaphone()</code> in fuzzystrmatch</p></li><li class="listitem"><p>Improve adddepend (Rod)</p></li><li class="listitem"><p>Update spi/timetravel (Böjthe Zoltán)</p></li><li class="listitem"><p>Fix dbase <code class="option">-s</code> option and improve non-ASCII handling (Thomas Behr, Márcio Smiderle)</p></li><li class="listitem"><p>Remove array module because features now included by default (Joe)</p></li></ul></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="release-7-4-1.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="release.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="release-7-3-21.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">E.310. リリース7.4.1 </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> E.312. リリース7.3.21</td></tr></table></div></body></html>