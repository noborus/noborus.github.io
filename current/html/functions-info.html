<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>9.25. システム情報関数</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="functions-srf.html" title="9.24. 集合を返す関数" /><link rel="next" href="functions-admin.html" title="9.26. システム管理関数" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.5文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="functions.html" title="第9章 関数と演算子">第9章 関数と演算子</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 11.5 &#10;                      functions-info.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="functions-srf.html" title="9.24. 集合を返す関数">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="functions.html" title="第9章 関数と演算子">上へ</a></td><td width="60%" align="center">9.25. システム情報関数</td><td width="20%" align="right"> <a accesskey="n" href="functions-admin.html" title="9.26. システム管理関数">次へ</a></td></tr></table><hr /></div><div class="sect1" id="FUNCTIONS-INFO"><div class="titlepage"><div><div><h2 class="title" style="clear: both">9.25. システム情報関数</h2></div></div></div><span class="original">
  &lt;title&gt;System Information Functions&lt;/title&gt;
</span><p>
<span class="original">
   &lt;xref linkend="functions-info-session-table"/&gt; shows several
   functions that extract session and system information.
</span>
<a class="xref" href="functions-info.html#FUNCTIONS-INFO-SESSION-TABLE" title="表9.60 セッション情報関数">表 9.60</a>に、セッションおよびシステムの情報を抽出する関数を示します。
  </p><p>
<span class="original">
   In addition to the functions listed in this section, there are a number of
   functions related to the statistics system that also provide system
   information. See &lt;xref linkend="monitoring-stats-views"/&gt; for more
   information.
</span>
本節で列挙されている関数のほかに、同様にシステム情報を提供する統計システムに関連した数多くの関数があります。
<a class="xref" href="monitoring-stats.html#MONITORING-STATS-VIEWS" title="28.2.2. 統計情報の表示">28.2.2</a>にさらに情報があります。
  </p><div class="table" id="FUNCTIONS-INFO-SESSION-TABLE"><p class="title"><strong>表9.60 セッション情報関数</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;Session Information Functions&lt;/title&gt;
</span><table class="table" summary="セッション情報関数" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>名前</th><th>戻り型</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal"><code class="function">current_catalog</code></code></td><td><code class="type">name</code></td><td>現在のデータベースの名前（SQL標準では<span class="quote">「<span class="quote">カタログ</span>」</span>と呼ばれる）</td></tr><tr><td><code class="literal"><code class="function">current_database()</code></code></td><td><code class="type">name</code></td><td>現在のデータベースの名前</td></tr><tr><td><code class="literal"><code class="function">current_query()</code></code></td><td><code class="type">text</code></td><td>クライアントから提示された、現在実行中問い合わせのテキスト（複数の文を含むことあり）</td></tr><tr><td><code class="literal"><code class="function">current_role</code></code></td><td><code class="type">name</code></td><td><code class="function">current_user</code>と同等</td></tr><tr><td><code class="literal"><code class="function">current_schema</code>[()]</code></td><td><code class="type">name</code></td><td>現在のスキーマの名前</td></tr><tr><td><code class="literal"><code class="function">current_schemas(<code class="type">boolean</code>)</code></code></td><td><code class="type">name[]</code></td><td>検索パス内のスキーマの名前、オプションにより暗黙的なスキーマも含める</td></tr><tr><td><code class="literal"><code class="function">current_user</code></code></td><td><code class="type">name</code></td><td>現在の処理実施コンテキストのユーザ名</td></tr><tr><td><code class="literal"><code class="function">inet_client_addr()</code></code></td><td><code class="type">inet</code></td><td>リモート接続のアドレス</td></tr><tr><td><code class="literal"><code class="function">inet_client_port()</code></code></td><td><code class="type">int</code></td><td>リモート接続のポート</td></tr><tr><td><code class="literal"><code class="function">inet_server_addr()</code></code></td><td><code class="type">inet</code></td><td>ローカル接続のアドレス</td></tr><tr><td><code class="literal"><code class="function">inet_server_port()</code></code></td><td><code class="type">int</code></td><td>ローカル接続のポート</td></tr><tr><td><code class="literal"><code class="function">pg_backend_pid()</code></code></td><td><code class="type">int</code></td><td>
<span class="original">
        Process ID of the server process attached to the current session
</span>
        現在のセッションに結びついたサーバプロセスのプロセスID
       </td></tr><tr><td><code class="literal"><code class="function">pg_blocking_pids(<code class="type">int</code>)</code></code></td><td><code class="type">int[]</code></td><td>指定のサーバプロセスIDによるロック取得をブロックしているプロセスID</td></tr><tr><td><code class="literal"><code class="function">pg_conf_load_time()</code></code></td><td><code class="type">timestamp with time zone</code></td><td>設定を読み込んだ時刻</td></tr><tr><td><code class="literal"><code class="function">pg_current_logfile([<span class="optional"><code class="type">text</code></span>])</code></code></td><td><code class="type">text</code></td><td>ログ収集機構が現在使用しているプライマリ、または指定のフォーマットのログのログファイルの名前</td></tr><tr><td><code class="literal"><code class="function">pg_my_temp_schema()</code></code></td><td><code class="type">oid</code></td><td>セッションの一時スキーマのOID、なければ0</td></tr><tr><td><code class="literal"><code class="function">pg_is_other_temp_schema(<code class="type">oid</code>)</code></code></td><td><code class="type">boolean</code></td><td>スキーマが他のセッションの一時スキーマかどうか？</td></tr><tr><td><code class="literal"><code class="function">pg_jit_available()</code></code></td><td><code class="type">boolean</code></td><td>is <acronym class="acronym">JIT</acronym>コンパイルがこのセッションで可能か？(<a class="xref" href="jit.html" title="第32章 実行時コンパイル(JIT)">第32章</a>参照)
<a class="xref" href="runtime-config-query.html#GUC-JIT">jit</a>がfalseなら、<code class="literal">false</code>を返します。</td></tr><tr><td><code class="literal"><code class="function">pg_listening_channels()</code></code></td><td><code class="type">setof text</code></td><td>今のセッションにおいて現在待ち受け中のチャンネル名</td></tr><tr><td><code class="literal"><code class="function">pg_notification_queue_usage()</code></code></td><td><code class="type">double</code></td><td>非同期通知キューのうち、現在占められている割合（0から1まで）</td></tr><tr><td><code class="literal"><code class="function">pg_postmaster_start_time()</code></code></td><td><code class="type">timestamp with time zone</code></td><td>サーバの起動時刻</td></tr><tr><td><code class="literal"><code class="function">pg_safe_snapshot_blocking_pids(<code class="type">int</code>)</code></code></td><td><code class="type">int[]</code></td><td>指定のサーバプロセスIDによる安全なスナップショットの取得をブロックしているプロセスID</td></tr><tr><td><code class="literal"><code class="function">pg_trigger_depth()</code></code></td><td><code class="type">int</code></td><td><span class="productname">PostgreSQL</span>のトリガの現在の入れ子の深さ (直接的であれ間接的であれ、トリガ内部から呼ばれていなければ0を返す)</td></tr><tr><td><code class="literal"><code class="function">session_user</code></code></td><td><code class="type">name</code></td><td>セッションのユーザ名</td></tr><tr><td><code class="literal"><code class="function">user</code></code></td><td><code class="type">name</code></td><td><code class="function">current_user</code>と等価</td></tr><tr><td><code class="literal"><code class="function">version()</code></code></td><td><code class="type">text</code></td><td><span class="productname">PostgreSQL</span>バージョン情報。機械読み取り可能なバージョンについては<a class="xref" href="runtime-config-preset.html#GUC-SERVER-VERSION-NUM">server_version_num</a>を参照。</td></tr></tbody></table></div></div><br class="table-break" /><div class="note"><h3 class="title">注記</h3><p>
<span class="original">
     &lt;function&gt;current_catalog&lt;/function&gt;,
     &lt;function&gt;current_role&lt;/function&gt;,
     &lt;function&gt;current_schema&lt;/function&gt;,
     &lt;function&gt;current_user&lt;/function&gt;,
     &lt;function&gt;session_user&lt;/function&gt;,
     and &lt;function&gt;user&lt;/function&gt; have special syntactic status
     in &lt;acronym&gt;SQL&lt;/acronym&gt;: they must be called without trailing
     parentheses.  (In PostgreSQL, parentheses can optionally be used with
     &lt;function&gt;current_schema&lt;/function&gt;, but not with the others.)
</span>
<code class="function">current_catalog</code>、<code class="function">current_role</code>、<code class="function">current_schema</code>、<code class="function">current_user</code>、<code class="function">session_user</code>および<code class="function">user</code>は<acronym class="acronym">SQL</acronym>において特殊な構文上の地位を持っており、最後に括弧を付けずに呼び出さなければなりません。
（PostgreSQLでは<code class="function">current_schema</code>の場合括弧を使用することができますが、他は使えません。）
    </p></div><a id="id-1.5.8.30.6" class="indexterm"></a><a id="id-1.5.8.30.7" class="indexterm"></a><a id="id-1.5.8.30.8" class="indexterm"></a><a id="id-1.5.8.30.9" class="indexterm"></a><a id="id-1.5.8.30.10" class="indexterm"></a><a id="id-1.5.8.30.11" class="indexterm"></a><a id="id-1.5.8.30.12" class="indexterm"></a><a id="id-1.5.8.30.13" class="indexterm"></a><a id="id-1.5.8.30.14" class="indexterm"></a><a id="id-1.5.8.30.15" class="indexterm"></a><a id="id-1.5.8.30.16" class="indexterm"></a><a id="id-1.5.8.30.17" class="indexterm"></a><a id="id-1.5.8.30.18" class="indexterm"></a><p>
<span class="original">
    The &lt;function&gt;session_user&lt;/function&gt; is normally the user who initiated
    the current database connection; but superusers can change this setting
    with &lt;xref linkend="sql-set-session-authorization"/&gt;.
    The &lt;function&gt;current_user&lt;/function&gt; is the user identifier
    that is applicable for permission checking. Normally it is equal
    to the session user, but it can be changed with
    &lt;xref linkend="sql-set-role"/&gt;.
    It also changes during the execution of
    functions with the attribute &lt;literal&gt;SECURITY DEFINER&lt;/literal&gt;.
    In Unix parlance, the session user is the &lt;quote&gt;real user&lt;/quote&gt; and
    the current user is the &lt;quote&gt;effective user&lt;/quote&gt;.
    &lt;function&gt;current_role&lt;/function&gt; and &lt;function&gt;user&lt;/function&gt; are
    synonyms for &lt;function&gt;current_user&lt;/function&gt;.  (The SQL standard draws
    a distinction between &lt;function&gt;current_role&lt;/function&gt;
    and &lt;function&gt;current_user&lt;/function&gt;, but &lt;productname&gt;PostgreSQL&lt;/productname&gt;
    does not, since it unifies users and roles into a single kind of entity.)
</span>
<code class="function">session_user</code>は、通常、現在のデータベース接続を開始したユーザです。しかし、スーパーユーザはこの設定を<a class="xref" href="sql-set-session-authorization.html" title="SET SESSION AUTHORIZATION"><span class="refentrytitle">SET SESSION AUTHORIZATION</span></a>を使用して変更することができます。
<code class="function">current_user</code>は、権限の検査に適用されるユーザ識別子です。
通常はセッションユーザと同じですが、<a class="xref" href="sql-set-role.html" title="SET ROLE"><span class="refentrytitle">SET ROLE</span></a>を使用して変更可能です。
<code class="literal">SECURITY DEFINER</code>属性を持つ関数の実行中にも変わります。
Unix用語で言うと、セッションユーザは<span class="quote">「<span class="quote">実ユーザ</span>」</span>で、現在のユーザは<span class="quote">「<span class="quote">実効ユーザ</span>」</span>です。
<code class="function">current_role</code>と<code class="function">user</code>は<code class="function">current_user</code>の同義語です。
（標準SQLでは<code class="function">current_role</code>と<code class="function">current_user</code>を区別していますが、<span class="productname">PostgreSQL</span>ではユーザとロールを1種類のエンティティに統合しているため、両者に区別はありません。）
   </p><p>
<span class="original">
    &lt;function&gt;current_schema&lt;/function&gt; returns the name of the schema that is
    first in the search path (or a null value if the search path is
    empty).  This is the schema that will be used for any tables or
    other named objects that are created without specifying a target schema.
    &lt;function&gt;current_schemas(boolean)&lt;/function&gt; returns an array of the names of all
    schemas presently in the search path.  The Boolean option determines whether or not
    implicitly included system schemas such as &lt;literal&gt;pg_catalog&lt;/literal&gt; are included in the
    returned search path.
</span>
<code class="function">current_schema</code>関数は、検索パスの最初にあるスキーマ名（もしくは、検索パスが空の場合はNULL値）を返します。
これは、対象スキーマを指定せずに作成される、すべてのテーブルまたは他の名前付きオブジェクトに使用されるスキーマです。
また、<code class="function">current_schemas(boolean)</code> は、検索パスに存在する全てのスキーマ名の配列を返します。
booleanオプションにより、<code class="literal">pg_catalog</code>のような暗黙的に含まれているシステムスキーマを、結果の検索パスに含めるかどうかを指定します。
   </p><div class="note"><h3 class="title">注記</h3><p>
<span class="original">
     The search path can be altered at run time.  The command is:
</span>
検索パスは、実行時に変更することができます。
使用するコマンドは以下の通りです。
</p><pre class="programlisting">
SET search_path TO <em class="replaceable"><code>schema</code></em> [<span class="optional">, <em class="replaceable"><code>schema</code></em>, ...</span>]
</pre><p>
    </p></div><a id="id-1.5.8.30.22" class="indexterm"></a><a id="id-1.5.8.30.23" class="indexterm"></a><a id="id-1.5.8.30.24" class="indexterm"></a><a id="id-1.5.8.30.25" class="indexterm"></a><p>
<span class="original">
     &lt;function&gt;inet_client_addr&lt;/function&gt; returns the IP address of the
     current client, and &lt;function&gt;inet_client_port&lt;/function&gt; returns the
     port number.
     &lt;function&gt;inet_server_addr&lt;/function&gt; returns the IP address on which
     the server accepted the current connection, and
     &lt;function&gt;inet_server_port&lt;/function&gt; returns the port number.
     All these functions return NULL if the current connection is via a
     Unix-domain socket.
</span>
<code class="function">inet_client_addr</code>は現在のクライアントのIPアドレスを返し、<code class="function">inet_client_port</code>はそのポート番号を返します。
<code class="function">inet_server_addr</code>は、現在の接続を受け付けたサーバのIPアドレスを返し、<code class="function">inet_server_port</code>はそのポート番号を返します。
これら全ての関数は接続がUnixドメインソケット経由の場合NULLを返します。
   </p><a id="id-1.5.8.30.27" class="indexterm"></a><p>
<span class="original">
    &lt;function&gt;pg_blocking_pids&lt;/function&gt; returns an array of the process IDs
    of the sessions that are blocking the server process with the specified
    process ID, or an empty array if there is no such server process or it is
    not blocked.  One server process blocks another if it either holds a lock
    that conflicts with the blocked process's lock request (hard block), or is
    waiting for a lock that would conflict with the blocked process's lock
    request and is ahead of it in the wait queue (soft block).  When using
    parallel queries the result always lists client-visible process IDs (that
    is, &lt;function&gt;pg_backend_pid&lt;/function&gt; results) even if the actual lock is held
    or awaited by a child worker process.  As a result of that, there may be
    duplicated PIDs in the result.  Also note that when a prepared transaction
    holds a conflicting lock, it will be represented by a zero process ID in
    the result of this function.
    Frequent calls to this function could have some impact on database
    performance, because it needs exclusive access to the lock manager's
    shared state for a short time.
</span>
<code class="function">pg_blocking_pids</code>は指定のプロセスIDのサーバプロセスをブロックしているセッションのプロセスIDの配列を返します。
指定のサーバプロセスが存在しない、あるいはそれがブロックされていないときは空の配列を返します。
あるサーバプロセスが別のサーバプロセスをブロックするのは、ブロックされるプロセスのロック要求と競合するロックを保持している場合（ハードブロック）、あるいは、ブロックされるプロセスのロック要求と競合するロックを待っていて、かつロック待ちキュー内でより前方にいる場合（ソフトロック）です。
パラレルクエリーを使っている場合、実際のロックを子ワーカプロセスが保持または待っている場合であっても、この結果には必ずクライアントから可視のプロセスID（つまり、<code class="function">pg_backend_pid</code>の結果）が示されます。
そのような仕様なので、この結果には重複するPIDが含まれることもあります。
また、プリペアドのトランザクションが競合するロックを保持している場合、この関数の結果ではプロセスIDがゼロとして示されることにも注意して下さい。
この関数はロックマネージャの共有状態に短時間、排他的アクセスをする必要があるため、それを頻繁に呼び出すとデータベースのパフォーマンスに多少、影響するかもしれません。
   </p><a id="id-1.5.8.30.29" class="indexterm"></a><p>
<span class="original">
    &lt;function&gt;pg_conf_load_time&lt;/function&gt; returns the
    &lt;type&gt;timestamp with time zone&lt;/type&gt; when the
    server configuration files were last loaded.
    (If the current session was alive at the time, this will be the time
    when the session itself re-read the configuration files, so the
    reading will vary a little in different sessions.  Otherwise it is
    the time when the postmaster process re-read the configuration files.)
</span>
<code class="function">pg_conf_load_time</code>はサーバの設定ファイルが最後に読み込まれた時の<code class="type">timestamp with time zone</code>を返します。
（現在のセッションがそのときに活動中だった場合、これはそのセッション自身が設定ファイルを再読み込みした時刻になるため、その結果はセッションによって少し異なるかもしれません。
それ以外の場合は、postmasterプロセスが設定ファイルを再読み込みした時刻になります。）
   </p><a id="id-1.5.8.30.31" class="indexterm"></a><a id="id-1.5.8.30.32" class="indexterm"></a><a id="id-1.5.8.30.33" class="indexterm"></a><a id="id-1.5.8.30.34" class="indexterm"></a><p>
<span class="original">
    &lt;function&gt;pg_current_logfile&lt;/function&gt; returns, as &lt;type&gt;text&lt;/type&gt;,
    the path of the log file(s) currently in use by the logging collector.
    The path includes the &lt;xref linkend="guc-log-directory"/&gt; directory
    and the log file name.  Log collection must be enabled or the return value
    is &lt;literal&gt;NULL&lt;/literal&gt;.  When multiple log files exist, each in a
    different format, &lt;function&gt;pg_current_logfile&lt;/function&gt; called
    without arguments returns the path of the file having the first format
    found in the ordered list: &lt;systemitem&gt;stderr&lt;/systemitem&gt;, &lt;systemitem&gt;csvlog&lt;/systemitem&gt;.
    &lt;literal&gt;NULL&lt;/literal&gt; is returned when no log file has any of these
    formats.  To request a specific file format supply, as &lt;type&gt;text&lt;/type&gt;,
    either &lt;systemitem&gt;csvlog&lt;/systemitem&gt; or &lt;systemitem&gt;stderr&lt;/systemitem&gt; as the value of the
    optional parameter. The return value is &lt;literal&gt;NULL&lt;/literal&gt; when the
    log format requested is not a configured
    &lt;xref linkend="guc-log-destination"/&gt;.  The
    &lt;function&gt;pg_current_logfile&lt;/function&gt; reflects the contents of the
    &lt;filename&gt;current_logfiles&lt;/filename&gt; file.
</span>
<code class="function">pg_current_logfile</code>はログ収集機構が現在使用しているログファイルのパスを<code class="type">text</code>,として返します。
パスには<a class="xref" href="runtime-config-logging.html#GUC-LOG-DIRECTORY">log_directory</a>ディレクトリとログファイルの名前が含まれます。
ログ収集が有効になっていなければならず、そうでなければ戻り値は<code class="literal">NULL</code>になります。
複数のログファイルがそれぞれ異なる形式で存在する場合、引数なしの<code class="function">pg_current_logfile</code>は、順序リスト（<span class="systemitem">stderr</span>、<span class="systemitem">csvlog</span>）の最初に出てくる形式のファイルのパスを返します。
これらの形式のログファイルがないときは<code class="literal">NULL</code>が返されます。
特定のファイル形式を要求するには、オプションパラメータの値として<span class="systemitem">csvlog</span>または<span class="systemitem">stderr</span>を<code class="type">text</code>として渡してください。
指定のログ形式が<a class="xref" href="runtime-config-logging.html#GUC-LOG-DESTINATION">log_destination</a>で設定されていない場合は、戻り値が<code class="literal">NULL</code>となります。
<code class="function">pg_current_logfiles</code>は<code class="filename">current_logfiles</code>ファイルの内容を反映します。
   </p><a id="id-1.5.8.30.36" class="indexterm"></a><a id="id-1.5.8.30.37" class="indexterm"></a><p>
<span class="original">
    &lt;function&gt;pg_my_temp_schema&lt;/function&gt; returns the OID of the current
    session's temporary schema, or zero if it has none (because it has not
    created any temporary tables).
    &lt;function&gt;pg_is_other_temp_schema&lt;/function&gt; returns true if the
    given OID is the OID of another session's temporary schema.
    (This can be useful, for example, to exclude other sessions' temporary
    tables from a catalog display.)
</span>
<code class="function">pg_my_temp_schema</code>は、現在のセッションの一時スキーマのOIDを返します。（一時テーブルをまだ１つも作成しておらず）存在しなければゼロを返します。
<code class="function">pg_is_other_temp_schema</code>は、指定したOIDが他のセッションの一時スキーマのOIDであれば、真を返します。
（例えば、他のセッションの一時テーブルをカタログ表示から除外したい場合などで有用です。）
   </p><a id="id-1.5.8.30.39" class="indexterm"></a><a id="id-1.5.8.30.40" class="indexterm"></a><p>
<span class="original">
    &lt;function&gt;pg_listening_channels&lt;/function&gt; returns a set of names of
    asynchronous notification channels that the current session is listening
    to.  &lt;function&gt;pg_notification_queue_usage&lt;/function&gt; returns the
    fraction of the total available space for notifications currently
    occupied by notifications that are waiting to be processed, as a
    &lt;type&gt;double&lt;/type&gt; in the range 0-1.
    See &lt;xref linkend="sql-listen"/&gt; and &lt;xref linkend="sql-notify"/&gt;
    for more information.
</span>
<code class="function">pg_listening_channels</code>は現在のセッションが監視している非同期通知チャネルの名前の集合を返します。
<code class="function">pg_notification_queue_usage</code>は通知用に利用可能な全領域のうち、処理待ちになっている通知によって現在占められている割合を0から1の範囲の<code class="type">double</code>として返します。
詳しくは<a class="xref" href="sql-listen.html" title="LISTEN"><span class="refentrytitle">LISTEN</span></a>および<a class="xref" href="sql-notify.html" title="NOTIFY"><span class="refentrytitle">NOTIFY</span></a>を参照して下さい。
   </p><a id="id-1.5.8.30.42" class="indexterm"></a><p>
<span class="original">
    &lt;function&gt;pg_postmaster_start_time&lt;/function&gt; returns the
    &lt;type&gt;timestamp with time zone&lt;/type&gt; when the
    server started.
</span>
<code class="function">pg_postmaster_start_time</code>は、サーバが起動したときの<code class="type">timestamp with time zone</code>を返します。
   </p><a id="id-1.5.8.30.44" class="indexterm"></a><p>
<span class="original">
    &lt;function&gt;pg_safe_snapshot_blocking_pids&lt;/function&gt; returns an array of
    the process IDs of the sessions that are blocking the server process with
    the specified process ID from acquiring a safe snapshot, or an empty array
    if there is no such server process or it is not blocked.  A session
    running a &lt;literal&gt;SERIALIZABLE&lt;/literal&gt; transaction blocks
    a &lt;literal&gt;SERIALIZABLE READ ONLY DEFERRABLE&lt;/literal&gt; transaction from
    acquiring a snapshot until the latter determines that it is safe to avoid
    taking any predicate locks.  See &lt;xref linkend="xact-serializable"/&gt; for
    more information about serializable and deferrable transactions.  Frequent
    calls to this function could have some impact on database performance,
    because it needs access to the predicate lock manager's shared
    state for a short time.
</span>
<code class="function">pg_safe_snapshot_blocking_pids</code>は、指定のプロセスIDが安全なスナップショットを取得するのをブロックしているサーバプロセスのセッションのプロセスIDの配列を返します。
そのようなサーバプロセスが存在しない場合、またはブロックされていない場合は空の配列が返されます。
<code class="literal">SERIALIZABLE</code>トランザクションを実行しているセッションは、<code class="literal">SERIALIZABLE READ ONLY DEFERRABLE</code>トランザクションが述語ロックの取得をすべて回避しても安全であると決定するまで、後者がスナップショットを取得するのをブロックします。
シリアライザブルトランザクションおよび遅延可能トランザクションについてのさらなる情報については<a class="xref" href="transaction-iso.html#XACT-SERIALIZABLE" title="13.2.3. シリアライザブル分離レベル">13.2.3</a>を参照してください。
この関数を頻繁に呼び出すと、短時間に述語ロックマネージャの共有状態にアクセスする必要があるため、データベースのパフォーマンスに若干の影響が出るかもしれません。
   </p><a id="id-1.5.8.30.46" class="indexterm"></a><p>
<span class="original">
    &lt;function&gt;version&lt;/function&gt; returns a string describing the
    &lt;productname&gt;PostgreSQL&lt;/productname&gt; server's version. You can also
    get this information from &lt;xref linkend="guc-server-version"/&gt; or
    for a machine-readable version, &lt;xref linkend="guc-server-version-num"/&gt;.
    Software developers should use &lt;literal&gt;server_version_num&lt;/literal&gt;
    (available since 8.2) or &lt;xref linkend="libpq-pqserverversion"/&gt; instead
    of parsing the text version.
</span>
<code class="function">version</code>関数は<span class="productname">PostgreSQL</span>サーバのバージョンを記述した文字列を返します。
この情報は<a class="xref" href="runtime-config-preset.html#GUC-SERVER-VERSION">server_version</a>でも取得できますし、機械読み取り可能なバージョンは<a class="xref" href="runtime-config-preset.html#GUC-SERVER-VERSION-NUM">server_version_num</a>で取得できます。
ソフトウェア開発者はテキスト版の結果を解析するのではなく、<code class="literal">server_version_num</code>（バージョン8.2以降で利用可能）あるいは<a class="xref" href="libpq-status.html#LIBPQ-PQSERVERVERSION">
      <code class="function">PQserverVersion</code>
      
     </a>を利用すべきです。
   </p><a id="id-1.5.8.30.48" class="indexterm"></a><p>
<span class="original">
   &lt;xref linkend="functions-info-access-table"/&gt; lists functions that
   allow the user to query object access privileges programmatically.
   See &lt;xref linkend="ddl-priv"/&gt; for more information about
   privileges.
</span>
<a class="xref" href="functions-info.html#FUNCTIONS-INFO-ACCESS-TABLE" title="表9.61 アクセス権限照会関数">表 9.61</a>に列挙した関数を使用して、ユーザはオブジェクトのアクセス権限をプログラムから問い合わせることができます。
権限についての詳細は、<a class="xref" href="ddl-priv.html" title="5.6. 権限">5.6</a>を参照してください。
  </p><div class="table" id="FUNCTIONS-INFO-ACCESS-TABLE"><p class="title"><strong>表9.61 アクセス権限照会関数</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;Access Privilege Inquiry Functions&lt;/title&gt;
</span><table class="table" summary="アクセス権限照会関数" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>名前</th><th>戻り型</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal"><code class="function">has_any_column_privilege</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>table</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザがテーブルのどれか１つの列に対して権限を所有しているか</td></tr><tr><td><code class="literal"><code class="function">has_any_column_privilege</code>(<em class="parameter"><code>table</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザがテーブルのどれか１つの列に対して権限を所有しているか</td></tr><tr><td><code class="literal"><code class="function">has_column_privilege</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>table</code></em>,
                                  <em class="parameter"><code>column</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザに列に対する権限があるか</td></tr><tr><td><code class="literal"><code class="function">has_column_privilege</code>(<em class="parameter"><code>table</code></em>,
                                  <em class="parameter"><code>column</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザに列に対する権限があるか</td></tr><tr><td><code class="literal"><code class="function">has_database_privilege</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>database</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザにデータベースに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_database_privilege</code>(<em class="parameter"><code>database</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザにデータベースに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_foreign_data_wrapper_privilege</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>fdw</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザに外部データラッパに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_foreign_data_wrapper_privilege</code>(<em class="parameter"><code>fdw</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザに外部データラッパに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_function_privilege</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>function</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザに関数に対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_function_privilege</code>(<em class="parameter"><code>function</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザに関数に対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_language_privilege</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>language</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザに言語に対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_language_privilege</code>(<em class="parameter"><code>language</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザに言語に対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_schema_privilege</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>schema</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザにスキーマに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_schema_privilege</code>(<em class="parameter"><code>schema</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザにスキーマに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_sequence_privilege</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>sequence</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザにシーケンスに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_sequence_privilege</code>(<em class="parameter"><code>sequence</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザにシーケンスに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_server_privilege</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>server</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザに外部サーバに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_server_privilege</code>(<em class="parameter"><code>server</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザに外部サーバに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_table_privilege</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>table</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザにテーブルに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_table_privilege</code>(<em class="parameter"><code>table</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザにテーブルに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_tablespace_privilege</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>tablespace</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザにテーブル空間に対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_tablespace_privilege</code>(<em class="parameter"><code>tablespace</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザにテーブル空間に対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_type_privilege</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>type</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザに型に対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">has_type_privilege</code>(<em class="parameter"><code>type</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザに型に対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">pg_has_role</code>(<em class="parameter"><code>user</code></em>,
                                  <em class="parameter"><code>role</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>ユーザにロールに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">pg_has_role</code>(<em class="parameter"><code>role</code></em>,
                                  <em class="parameter"><code>privilege</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザにロールに対する権限があるのか</td></tr><tr><td><code class="literal"><code class="function">row_security_active</code>(<em class="parameter"><code>table</code></em>)</code>
       </td><td><code class="type">boolean</code></td><td>現在のユーザに有効なテーブルの行単位セキュリティがあるのか</td></tr></tbody></table></div></div><br class="table-break" /><a id="id-1.5.8.30.51" class="indexterm"></a><a id="id-1.5.8.30.52" class="indexterm"></a><a id="id-1.5.8.30.53" class="indexterm"></a><a id="id-1.5.8.30.54" class="indexterm"></a><a id="id-1.5.8.30.55" class="indexterm"></a><a id="id-1.5.8.30.56" class="indexterm"></a><a id="id-1.5.8.30.57" class="indexterm"></a><a id="id-1.5.8.30.58" class="indexterm"></a><a id="id-1.5.8.30.59" class="indexterm"></a><a id="id-1.5.8.30.60" class="indexterm"></a><a id="id-1.5.8.30.61" class="indexterm"></a><a id="id-1.5.8.30.62" class="indexterm"></a><a id="id-1.5.8.30.63" class="indexterm"></a><a id="id-1.5.8.30.64" class="indexterm"></a><p>
<span class="original">
    &lt;function&gt;has_table_privilege&lt;/function&gt; checks whether a user
    can access a table in a particular way.  The user can be
    specified by name, by OID (&lt;literal&gt;pg_authid.oid&lt;/literal&gt;),
    &lt;literal&gt;public&lt;/literal&gt; to indicate the PUBLIC pseudo-role, or if the argument is
    omitted
    &lt;function&gt;current_user&lt;/function&gt; is assumed.  The table can be specified
    by name or by OID.  (Thus, there are actually six variants of
    &lt;function&gt;has_table_privilege&lt;/function&gt;, which can be distinguished by
    the number and types of their arguments.)  When specifying by name,
    the name can be schema-qualified if necessary.
    The desired access privilege type
    is specified by a text string, which must evaluate to one of the
    values &lt;literal&gt;SELECT&lt;/literal&gt;, &lt;literal&gt;INSERT&lt;/literal&gt;,
    &lt;literal&gt;UPDATE&lt;/literal&gt;, &lt;literal&gt;DELETE&lt;/literal&gt;, &lt;literal&gt;TRUNCATE&lt;/literal&gt;,
    &lt;literal&gt;REFERENCES&lt;/literal&gt;, or &lt;literal&gt;TRIGGER&lt;/literal&gt;.  Optionally,
    &lt;literal&gt;WITH GRANT OPTION&lt;/literal&gt; can be added to a privilege type to test
    whether the privilege is held with grant option.  Also, multiple privilege
    types can be listed separated by commas, in which case the result will
    be &lt;literal&gt;true&lt;/literal&gt; if any of the listed privileges is held.
    (Case of the privilege string is not significant, and extra whitespace
    is allowed between but not within privilege names.)
    Some examples:
</span>
<code class="function">has_table_privilege</code>はユーザが特定の方法でテーブルにアクセス可能かどうかを検査します。
ユーザは名前、OID(<code class="literal">pg_authid.oid</code>)、もしくは擬似的なPUBLICロールを意味する<code class="literal">public</code>で指定できます。省略された場合は<code class="function">current_user</code>が使われます。
テーブルは名前もしくはOIDで指定可能です。
（従って、実際には<code class="function">has_table_privilege</code>の６つの変形があり、引数の数と型で区別されます。）
名前を指定する場合、必要であればスキーマ修飾できます。
対象とするアクセス権限の種類はテキスト文字列で指定され、それは、<code class="literal">SELECT</code>、<code class="literal">INSERT</code>、<code class="literal">UPDATE</code>、<code class="literal">DELETE</code>、<code class="literal">TRUNCATE</code>、<code class="literal">REFERENCES</code>、または<code class="literal">TRIGGER</code>のどれかである必要があります。
オプションとして、権限がGRANTオプションにより付与されているかどうかの権限の検査するため、<code class="literal">WITH GRANT OPTION</code>を付加することができます。
更に、複数の権限の種類をコンマで区切って列挙可能です。この場合、結果は列挙された権限の１つでも存在すれば<code class="literal">真</code>となります。
（権限文字列の大文字小文字は重要ではありません。余分な空白は権限名と権限名の間にはあっても良いですが、権限名の途中にはあってはいけません。）
例を示します。

</p><pre class="programlisting">
SELECT has_table_privilege('myschema.mytable', 'select');
SELECT has_table_privilege('joe', 'mytable', 'INSERT, SELECT WITH GRANT OPTION');
</pre><p>
   </p><p>
<span class="original">
    &lt;function&gt;has_sequence_privilege&lt;/function&gt; checks whether a user
    can access a sequence in a particular way.  The possibilities for its
    arguments are analogous to &lt;function&gt;has_table_privilege&lt;/function&gt;.
    The desired access privilege type must evaluate to one of
    &lt;literal&gt;USAGE&lt;/literal&gt;,
    &lt;literal&gt;SELECT&lt;/literal&gt;, or
    &lt;literal&gt;UPDATE&lt;/literal&gt;.
</span>
<code class="function">has_sequence_privilege</code>はユーザが特定の方法でシーケンスにアクセス可能かどうかを検査します。
取り得る引数は<code class="function">has_table_privilege</code>に対するものと類似しています。
対象とする権限の種類は<code class="literal">USAGE</code>、<code class="literal">SELECT</code>または<code class="literal">UPDATE</code>のいずれかである必要があります。
   </p><p>
<span class="original">
    &lt;function&gt;has_any_column_privilege&lt;/function&gt; checks whether a user can
    access any column of a table in a particular way.
    Its argument possibilities
    are analogous to &lt;function&gt;has_table_privilege&lt;/function&gt;,
    except that the desired access privilege type must evaluate to some
    combination of
    &lt;literal&gt;SELECT&lt;/literal&gt;,
    &lt;literal&gt;INSERT&lt;/literal&gt;,
    &lt;literal&gt;UPDATE&lt;/literal&gt;, or
    &lt;literal&gt;REFERENCES&lt;/literal&gt;.  Note that having any of these privileges
    at the table level implicitly grants it for each column of the table,
    so &lt;function&gt;has_any_column_privilege&lt;/function&gt; will always return
    &lt;literal&gt;true&lt;/literal&gt; if &lt;function&gt;has_table_privilege&lt;/function&gt; does for the same
    arguments.  But &lt;function&gt;has_any_column_privilege&lt;/function&gt; also succeeds if
    there is a column-level grant of the privilege for at least one column.
</span>
<code class="function">has_any_column_privilege</code>はユーザが特定の方法でテーブルのどれか１つの列にアクセス可能かどうかを検査します。
取り得る引数は<code class="function">has_table_privilege</code>に対するものと類似していますが、対象とする権限の種類が<code class="literal">SELECT</code>、<code class="literal">INSERT</code>、<code class="literal">UPDATE</code>、または<code class="literal">REFERENCES</code>の組み合わせである必要がある点を除きます。
テーブル単位でこれらの権限を所有することは、テーブルのそれぞれの列に対し暗黙的にそれらの権限を与えることになるため、<code class="function">has_table_privilege</code>が<code class="literal">真</code>を返す場合は、同一の引数に対して<code class="function">has_any_column_privilege</code>は常に<code class="literal">真</code>を返すということに注意して下さい。
しかし、少なくとも一つの列に対し権限の列単位の許可がある場合にも<code class="function">has_any_column_privilege</code>は成功します。
   </p><p>
<span class="original">
    &lt;function&gt;has_column_privilege&lt;/function&gt; checks whether a user
    can access a column in a particular way.
    Its argument possibilities
    are analogous to &lt;function&gt;has_table_privilege&lt;/function&gt;,
    with the addition that the column can be specified either by name
    or attribute number.
    The desired access privilege type must evaluate to some combination of
    &lt;literal&gt;SELECT&lt;/literal&gt;,
    &lt;literal&gt;INSERT&lt;/literal&gt;,
    &lt;literal&gt;UPDATE&lt;/literal&gt;, or
    &lt;literal&gt;REFERENCES&lt;/literal&gt;.  Note that having any of these privileges
    at the table level implicitly grants it for each column of the table.
</span>
<code class="function">has_column_privilege</code>はユーザが特定の方法でテーブルのある列にもアクセス可能かどうかを検査します。
取り得る引数は<code class="function">has_table_privilege</code>と類似していますが、名前または属性番号のいずれかで列の指定が追加されます。
対象とするアクセス権限の種類は<code class="literal">SELECT</code>、<code class="literal">INSERT</code>、<code class="literal">UPDATE</code>、または<code class="literal">REFERENCES</code>の組み合わせでなければなりません。
テーブル単位のこれらの権限を所有することは、テーブルのそれぞれの列に対し暗黙的にそれら権限を与えることに注意してください。
   </p><p>
<span class="original">
    &lt;function&gt;has_database_privilege&lt;/function&gt; checks whether a user
    can access a database in a particular way.
    Its argument possibilities
    are analogous to &lt;function&gt;has_table_privilege&lt;/function&gt;.
    The desired access privilege type must evaluate to some combination of
    &lt;literal&gt;CREATE&lt;/literal&gt;,
    &lt;literal&gt;CONNECT&lt;/literal&gt;,
    &lt;literal&gt;TEMPORARY&lt;/literal&gt;, or
    &lt;literal&gt;TEMP&lt;/literal&gt; (which is equivalent to
    &lt;literal&gt;TEMPORARY&lt;/literal&gt;).
</span>
<code class="function">has_database_privilege</code>関数は、ユーザが特定の方法でデータベースにアクセス可能かどうかを検査します。
取り得る引数は、<code class="function">has_table_privilege</code>に類似しています。
対象とするアクセス権限の種類は<code class="literal">CREATE</code>、<code class="literal">CONNECT</code>、<code class="literal">TEMPORARY</code>、または<code class="literal">TEMP</code>（<code class="literal">TEMPORARY</code>と同じ）の組み合わせである必要があります。
   </p><p>
<span class="original">
    &lt;function&gt;has_function_privilege&lt;/function&gt; checks whether a user
    can access a function in a particular way.
    Its argument possibilities
    are analogous to &lt;function&gt;has_table_privilege&lt;/function&gt;.
    When specifying a function by a text string rather than by OID,
    the allowed input is the same as for the &lt;type&gt;regprocedure&lt;/type&gt; data type
    (see &lt;xref linkend="datatype-oid"/&gt;).
    The desired access privilege type must evaluate to
    &lt;literal&gt;EXECUTE&lt;/literal&gt;.
    An example is:
</span>
<code class="function">has_function_privilege</code>関数は、ユーザが特定の方法で関数にアクセス可能かどうかを検査します。
取り得る引数は<code class="function">has_table_privilege</code>と同じです。
関数をOIDではなくテキスト文字列で指定する場合、<code class="type">regprocedure</code> データ型（<a class="xref" href="datatype-oid.html" title="8.19. オブジェクト識別子データ型">8.19</a>を参照）と同じ入力が可能です。
対象とするアクセス権限の種類は<code class="literal">EXECUTE</code>である必要があります。
以下に例を示します。
</p><pre class="programlisting">
SELECT has_function_privilege('joeuser', 'myfunc(int, text)', 'execute');
</pre><p>
   </p><p>
<span class="original">
    &lt;function&gt;has_foreign_data_wrapper_privilege&lt;/function&gt; checks whether a user
    can access a foreign-data wrapper in a particular way.
    Its argument possibilities
    are analogous to &lt;function&gt;has_table_privilege&lt;/function&gt;.
    The desired access privilege type must evaluate to
    &lt;literal&gt;USAGE&lt;/literal&gt;.
</span>
<code class="function">has_foreign_data_wrapper_privilege</code>関数は、ユーザが特定の方法で外部データラッパーにアクセス可能かどうかを検査します。
取り得る引数は<code class="function">has_table_privilege</code>と同じです。
対象とするアクセス権限の種類は<code class="literal">USAGE</code>である必要があります。
   </p><p>
<span class="original">
    &lt;function&gt;has_language_privilege&lt;/function&gt; checks whether a user
    can access a procedural language in a particular way.
    Its argument possibilities
    are analogous to &lt;function&gt;has_table_privilege&lt;/function&gt;.
    The desired access privilege type must evaluate to
    &lt;literal&gt;USAGE&lt;/literal&gt;.
</span>
<code class="function">has_language_privilege</code>関数は、ユーザが特定の方法で手続き言語にアクセス可能かどうかを検査します。
取り得る引数は、<code class="function">has_table_privilege</code>に類似しています。
対象とするアクセス権限の種類は<code class="literal">USAGE</code>である必要があります。
   </p><p>
<span class="original">
    &lt;function&gt;has_schema_privilege&lt;/function&gt; checks whether a user
    can access a schema in a particular way.
    Its argument possibilities
    are analogous to &lt;function&gt;has_table_privilege&lt;/function&gt;.
    The desired access privilege type must evaluate to some combination of
    &lt;literal&gt;CREATE&lt;/literal&gt; or
    &lt;literal&gt;USAGE&lt;/literal&gt;.
</span>
<code class="function">has_schema_privilege</code>関数は、ユーザが特定の方法でスキーマにアクセス可能かどうかを検査します。
取り得る引数は、<code class="function">has_table_privilege</code>に類似しています。
対象とするアクセス権限の種類は、<code class="literal">CREATE</code>もしくは<code class="literal">USAGE</code>の組み合わせである必要があります。
   </p><p>
<span class="original">
    &lt;function&gt;has_server_privilege&lt;/function&gt; checks whether a user
    can access a foreign server in a particular way.
    Its argument possibilities
    are analogous to &lt;function&gt;has_table_privilege&lt;/function&gt;.
    The desired access privilege type must evaluate to
    &lt;literal&gt;USAGE&lt;/literal&gt;.

</span>
<code class="function">has_server_privilege</code>はユーザが特定の方法で外部サーバにアクセスできるかどうかを検査します。
取り得る引数は<code class="function">has_table_privilege</code>に類似しています。
対象とするアクセス権限の種類は<code class="literal">USAGE</code>である必要があります。
   </p><p>
<span class="original">
    &lt;function&gt;has_tablespace_privilege&lt;/function&gt; checks whether a user
    can access a tablespace in a particular way.
    Its argument possibilities
    are analogous to &lt;function&gt;has_table_privilege&lt;/function&gt;.
    The desired access privilege type must evaluate to
    &lt;literal&gt;CREATE&lt;/literal&gt;.
</span>
<code class="function">has_tablespace_privilege</code>関数は、ユーザが特定の方法でテーブル空間にアクセス可能かどうかを検査します。
取り得る引数は、<code class="function">has_table_privilege</code>に類似しています。
対象とするアクセス権限の種類は、<code class="literal">CREATE</code>である必要があります。
   </p><p>
<span class="original">
    &lt;function&gt;has_type_privilege&lt;/function&gt; checks whether a user
    can access a type in a particular way.
    Its argument possibilities
    are analogous to &lt;function&gt;has_table_privilege&lt;/function&gt;.
    When specifying a type by a text string rather than by OID,
    the allowed input is the same as for the &lt;type&gt;regtype&lt;/type&gt; data type
    (see &lt;xref linkend="datatype-oid"/&gt;).
    The desired access privilege type must evaluate to
    &lt;literal&gt;USAGE&lt;/literal&gt;.
</span>
<code class="function">has_type_privilege</code>は、ユーザが型に特定の方法でアクセス可能かどうかを検査します。
取り得る引数は<code class="function">has_table_privilege</code>に類似しています。
型をOIDではなくテキスト文字列で指定する場合、可能な入力は<code class="type">regtype</code>データ型に対するものと同じです（<a class="xref" href="datatype-oid.html" title="8.19. オブジェクト識別子データ型">8.19</a>参照）。
対象とするアクセス権限の種類は<code class="literal">USAGE</code>である必要があります。
   </p><p>
<span class="original">
    &lt;function&gt;pg_has_role&lt;/function&gt; checks whether a user
    can access a role in a particular way.
    Its argument possibilities
    are analogous to &lt;function&gt;has_table_privilege&lt;/function&gt;,
    except that &lt;literal&gt;public&lt;/literal&gt; is not allowed as a user name.
    The desired access privilege type must evaluate to some combination of
    &lt;literal&gt;MEMBER&lt;/literal&gt; or
    &lt;literal&gt;USAGE&lt;/literal&gt;.
    &lt;literal&gt;MEMBER&lt;/literal&gt; denotes direct or indirect membership in
    the role (that is, the right to do &lt;command&gt;SET ROLE&lt;/command&gt;), while
    &lt;literal&gt;USAGE&lt;/literal&gt; denotes whether the privileges of the role
    are immediately available without doing &lt;command&gt;SET ROLE&lt;/command&gt;.
</span>
<code class="function">pg_has_role</code>は、ユーザが特定の方法でロールにアクセスできるかどうかを検査します。
取り得る引数については、<code class="literal">public</code>がユーザ名として使用不可であることを除き、<code class="function">has_table_privilege</code>と類似しています。
対象とするアクセス権限の種類は、 <code class="literal">MEMBER</code>、<code class="literal">USAGE</code>の組み合わせである必要があります。
<code class="literal">MEMBER</code>は、ロールの直接または間接メンバ資格（つまり、<code class="command">SET ROLE</code>を行う権限）を表します。一方、<code class="literal">USAGE</code>は、そのロール権限が<code class="command">SET ROLE</code>をしなくてもすぐに利用できることを表します。
   </p><p>
<span class="original">
    &lt;function&gt;row_security_active&lt;/function&gt; checks whether row level
    security is active for the specified table in the context of the
    &lt;function&gt;current_user&lt;/function&gt; and environment. The table can
    be specified by name or by OID.
</span>
<code class="function">row_security_active</code>は<code class="function">current_user</code>と現在の環境において、指定のテーブルで行単位セキュリティが有効かどうかを検査します。
テーブルは名前またはOIDで指定できます。
   </p><p>
<span class="original">
   &lt;xref linkend="functions-info-schema-table"/&gt; shows functions that
   determine whether a certain object is &lt;firstterm&gt;visible&lt;/firstterm&gt; in the
   current schema search path.
   For example, a table is said to be visible if its
   containing schema is in the search path and no table of the same
   name appears earlier in the search path.  This is equivalent to the
   statement that the table can be referenced by name without explicit
   schema qualification.  To list the names of all visible tables:
</span>
<a class="xref" href="functions-info.html#FUNCTIONS-INFO-SCHEMA-TABLE" title="表9.62 スキーマ可視性照会関数">表 9.62</a>に、特定のオブジェクトが、現行スキーマの検索パスにおいて<em class="firstterm">可視</em>かどうかを判別する関数を示します。
例えば、あるテーブルを含むスキーマが検索パス内に存在し、検索パス内の前方に同じ名前のテーブルがない場合、そのテーブルは可視であると言います。
つまり、これは、テーブルが明示的なスキーマ修飾なしで名前によって参照可能であるということです。
全ての可視テーブルの名前を列挙するには以下のようにします。
</p><pre class="programlisting">
SELECT relname FROM pg_class WHERE pg_table_is_visible(oid);
</pre><p>
  </p><a id="id-1.5.8.30.80" class="indexterm"></a><div class="table" id="FUNCTIONS-INFO-SCHEMA-TABLE"><p class="title"><strong>表9.62 スキーマ可視性照会関数</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;Schema Visibility Inquiry Functions&lt;/title&gt;
</span><table class="table" summary="スキーマ可視性照会関数" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>名前</th><th>戻り型</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal"><code class="function">pg_collation_is_visible(<em class="parameter"><code>collation_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>照合順序が検索パスにおいて可視かどうか</td></tr><tr><td><code class="literal"><code class="function">pg_conversion_is_visible(<em class="parameter"><code>conversion_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>変換が検索パスにおいて可視かどうか</td></tr><tr><td><code class="literal"><code class="function">pg_function_is_visible(<em class="parameter"><code>function_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>関数が検索パスにおいて可視であるか</td></tr><tr><td><code class="literal"><code class="function">pg_opclass_is_visible(<em class="parameter"><code>opclass_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>演算子クラスが検索パスにおいて可視であるか</td></tr><tr><td><code class="literal"><code class="function">pg_operator_is_visible(<em class="parameter"><code>operator_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>演算子が検索パスにおいて可視であるか</td></tr><tr><td><code class="literal"><code class="function">pg_opfamily_is_visible(<em class="parameter"><code>opclass_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>演算子族が検索パスにおいて可視であるか</td></tr><tr><td><code class="literal"><code class="function">pg_statistics_obj_is_visible(<em class="parameter"><code>stat_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>統計情報オブジェクトが検索パスにおいて可視であるか</td></tr><tr><td><code class="literal"><code class="function">pg_table_is_visible(<em class="parameter"><code>table_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>テーブルが検索パスにおいて可視かどうか</td></tr><tr><td><code class="literal"><code class="function">pg_ts_config_is_visible(<em class="parameter"><code>config_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>テキスト検索設定が検索パスにおいて可視かどうか</td></tr><tr><td><code class="literal"><code class="function">pg_ts_dict_is_visible(<em class="parameter"><code>dict_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>テキスト検索辞書が検索パスにおいて可視かどうか</td></tr><tr><td><code class="literal"><code class="function">pg_ts_parser_is_visible(<em class="parameter"><code>parser_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>テキスト検索パーサが検索パスにおいて可視かどうか</td></tr><tr><td><code class="literal"><code class="function">pg_ts_template_is_visible(<em class="parameter"><code>template_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>テキスト検索テンプレートが検索パスにおいて可視かどうか</td></tr><tr><td><code class="literal"><code class="function">pg_type_is_visible(<em class="parameter"><code>type_oid</code></em>)</code></code>
       </td><td><code class="type">boolean</code></td><td>型（またはドメイン）が検索パスにおいて可視かどうか</td></tr></tbody></table></div></div><br class="table-break" /><a id="id-1.5.8.30.82" class="indexterm"></a><a id="id-1.5.8.30.83" class="indexterm"></a><a id="id-1.5.8.30.84" class="indexterm"></a><a id="id-1.5.8.30.85" class="indexterm"></a><a id="id-1.5.8.30.86" class="indexterm"></a><a id="id-1.5.8.30.87" class="indexterm"></a><a id="id-1.5.8.30.88" class="indexterm"></a><a id="id-1.5.8.30.89" class="indexterm"></a><a id="id-1.5.8.30.90" class="indexterm"></a><a id="id-1.5.8.30.91" class="indexterm"></a><a id="id-1.5.8.30.92" class="indexterm"></a><a id="id-1.5.8.30.93" class="indexterm"></a><a id="id-1.5.8.30.94" class="indexterm"></a><p>
<span class="original">
    Each function performs the visibility check for one type of database
    object.  Note that &lt;function&gt;pg_table_is_visible&lt;/function&gt; can also be used
    with views, materialized views, indexes, sequences and foreign tables;
    &lt;function&gt;pg_function_is_visible&lt;/function&gt; can also be used with
    procedures and aggregates;
    &lt;function&gt;pg_type_is_visible&lt;/function&gt; can also be used with domains.
    For functions and operators, an object in
    the search path is visible if there is no object of the same name
    &lt;emphasis&gt;and argument data type(s)&lt;/emphasis&gt; earlier in the path.  For operator
    classes, both name and associated index access method are considered.
</span>
それぞれの関数はデータベースオブジェクトの１つの型に対して可視性の検査を行います。
<code class="function">pg_table_is_visible</code>がビュー、マテリアライズドビュー、インデックス、シーケンス、外部テーブルに対しても使用できること、<code class="function">pg_type_is_visible</code>がドメインに対しても使用できることに注意してください。
<code class="function">pg_function_is_visible</code>は手続きと集約にも使えます。
関数および演算子では、パスの前方に同じ名前かつ同じ<span class="emphasis"><em>引数のデータ型</em></span>を持つオブジェクトが存在しなければ、検索パス内のオブジェクトは可視です。
演算子クラスでは、名前と関連するインデックスアクセスメソッドが考慮されます。
   </p><p>
<span class="original">
    All these functions require object OIDs to identify the object to be
    checked.  If you want to test an object by name, it is convenient to use
    the OID alias types (&lt;type&gt;regclass&lt;/type&gt;, &lt;type&gt;regtype&lt;/type&gt;,
    &lt;type&gt;regprocedure&lt;/type&gt;, &lt;type&gt;regoperator&lt;/type&gt;, &lt;type&gt;regconfig&lt;/type&gt;,
    or &lt;type&gt;regdictionary&lt;/type&gt;),
    for example:
</span>
これらの関数は全て、検査するオブジェクトを識別するために、オブジェクトのOIDを必要とします。
オブジェクトを名前でテストする場合、OID別名型（<code class="type">regclass</code>、<code class="type">regtype</code>、<code class="type">regprocedure</code>、<code class="type">regoperator</code>、<code class="type">regconfig</code>、または<code class="type">regdictionary</code>）を使用すると便利です。
例えば、以下のようにします。
</p><pre class="programlisting">
SELECT pg_type_is_visible('myschema.widget'::regtype);
</pre><p>
<span class="original">
    Note that it would not make much sense to test a non-schema-qualified
    type name in this way &amp;mdash; if the name can be recognized at all, it must be visible.
</span>
ただし、このようなやり方でスキーマ修飾されていない型名をテストしても、あまり意味がないことに注意してください。名前が認識されれば、それは必ず可視ということになります。
   </p><a id="id-1.5.8.30.97" class="indexterm"></a><a id="id-1.5.8.30.98" class="indexterm"></a><a id="id-1.5.8.30.99" class="indexterm"></a><a id="id-1.5.8.30.100" class="indexterm"></a><a id="id-1.5.8.30.101" class="indexterm"></a><a id="id-1.5.8.30.102" class="indexterm"></a><a id="id-1.5.8.30.103" class="indexterm"></a><a id="id-1.5.8.30.104" class="indexterm"></a><a id="id-1.5.8.30.105" class="indexterm"></a><a id="id-1.5.8.30.106" class="indexterm"></a><a id="id-1.5.8.30.107" class="indexterm"></a><a id="id-1.5.8.30.108" class="indexterm"></a><a id="id-1.5.8.30.109" class="indexterm"></a><a id="id-1.5.8.30.110" class="indexterm"></a><a id="id-1.5.8.30.111" class="indexterm"></a><a id="id-1.5.8.30.112" class="indexterm"></a><a id="id-1.5.8.30.113" class="indexterm"></a><a id="id-1.5.8.30.114" class="indexterm"></a><a id="id-1.5.8.30.115" class="indexterm"></a><a id="id-1.5.8.30.116" class="indexterm"></a><a id="id-1.5.8.30.117" class="indexterm"></a><a id="id-1.5.8.30.118" class="indexterm"></a><a id="id-1.5.8.30.119" class="indexterm"></a><a id="id-1.5.8.30.120" class="indexterm"></a><a id="id-1.5.8.30.121" class="indexterm"></a><a id="id-1.5.8.30.122" class="indexterm"></a><a id="id-1.5.8.30.123" class="indexterm"></a><a id="id-1.5.8.30.124" class="indexterm"></a><a id="id-1.5.8.30.125" class="indexterm"></a><a id="id-1.5.8.30.126" class="indexterm"></a><a id="id-1.5.8.30.127" class="indexterm"></a><p>
<span class="original">
   &lt;xref linkend="functions-info-catalog-table"/&gt; lists functions that
   extract information from the system catalogs.
</span>
<a class="xref" href="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE" title="表9.63 システムカタログ情報関数">表 9.63</a>に、システムカタログから情報を抽出する関数を列挙します。
  </p><div class="table" id="FUNCTIONS-INFO-CATALOG-TABLE"><p class="title"><strong>表9.63 システムカタログ情報関数</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;System Catalog Information Functions&lt;/title&gt;
</span><table class="table" summary="システムカタログ情報関数" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>名前</th><th>戻り型</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal"><code class="function">format_type(<em class="parameter"><code>type_oid</code></em>, <em class="parameter"><code>typemod</code></em>)</code></code></td><td><code class="type">text</code></td><td>データ型のSQL名を取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_constraintdef(<em class="parameter"><code>constraint_oid</code></em>)</code></code></td><td><code class="type">text</code></td><td>制約の定義を取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_constraintdef(<em class="parameter"><code>constraint_oid</code></em>, <em class="parameter"><code>pretty_bool</code></em>)</code></code></td><td><code class="type">text</code></td><td>制約の定義を取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_expr(<em class="parameter"><code>pg_node_tree</code></em>, <em class="parameter"><code>relation_oid</code></em>)</code></code></td><td><code class="type">text</code></td><td>式中のすべてのVarが２番目のパラメータによって指定されるリレーションを参照すると仮定して、式の内部形式を逆コンパイル</td></tr><tr><td><code class="literal"><code class="function">pg_get_expr(<em class="parameter"><code>pg_node_tree</code></em>, <em class="parameter"><code>relation_oid</code></em>, <em class="parameter"><code>pretty_bool</code></em>)</code></code></td><td><code class="type">text</code></td><td>式中のすべてのVarが２番目のパラメータによって指定されるリレーションを参照すると仮定して、式の内部形式を逆コンパイル</td></tr><tr><td><code class="literal"><code class="function">pg_get_functiondef(<em class="parameter"><code>func_oid</code></em>)</code></code></td><td><code class="type">text</code></td><td>関数あるいは手続きの定義の取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_function_arguments(<em class="parameter"><code>func_oid</code></em>)</code></code></td><td><code class="type">text</code></td><td>関数あるいは手続きの定義の引数リスト（デフォルト値付き）を取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_function_identity_arguments(<em class="parameter"><code>func_oid</code></em>)</code></code></td><td><code class="type">text</code></td><td>関数あるいは手続きを特定するための引数リスト（デフォルト値なし）を取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_function_result(<em class="parameter"><code>func_oid</code></em>)</code></code></td><td><code class="type">text</code></td><td>関数に対する<code class="literal">RETURNS</code>句の取得（プロシージャに対してはNULLを返します）</td></tr><tr><td><code class="literal"><code class="function">pg_get_indexdef(<em class="parameter"><code>index_oid</code></em>)</code></code></td><td><code class="type">text</code></td><td>インデックスに対する<code class="command">CREATE INDEX</code>コマンドの取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_indexdef(<em class="parameter"><code>index_oid</code></em>, <em class="parameter"><code>column_no</code></em>, <em class="parameter"><code>pretty_bool</code></em>)</code></code></td><td><code class="type">text</code></td><td>インデックスに対する<code class="command">CREATE INDEX</code>コマンドの取得、または<em class="parameter"><code>column_no</code></em>が非ゼロの場合は、１つのインデックス列のみの定義の取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_keywords()</code></code></td><td><code class="type">setof record</code></td><td>SQLキーワードとそれらの種類のリストを取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_ruledef(<em class="parameter"><code>rule_oid</code></em>)</code></code></td><td><code class="type">text</code></td><td>ルールに対する<code class="command">CREATE RULE</code>コマンドを取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_ruledef(<em class="parameter"><code>rule_oid</code></em>, <em class="parameter"><code>pretty_bool</code></em>)</code></code></td><td><code class="type">text</code></td><td>ルールに対する<code class="command">CREATE RULE</code>コマンドを取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_serial_sequence(<em class="parameter"><code>table_name</code></em>, <em class="parameter"><code>column_name</code></em>)</code></code></td><td><code class="type">text</code></td><td>SERIAL、またはIDENTITY列が使用するシーケンス名を取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_statisticsobjdef(<em class="parameter"><code>statobj_oid</code></em>)</code></code></td><td><code class="type">text</code></td><td>拡張統計情報オブジェクトの<code class="command">CREATE STATISTICS</code>コマンドを取得</td></tr><tr><td><code class="function">pg_get_triggerdef</code>(<em class="parameter"><code>trigger_oid</code></em>)</td><td><code class="type">text</code></td><td>トリガに対する<code class="command">CREATE [ CONSTRAINT ] TRIGGER</code>コマンドの取得</td></tr><tr><td><code class="function">pg_get_triggerdef</code>(<em class="parameter"><code>trigger_oid</code></em>, <em class="parameter"><code>pretty_bool</code></em>)</td><td><code class="type">text</code></td><td>トリガに対する<code class="command">CREATE [ CONSTRAINT ] TRIGGER</code>コマンドの取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_userbyid(<em class="parameter"><code>role_oid</code></em>)</code></code></td><td><code class="type">name</code></td><td>与えられたOIDでロール名を取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_viewdef(<em class="parameter"><code>view_name</code></em>)</code></code></td><td><code class="type">text</code></td><td>ビューまたはマテリアライズドビューの元になる<code class="command">SELECT</code>コマンドを取得（<span class="emphasis"><em>廃止予定</em></span>）</td></tr><tr><td><code class="literal"><code class="function">pg_get_viewdef(<em class="parameter"><code>view_name</code></em>, <em class="parameter"><code>pretty_bool</code></em>)</code></code></td><td><code class="type">text</code></td><td>ビューまたはマテリアライズドビューの元になる<code class="command">SELECT</code>コマンドを取得（<span class="emphasis"><em>廃止予定</em></span>）</td></tr><tr><td><code class="literal"><code class="function">pg_get_viewdef(<em class="parameter"><code>view_oid</code></em>)</code></code></td><td><code class="type">text</code></td><td>ビューまたはマテリアライズドビューの元になる<code class="command">SELECT</code>コマンドを取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_viewdef(<em class="parameter"><code>view_oid</code></em>, <em class="parameter"><code>pretty_bool</code></em>)</code></code></td><td><code class="type">text</code></td><td>ビューまたはマテリアライズドビューの元になる<code class="command">SELECT</code>コマンドを取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_viewdef(<em class="parameter"><code>view_oid</code></em>, <em class="parameter"><code>wrap_column_int</code></em>)</code></code></td><td><code class="type">text</code></td><td>ビューまたはマテリアライズドビューの元になる<code class="command">SELECT</code>コマンドを取得。
       フィールドを含む行は指定された列数で折り返され、成形された表示が行われます。</td></tr><tr><td><code class="literal"><code class="function">pg_index_column_has_property(<em class="parameter"><code>index_oid</code></em>, <em class="parameter"><code>column_no</code></em>, <em class="parameter"><code>prop_name</code></em>)</code></code></td><td><code class="type">boolean</code></td><td>インデックス列が指定の属性を持っているかどうか検査する</td></tr><tr><td><code class="literal"><code class="function">pg_index_has_property(<em class="parameter"><code>index_oid</code></em>, <em class="parameter"><code>prop_name</code></em>)</code></code></td><td><code class="type">boolean</code></td><td>インデックスが指定の属性を持っているかどうか検査する</td></tr><tr><td><code class="literal"><code class="function">pg_indexam_has_property(<em class="parameter"><code>am_oid</code></em>, <em class="parameter"><code>prop_name</code></em>)</code></code></td><td><code class="type">boolean</code></td><td>インデックスアクセスメソッドが指定の属性を持っているかどうか検査する</td></tr><tr><td><code class="literal"><code class="function">pg_options_to_table(<em class="parameter"><code>reloptions</code></em>)</code></code></td><td><code class="type">setof record</code></td><td>格納オプションの名前/値のペアのセットを取得</td></tr><tr><td><code class="literal"><code class="function">pg_tablespace_databases(<em class="parameter"><code>tablespace_oid</code></em>)</code></code></td><td><code class="type">setof oid</code></td><td>テーブル空間内にオブジェクトを所有するデータベースOID集合を取得</td></tr><tr><td><code class="literal"><code class="function">pg_tablespace_location(<em class="parameter"><code>tablespace_oid</code></em>)</code></code></td><td><code class="type">text</code></td><td>指定したテーブル空間が実際に配置されているファイルシステム上のパスを取得</td></tr><tr><td><code class="literal"><code class="function">pg_typeof(<em class="parameter"><code>any</code></em>)</code></code></td><td><code class="type">regtype</code></td><td>指定した値のデータ型を取得</td></tr><tr><td><code class="literal"><code class="function">collation for (<em class="parameter"><code>any</code></em>)</code></code></td><td><code class="type">text</code></td><td>引数の照合順序を取得</td></tr><tr><td><code class="literal"><code class="function">to_regclass(<em class="parameter"><code>rel_name</code></em>)</code></code></td><td><code class="type">regclass</code></td><td>指定のリレーションのOIDを取得</td></tr><tr><td><code class="literal"><code class="function">to_regproc(<em class="parameter"><code>func_name</code></em>)</code></code></td><td><code class="type">regproc</code></td><td>指定の関数のOIDを取得</td></tr><tr><td><code class="literal"><code class="function">to_regprocedure(<em class="parameter"><code>func_name</code></em>)</code></code></td><td><code class="type">regprocedure</code></td><td>指定の関数のOIDを取得</td></tr><tr><td><code class="literal"><code class="function">to_regoper(<em class="parameter"><code>operator_name</code></em>)</code></code></td><td><code class="type">regoper</code></td><td>指定の演算子のOIDを取得</td></tr><tr><td><code class="literal"><code class="function">to_regoperator(<em class="parameter"><code>operator_name</code></em>)</code></code></td><td><code class="type">regoperator</code></td><td>指定の演算子のOIDを取得</td></tr><tr><td><code class="literal"><code class="function">to_regtype(<em class="parameter"><code>type_name</code></em>)</code></code></td><td><code class="type">regtype</code></td><td>指定の型のOIDを取得</td></tr><tr><td><code class="literal"><code class="function">to_regnamespace(<em class="parameter"><code>schema_name</code></em>)</code></code></td><td><code class="type">regnamespace</code></td><td>指定のスキーマのOIDを取得</td></tr><tr><td><code class="literal"><code class="function">to_regrole(<em class="parameter"><code>role_name</code></em>)</code></code></td><td><code class="type">regrole</code></td><td>指定のロールのOIDを取得</td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
   &lt;function&gt;format_type&lt;/function&gt; returns the SQL name of a data type that
   is identified by its type OID and possibly a type modifier.  Pass NULL
   for the type modifier if no specific modifier is known.
</span>
関数<code class="function">format_type</code>は、自身の型OIDと場合により型修飾子によって特定されるデータ型のSQL名を返します。
特定の修飾子が既知でなければ型修飾子にNULLを渡します。
  </p><p>
<span class="original">
   &lt;function&gt;pg_get_keywords&lt;/function&gt; returns a set of records describing
   the SQL keywords recognized by the server. The &lt;structfield&gt;word&lt;/structfield&gt; column
   contains the keyword.  The &lt;structfield&gt;catcode&lt;/structfield&gt; column contains a
   category code: &lt;literal&gt;U&lt;/literal&gt; for unreserved, &lt;literal&gt;C&lt;/literal&gt; for column name,
   &lt;literal&gt;T&lt;/literal&gt; for type or function name, or &lt;literal&gt;R&lt;/literal&gt; for reserved.
   The &lt;structfield&gt;catdesc&lt;/structfield&gt; column contains a possibly-localized string
   describing the category.
</span>
関数<code class="function">pg_get_keywords</code>は、サーバが認識したSQLキーワードを記述するレコードの集合を返します。
<code class="structfield">word</code>列にはキーワードが含まれます。
<code class="structfield">catcode</code>列は種類コードで、<code class="literal">U</code>は未予約(unreserved)、<code class="literal">C</code>は列名(column)、<code class="literal">T</code>は型名(type)または関数名、<code class="literal">R</code>は予約語(reserved)です。
<code class="structfield">catdesc</code>列は種類を記述する文字列を含み、現地語化されている場合もあります。
  </p><p>
<span class="original">
   &lt;function&gt;pg_get_constraintdef&lt;/function&gt;,
   &lt;function&gt;pg_get_indexdef&lt;/function&gt;, &lt;function&gt;pg_get_ruledef&lt;/function&gt;,
   &lt;function&gt;pg_get_statisticsobjdef&lt;/function&gt;, and
   &lt;function&gt;pg_get_triggerdef&lt;/function&gt;, respectively reconstruct the
   creating command for a constraint, index, rule, extended statistics object,
   or trigger. (Note that this is a decompiled reconstruction, not the
   original text of the command.) &lt;function&gt;pg_get_expr&lt;/function&gt; decompiles
   the internal form of an individual expression, such as the default value
   for a column.  It can be useful when examining the contents of system
   catalogs.  If the expression might contain Vars, specify the OID of the
   relation they refer to as the second parameter; if no Vars are expected,
   zero is sufficient. &lt;function&gt;pg_get_viewdef&lt;/function&gt; reconstructs the
   &lt;command&gt;SELECT&lt;/command&gt; query that defines a view. Most of these functions come
   in two variants, one of which can optionally &lt;quote&gt;pretty-print&lt;/quote&gt; the
   result.  The pretty-printed format is more readable, but the default format
   is more likely to be interpreted the same way by future versions of
   &lt;productname&gt;PostgreSQL&lt;/productname&gt;; avoid using pretty-printed output for dump
   purposes.  Passing &lt;literal&gt;false&lt;/literal&gt; for the pretty-print parameter yields
   the same result as the variant that does not have the parameter at all.
</span>
<code class="function">pg_get_constraintdef</code>、<code class="function">pg_get_indexdef</code>、<code class="function">pg_get_ruledef</code>、<code class="function">pg_get_statisticsobjdef</code>、および<code class="function">pg_get_triggerdef</code>はそれぞれ、制約、インデックス、ルール、拡張統計情報オブジェクト、もしくはトリガに対する作成コマンドを再構築します。
（これはコマンドの元々のテキストではなく、逆コンパイルにより再構築されたテキストであることに注意してください。）
<code class="function">pg_get_expr</code>は、列のデフォルト値のような個々の式の内部形式を逆コンパイルします。
システムカタログの内容を試験するときに便利です。
式がVarを含んでいるかもしれない場合、２番目のパラメータとして参照する関連（リレーション）のOIDを指定します。Varがないと期待されるならゼロで充分です。
<code class="function">pg_get_viewdef</code> はビューを定義する<code class="command">SELECT</code>問い合わせを再構築します。
これらの関数のほとんどは２つの異形があり、そのうちの１つはオプションとして結果を<span class="quote">「<span class="quote">見やすく表示</span>」</span>します。
見やすく表示された書式はより読みやすい半面、デフォルトの書式の方が今後のバージョンの<span class="productname">PostgreSQL</span>でも同様に解釈することができそうです。ダンプを目的とする場合は、見やすく表示する出力を使用しないでください。
見やすい表示用のパラメータに<code class="literal">false</code>を渡すことで、このパラメータをまったく持たない種類の結果と同一の結果を生成します。
  </p><p>
<span class="original">
   &lt;function&gt;pg_get_functiondef&lt;/function&gt; returns a complete
   &lt;command&gt;CREATE OR REPLACE FUNCTION&lt;/command&gt; statement for a function.
   &lt;function&gt;pg_get_function_arguments&lt;/function&gt; returns the argument list
   of a function, in the form it would need to appear in within
   &lt;command&gt;CREATE FUNCTION&lt;/command&gt;.
   &lt;function&gt;pg_get_function_result&lt;/function&gt; similarly returns the
   appropriate &lt;literal&gt;RETURNS&lt;/literal&gt; clause for the function.
   &lt;function&gt;pg_get_function_identity_arguments&lt;/function&gt; returns the
   argument list necessary to identify a function, in the form it
   would need to appear in within &lt;command&gt;ALTER FUNCTION&lt;/command&gt;, for
   instance.  This form omits default values.
</span>
<code class="function">pg_get_functiondef</code>は、関数の完全な<code class="command">CREATE OR REPLACE FUNCTION</code>文を返します。
<code class="function">pg_get_function_arguments</code>は、<code class="command">CREATE FUNCTION</code>の中に出現しなければならない形式で、引数リストを返します。
<code class="function">pg_get_function_result</code>は同様、その関数の適切な<code class="literal">RETURNS</code>句を返します。
<code class="function">pg_get_function_identity_arguments</code>は、例えば<code class="command">ALTER FUNCTION</code>の中に出現しなければならない形式で、関数を特定するのに必要な引数リストを返します。
この形式はデフォルト値を省略します。
  </p><p>
<span class="original">
   &lt;function&gt;pg_get_serial_sequence&lt;/function&gt; returns the name of the
   sequence associated with a column, or NULL if no sequence is associated
   with the column.  If the column is an identity column, the associated
   sequence is the sequence internally created for the identity column.  For
   columns created using one of the serial types
   (&lt;type&gt;serial&lt;/type&gt;, &lt;type&gt;smallserial&lt;/type&gt;, &lt;type&gt;bigserial&lt;/type&gt;), it
   is the sequence created for that serial column definition.  In the latter
   case, this association can be modified or removed with &lt;command&gt;ALTER
   SEQUENCE OWNED BY&lt;/command&gt;.  (The function probably should have been called
   &lt;function&gt;pg_get_owned_sequence&lt;/function&gt;; its current name reflects the
   fact that it has typically been used with &lt;type&gt;serial&lt;/type&gt;
   or &lt;type&gt;bigserial&lt;/type&gt; columns.)  The first input parameter is a table name
   with optional schema, and the second parameter is a column name.  Because
   the first parameter is potentially a schema and table, it is not treated as
   a double-quoted identifier, meaning it is lower cased by default, while the
   second parameter, being just a column name, is treated as double-quoted and
   has its case preserved.  The function returns a value suitably formatted
   for passing to sequence functions
   (see &lt;xref linkend="functions-sequence"/&gt;).  A typical use is in reading the
   current value of a sequence for an identity or serial column, for example:
</span>
<code class="function">pg_get_serial_sequence</code>は、列に関連するシーケンスの名前を返します。
列に関連するシーケンスが存在しなければ、NULLを返します。
列がIDENTITY列の場合、関連するシーケンスはIDENTITY列に対して内部的に作成されたシーケンスとなります。
SERIAL型（<code class="type">serial</code>、<code class="type">smallserial</code>、<code class="type">bigserial</code>）の一つを使って作られた列については、そのSERIAL列の定義に対して作られたシーケンスとなります。
後者の場合、この関連付けは<code class="command">ALTER SEQUENCE OWNED BY</code>で修正または削除することができます。
（この関数はおそらく<code class="function">pg_get_owned_sequence</code>と呼ばれるべきだったのでしょうが、現在の名前はそれが主に<code class="type">serial</code>列または<code class="type">bigserial</code>列と一緒に使われていたという事実によります。）
最初の入力パラメータはテーブル名で、スキーマを付けることもできます。
２番目のパラメータは列名です。
最初のパラメータは普通はスキーマとテーブルですので、二重引用符付の識別子としては解釈されません。
つまり、デフォルトで小文字に変換されます。
一方２番目のパラメータは単なる列名であり、二重引用符付として解釈され、その大文字小文字は保持されます。
この関数は、シーケンス関数（<a class="xref" href="functions-sequence.html" title="9.16. シーケンス操作関数">9.16</a>を参照）に渡すことができるよう適切な書式で値を返します。
典型的な使用法はIDENITY列またはSERIAL列のシーケンスの現在値を読み取ることで、例えば
</p><pre class="programlisting">
SELECT currval(pg_get_serial_sequence('sometable', 'id'));
</pre><p>
  </p><p>
<span class="original">
   &lt;function&gt;pg_get_userbyid&lt;/function&gt; extracts a role's name given
   its OID.
</span>
<code class="function">pg_get_userbyid</code>はそのOIDで与えられたロールの名前を抽出します。
  </p><p>
<span class="original">
   &lt;function&gt;pg_index_column_has_property&lt;/function&gt;,
   &lt;function&gt;pg_index_has_property&lt;/function&gt;, and
   &lt;function&gt;pg_indexam_has_property&lt;/function&gt; return whether the
   specified index column, index, or index access method possesses the named
   property. &lt;literal&gt;NULL&lt;/literal&gt; is returned if the property name is not
   known or does not apply to the particular object, or if the OID or column
   number does not identify a valid object.  Refer to
   &lt;xref linkend="functions-info-index-column-props"/&gt; for column properties,
   &lt;xref linkend="functions-info-index-props"/&gt; for index properties, and
   &lt;xref linkend="functions-info-indexam-props"/&gt; for access method properties.
   (Note that extension access methods can define additional property names
   for their indexes.)
</span>
<code class="function">pg_index_column_has_property</code>、<code class="function">pg_index_has_property</code>、<code class="function">pg_indexam_has_property</code>は指定のインデックス列、インデックス、あるいはインデックスアクセスメソッドが、指定の属性を所有しているかどうかを返します。
属性名が不明の場合、属性がその特定のオブジェクトに当てはまらない場合、OIDや列番号が有効なオブジェクトを特定できない場合は<code class="literal">NULL</code>が返されます。
列の属性については<a class="xref" href="functions-info.html#FUNCTIONS-INFO-INDEX-COLUMN-PROPS" title="表9.64 インデックス列の属性">表 9.64</a>、インデックスの属性については<a class="xref" href="functions-info.html#FUNCTIONS-INFO-INDEX-PROPS" title="表9.65 インデックスの属性">表 9.65</a>、アクセスメソッドの属性については<a class="xref" href="functions-info.html#FUNCTIONS-INFO-INDEXAM-PROPS" title="表9.66 インデックスアクセスメソッドの属性">表 9.66</a>を参照して下さい。
（拡張のアクセスメソッドはそのインデックスについて追加の属性名を定義できることに注意して下さい。）
  </p><div class="table" id="FUNCTIONS-INFO-INDEX-COLUMN-PROPS"><p class="title"><strong>表9.64 インデックス列の属性</strong></p><div class="table-contents"><span class="original">
   &lt;title&gt;Index Column Properties&lt;/title&gt;
</span><table class="table" summary="インデックス列の属性" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>名前</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal">asc</code></td><td>前方スキャンで列は昇順にソートされるか
      </td></tr><tr><td><code class="literal">desc</code></td><td>前方スキャンで列は降順にソートされるか
      </td></tr><tr><td><code class="literal">nulls_first</code></td><td>前方スキャンで列はNULLを先頭にしてソートするか
      </td></tr><tr><td><code class="literal">nulls_last</code></td><td>前方スキャンで列はNULLを最後にしてソートするか
      </td></tr><tr><td><code class="literal">orderable</code></td><td>列は定義済みのソート順を所有しているか
      </td></tr><tr><td><code class="literal">distance_orderable</code></td><td>列は<span class="quote">「<span class="quote">距離</span>」</span>の演算子の順序に従ってスキャンできるか、例えば<code class="literal">ORDER BY col &lt;-&gt; 定数</code>など
      </td></tr><tr><td><code class="literal">returnable</code></td><td>列の値をインデックスオンリースキャンで返すことができるか
      </td></tr><tr><td><code class="literal">search_array</code></td><td>列は<code class="literal">col = ANY(array)</code>の検索をネイティブにサポートしているか
      </td></tr><tr><td><code class="literal">search_nulls</code></td><td>列は<code class="literal">IS NULL</code>および<code class="literal">IS NOT NULL</code>の検索をサポートしているか
      </td></tr></tbody></table></div></div><br class="table-break" /><div class="table" id="FUNCTIONS-INFO-INDEX-PROPS"><p class="title"><strong>表9.65 インデックスの属性</strong></p><div class="table-contents"><span class="original">
   &lt;title&gt;Index Properties&lt;/title&gt;
</span><table class="table" summary="インデックスの属性" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>名前</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal">clusterable</code></td><td>インデックスを<code class="literal">CLUSTER</code>コマンドで使うことができるか
      </td></tr><tr><td><code class="literal">index_scan</code></td><td>インデックスは通常の（ビットマップでない）スキャンをサポートしているか
      </td></tr><tr><td><code class="literal">bitmap_scan</code></td><td>インデックスはビットマップスキャンをサポートしているか
      </td></tr><tr><td><code class="literal">backward_scan</code></td><td>スキャンの途中でスキャン方向を変更できるか（マテリアライゼーションを必要とせずにカーソルの <code class="literal">FETCH BACKWARD</code>をサポートするため）
      </td></tr></tbody></table></div></div><br class="table-break" /><div class="table" id="FUNCTIONS-INFO-INDEXAM-PROPS"><p class="title"><strong>表9.66 インデックスアクセスメソッドの属性</strong></p><div class="table-contents"><span class="original">
   &lt;title&gt;Index Access Method Properties&lt;/title&gt;
</span><table class="table" summary="インデックスアクセスメソッドの属性" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>名前</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal">can_order</code></td><td>アクセスメソッドは<code class="literal">CREATE INDEX</code>において<code class="literal">ASC</code>、<code class="literal">DESC</code>および関連するキーワードをサポートしているか
      </td></tr><tr><td><code class="literal">can_unique</code></td><td>アクセスメソッドは一意インデックスをサポートしているか
      </td></tr><tr><td><code class="literal">can_multi_col</code></td><td>アクセスメソッドは複数列にまたがるインデックスをサポートしているか
      </td></tr><tr><td><code class="literal">can_exclude</code></td><td>アクセスメソッドは除外制約をサポートしているか
      </td></tr><tr><td><code class="literal">can_include</code></td><td>アクセスメソッドが<code class="literal">CREATE INDEX</code>の<code class="literal">INCLUDE</code>句をサポートしているか</td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
   &lt;function&gt;pg_options_to_table&lt;/function&gt; returns the set of storage
   option name/value pairs
   (&lt;replaceable&gt;option_name&lt;/replaceable&gt;/&lt;replaceable&gt;option_value&lt;/replaceable&gt;) when passed
   &lt;structname&gt;pg_class&lt;/structname&gt;.&lt;structfield&gt;reloptions&lt;/structfield&gt; or
   &lt;structname&gt;pg_attribute&lt;/structname&gt;.&lt;structfield&gt;attoptions&lt;/structfield&gt;.
</span>
<code class="function">pg_options_to_table</code>は、<code class="structname">pg_class</code>.<code class="structfield">reloptions</code>または<code class="structname">pg_attribute</code>.<code class="structfield">attoptions</code>が渡されたときに、格納オプションの名前と値のペア(<em class="replaceable"><code>option_name</code></em>/<em class="replaceable"><code>option_value</code></em>)の集合を返します。
  </p><p>
<span class="original">
   &lt;function&gt;pg_tablespace_databases&lt;/function&gt; allows a tablespace to be
   examined. It returns the set of OIDs of databases that have objects stored
   in the tablespace. If this function returns any rows, the tablespace is not
   empty and cannot be dropped. To display the specific objects populating the
   tablespace, you will need to connect to the databases identified by
   &lt;function&gt;pg_tablespace_databases&lt;/function&gt; and query their
   &lt;structname&gt;pg_class&lt;/structname&gt; catalogs.
</span>
<code class="function">pg_tablespace_databases</code>によりテーブル空間を調べることができ
ます。
これは、そのテーブル空間内に格納されたオブジェクトを持つデータベースのOIDの集合を返します。
この関数が何らかの行を返した場合、このテーブル空間は空ではなく、削除することがで
きません。
テーブル空間内に格納された特定のオブジェクトを表示するためには、<code class="function">pg_tablespace_databases</code>で識別されたデータベースに接続し、その<code class="structname">pg_class</code>カタログに問い合わせを行う必要があります。
  </p><p>
<span class="original">
   &lt;function&gt;pg_typeof&lt;/function&gt; returns the OID of the data type of the
   value that is passed to it.  This can be helpful for troubleshooting or
   dynamically constructing SQL queries.  The function is declared as
   returning &lt;type&gt;regtype&lt;/type&gt;, which is an OID alias type (see
   &lt;xref linkend="datatype-oid"/&gt;); this means that it is the same as an
   OID for comparison purposes but displays as a type name.  For example:
</span>
<code class="function">pg_typeof</code>は、渡される値のデータ型のOIDを返します。
これはトラブル解決作業、または動的にSQL問い合わせを生成するのに便利です。
この関数は、OID型の別名である<code class="type">regtype</code>を返すものとして宣言されます（<a class="xref" href="datatype-oid.html" title="8.19. オブジェクト識別子データ型">8.19</a>を参照）。つまり、比較が目的ならOIDと同一ですが、型名として表示されます。
以下に例をあげます。
</p><pre class="programlisting">
SELECT pg_typeof(33);

 pg_typeof 
-----------
 integer
(1 row)

SELECT typlen FROM pg_type WHERE oid = pg_typeof(33);
 typlen 
--------
      4
(1 row)
</pre><p>
  </p><p>
<span class="original">
   The expression &lt;literal&gt;collation for&lt;/literal&gt; returns the collation of the
   value that is passed to it.  Example:
</span>
<code class="literal">collation for</code>式は、それに渡された値の照合順序を返します。
例を示します。
</p><pre class="programlisting">
SELECT collation for (description) FROM pg_description LIMIT 1;
 pg_collation_for 
------------------
 "default"
(1 row)

SELECT collation for ('foo' COLLATE "de_DE");
 pg_collation_for 
------------------
 "de_DE"
(1 row)
</pre><p>
<span class="original">
  The value might be quoted and schema-qualified.  If no collation is derived
  for the argument expression, then a null value is returned.  If the argument
  is not of a collatable data type, then an error is raised.
</span>
値には引用符が付けられ、またはスキーマ修飾されることがあります。
もし引数の式から何も照合順序が得られなかった場合、NULLが返されます。
もし引数が照合順序をサポートしないデータ型だった場合、エラーとなります。
  </p><p>
<span class="original">
   The &lt;function&gt;to_regclass&lt;/function&gt;, &lt;function&gt;to_regproc&lt;/function&gt;,
   &lt;function&gt;to_regprocedure&lt;/function&gt;, &lt;function&gt;to_regoper&lt;/function&gt;,
   &lt;function&gt;to_regoperator&lt;/function&gt;, &lt;function&gt;to_regtype&lt;/function&gt;,
   &lt;function&gt;to_regnamespace&lt;/function&gt;, and &lt;function&gt;to_regrole&lt;/function&gt;
   functions translate relation, function, operator, type, schema, and role
   names (given as &lt;type&gt;text&lt;/type&gt;) to objects of
   type &lt;type&gt;regclass&lt;/type&gt;, &lt;type&gt;regproc&lt;/type&gt;, &lt;type&gt;regprocedure&lt;/type&gt;,
   &lt;type&gt;regoper&lt;/type&gt;, &lt;type&gt;regoperator&lt;/type&gt;, &lt;type&gt;regtype&lt;/type&gt;,
   &lt;type&gt;regnamespace&lt;/type&gt;, and &lt;type&gt;regrole&lt;/type&gt;
   respectively.  These functions differ from a cast from
   text in that they don't accept a numeric OID, and that they return null
   rather than throwing an error if the name is not found (or, for
   &lt;function&gt;to_regproc&lt;/function&gt; and &lt;function&gt;to_regoper&lt;/function&gt;, if
   the given name matches multiple objects).
</span>
<code class="function">to_regclass</code>、<code class="function">to_regproc</code>、<code class="function">to_regprocedure</code>、<code class="function">to_regoper</code>、<code class="function">to_regoperator</code>、<code class="function">to_regtype</code>、<code class="function">to_regnamespace</code>、<code class="function">to_regrole</code>関数はリレーション、関数、演算子、型、スキーマ、ロールの名前（<code class="type">text</code>として渡されます）をそれぞれ<code class="type">regclass</code>、<code class="type">regproc</code>、<code class="type">regprocedure</code>、<code class="type">regoper</code>、<code class="type">regoperator</code>、<code class="type">regtype</code>、<code class="type">regnamespace</code>、<code class="type">regrole</code>型のオブジェクトに変換します。
数値OIDを受け付けず、名前が見つからない(もしくは、<code class="function">to_regproc</code>と<code class="function">to_regoper</code>では、与えられた名前が複数のオブジェクトに一致する)場合にはエラーを発生するのではなくnullを返すという点で、これらの関数はテキストからのキャストとは異なります。
  </p><a id="id-1.5.8.30.145" class="indexterm"></a><a id="id-1.5.8.30.146" class="indexterm"></a><a id="id-1.5.8.30.147" class="indexterm"></a><a id="id-1.5.8.30.148" class="indexterm"></a><p>
<span class="original">
   &lt;xref linkend="functions-info-object-table"/&gt; lists functions related to
   database object identification and addressing.
</span>
<a class="xref" href="functions-info.html#FUNCTIONS-INFO-OBJECT-TABLE" title="表9.67 オブジェクト情報とアドレスの関数">表 9.67</a>にデータベースオブジェクトの識別とアドレスに関連する関数を示します。
  </p><div class="table" id="FUNCTIONS-INFO-OBJECT-TABLE"><p class="title"><strong>表9.67 オブジェクト情報とアドレスの関数</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;Object Information and Addressing Functions&lt;/title&gt;
</span><table class="table" summary="オブジェクト情報とアドレスの関数" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>名前</th><th>戻り型</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal"><code class="function">pg_describe_object(<em class="parameter"><code>classid</code></em> <code class="type">oid</code>, <em class="parameter"><code>objid</code></em> <code class="type">oid</code>, <em class="parameter"><code>objsubid</code></em> <code class="type">integer</code>)</code></code></td><td><code class="type">text</code></td><td>データベースオブジェクトの説明の取得</td></tr><tr><td><code class="literal"><code class="function">pg_identify_object(<em class="parameter"><code>classid</code></em> <code class="type">oid</code>, <em class="parameter"><code>objid</code></em> <code class="type">oid</code>, <em class="parameter"><code>objsubid</code></em> <code class="type">integer</code>)</code></code></td><td><em class="parameter"><code>type</code></em> <code class="type">text</code>, <em class="parameter"><code>schema</code></em> <code class="type">text</code>, <em class="parameter"><code>name</code></em> <code class="type">text</code>, <em class="parameter"><code>identity</code></em> <code class="type">text</code></td><td>データベースオブジェクトの識別の取得</td></tr><tr><td><code class="literal"><code class="function">pg_identify_object_as_address(<em class="parameter"><code>classid</code></em> <code class="type">oid</code>, <em class="parameter"><code>objid</code></em> <code class="type">oid</code>, <em class="parameter"><code>objsubid</code></em> <code class="type">integer</code>)</code></code></td><td><em class="parameter"><code>type</code></em> <code class="type">text</code>, <em class="parameter"><code>object_names</code></em> <code class="type">text[]</code>, <em class="parameter"><code>object_args</code></em> <code class="type">text[]</code></td><td>データベースオブジェクトのアドレスの外部表現を取得</td></tr><tr><td><code class="literal"><code class="function">pg_get_object_address(<em class="parameter"><code>type</code></em> <code class="type">text</code>, <em class="parameter"><code>object_names</code></em> <code class="type">text[]</code>, <em class="parameter"><code>object_args</code></em> <code class="type">text[]</code>)</code></code></td><td><em class="parameter"><code>classid</code></em> <code class="type">oid</code>, <em class="parameter"><code>objid</code></em> <code class="type">oid</code>, <em class="parameter"><code>objsubid</code></em> <code class="type">integer</code></td><td>データベースオブジェクトのアドレスの外部表現から、アドレスを取得</td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
   &lt;function&gt;pg_describe_object&lt;/function&gt; returns a textual description of a database
   object specified by catalog OID, object OID, and sub-object ID (such as
   a column number within a table; the sub-object ID is zero when referring
   to a whole object).
   This description is intended to be human-readable, and might be translated,
   depending on server configuration.
   This is useful to determine the identity of an object as stored in the
   &lt;structname&gt;pg_depend&lt;/structname&gt; catalog.
</span>
<code class="function">pg_describe_object</code>はカタログOID、オブジェクトOID、もしくはサブオブジェクトOID（たとえばテーブル中の列番号。オブジェクト全体を参照している場合は0）で指定されたデータベースオブジェクトのテキストによる説明を返します。
この説明はサーバの設定に依存しますが、人が読んでわかる、そして翻訳も可能になることを目的としたのもです。
これは<code class="structname">pg_depend</code>カタログに格納されたオブジェクトの識別判断の際に有用です。
  </p><p>
<span class="original">
   &lt;function&gt;pg_identify_object&lt;/function&gt; returns a row containing enough information
   to uniquely identify the database object specified by catalog OID, object OID and
   sub-object ID.  This information is intended to be machine-readable,
   and is never translated.
   &lt;parameter&gt;type&lt;/parameter&gt; identifies the type of database object;
   &lt;parameter&gt;schema&lt;/parameter&gt; is the schema name that the object belongs in, or
   &lt;literal&gt;NULL&lt;/literal&gt; for object types that do not belong to schemas;
   &lt;parameter&gt;name&lt;/parameter&gt; is the name of the object, quoted if necessary,
   if the name (along with schema name, if pertinent) is sufficient to
   uniquely identify the object, otherwise &lt;literal&gt;NULL&lt;/literal&gt;;
   &lt;parameter&gt;identity&lt;/parameter&gt; is the complete object identity, with the
   precise format depending on object type, and each name within the format
   being schema-qualified and quoted as necessary.
</span>
<code class="function">pg_identify_object</code>はカタログOID、オブジェクトOID、そしてサブオブジェクトIDにより指定されるデータベースオブジェクトを一意に特定するために十分な情報を含む行を返します。
この情報は機械による読み取りを目的としており、決して翻訳されません。
<em class="parameter"><code>type</code></em>はデータベースオブジェクトの型を識別するものです。
<em class="parameter"><code>schema</code></em>はオブジェクトが所属するスキーマの名前ですが、スキーマに所属しないオブジェクト型の場合は<code class="literal">NULL</code>になります。
<em class="parameter"><code>name</code></em>は（必要なら引用符で括った）オブジェクトの名前ですが、（適切ならスキーマ名と合わせて）オブジェクトの一意識別子として使用できる場合にのみ指定し、それ以外の場合は<code class="literal">NULL</code>にします。
<em class="parameter"><code>identity</code></em>は完全なオブジェクトの識別で、オブジェクトの型に依存した正確なフォーマットを持っています。
フォーマット内の各部分はスキーマ修飾されており、必要に応じて引用符で括られます。
  </p><p>
<span class="original">
   &lt;function&gt;pg_identify_object_as_address&lt;/function&gt; returns a row containing
   enough information to uniquely identify the database object specified by
   catalog OID, object OID and sub-object ID.  The returned
   information is independent of the current server, that is, it could be used
   to identify an identically named object in another server.
   &lt;parameter&gt;type&lt;/parameter&gt; identifies the type of database object;
   &lt;parameter&gt;object_names&lt;/parameter&gt; and &lt;parameter&gt;object_args&lt;/parameter&gt;
   are text arrays that together form a reference to the object.
   These three values can be passed to
   &lt;function&gt;pg_get_object_address&lt;/function&gt; to obtain the internal address
   of the object.
   This function is the inverse of &lt;function&gt;pg_get_object_address&lt;/function&gt;.
</span>
<code class="function">pg_identify_object_as_address</code>はカタログOID、オブジェクトOID、そしてサブオブジェクトIDにより指定されるデータベースオブジェクトを一意に特定するために充分な情報を含む行を返します。
返される情報は現在のサーバに依存しません。
つまり、他のサーバで全く同じ名前を付けられたオブジェクトを識別するために使うことができます。
<em class="parameter"><code>type</code></em>はデータベースオブジェクトの型を識別するものです。
<em class="parameter"><code>object_names</code></em>と<em class="parameter"><code>object_args</code></em>は文字列の配列で、それらが組み合わされてオブジェクトへの参照を構成します。
これらの3つの値は、オブジェクトの内部アドレスを取得するために<code class="function">pg_get_object_address</code>に渡すことができます。
この関数は<code class="function">pg_get_object_address</code>の逆関数です。
  </p><p>
<span class="original">
   &lt;function&gt;pg_get_object_address&lt;/function&gt; returns a row containing enough
   information to uniquely identify the database object specified by its
   type and object name and argument arrays.  The returned values are the
   ones that would be used in system catalogs such as &lt;structname&gt;pg_depend&lt;/structname&gt;
   and can be passed to other system functions such as
   &lt;function&gt;pg_identify_object&lt;/function&gt; or &lt;function&gt;pg_describe_object&lt;/function&gt;.
   &lt;parameter&gt;classid&lt;/parameter&gt; is the OID of the system catalog containing the
   object;
   &lt;parameter&gt;objid&lt;/parameter&gt; is the OID of the object itself, and
   &lt;parameter&gt;objsubid&lt;/parameter&gt; is the sub-object ID, or zero if none.
   This function is the inverse of &lt;function&gt;pg_identify_object_as_address&lt;/function&gt;.
</span>
<code class="function">pg_get_object_address</code>は、型、オブジェクト名および引数の配列で指定されたデータベースオブジェクトを一意に特定するために十分な情報を含む行を返します。
返される値は、<code class="structname">pg_depend</code>などのシステムカタログで使用されるもので、<code class="function">pg_identify_object</code>や<code class="function">pg_describe_object</code>など他のシステム関数に渡すことができます。
<em class="parameter"><code>classid</code></em>はオブジェクトを含むシステムカタログのOIDです。
<em class="parameter"><code>objid</code></em>はオブジェクト自体のOIDです。
<em class="parameter"><code>objsubid</code></em>はオブジェクトのサブID、なければ0です。
この関数は<code class="function">pg_identify_object_as_address</code>の逆関数です。
  </p><a id="id-1.5.8.30.155" class="indexterm"></a><a id="id-1.5.8.30.156" class="indexterm"></a><a id="id-1.5.8.30.157" class="indexterm"></a><a id="id-1.5.8.30.158" class="indexterm"></a><p>
<span class="original">
    The functions shown in &lt;xref linkend="functions-info-comment-table"/&gt;
    extract comments previously stored with the &lt;xref linkend="sql-comment"/&gt;
    command.  A null value is returned if no
    comment could be found for the specified parameters.
</span>
<a class="xref" href="functions-info.html#FUNCTIONS-INFO-COMMENT-TABLE" title="表9.68 コメント情報関数">表 9.68</a>に示される関数は、<a class="xref" href="sql-comment.html" title="COMMENT"><span class="refentrytitle">COMMENT</span></a>コマンドによって以前に保存されたコメントを抽出します。
指定されたパラメータに対するコメントが存在しない場合、NULL値が返されます。
   </p><div class="table" id="FUNCTIONS-INFO-COMMENT-TABLE"><p class="title"><strong>表9.68 コメント情報関数</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;Comment Information Functions&lt;/title&gt;
</span><table class="table" summary="コメント情報関数" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>名前</th><th>戻り型</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal"><code class="function">col_description(<em class="parameter"><code>table_oid</code></em>, <em class="parameter"><code>column_number</code></em>)</code></code></td><td><code class="type">text</code></td><td>テーブル列のコメントを取得</td></tr><tr><td><code class="literal"><code class="function">obj_description(<em class="parameter"><code>object_oid</code></em>, <em class="parameter"><code>catalog_name</code></em>)</code></code></td><td><code class="type">text</code></td><td>データベースオブジェクトのコメントを取得</td></tr><tr><td><code class="literal"><code class="function">obj_description(<em class="parameter"><code>object_oid</code></em>)</code></code></td><td><code class="type">text</code></td><td>データベースオブジェクトのコメントを取得（<span class="emphasis"><em>廃止予定</em></span>）</td></tr><tr><td><code class="literal"><code class="function">shobj_description(<em class="parameter"><code>object_oid</code></em>, <em class="parameter"><code>catalog_name</code></em>)</code></code></td><td><code class="type">text</code></td><td>共有データベースオブジェクトのコメントを取得</td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    &lt;function&gt;col_description&lt;/function&gt; returns the comment for a table
    column, which is specified by the OID of its table and its column number.
    (&lt;function&gt;obj_description&lt;/function&gt; cannot be used for table columns
    since columns do not have OIDs of their own.)
</span>
<code class="function">col_description()</code>関数は、テーブルのOIDとその列番号で指定されるテーブルの列のコメントを返します。
（<code class="function">obj_description()</code>関数は、テーブル列自体がOIDを所有していませんので、テーブル列に対して使用することはできません。）
   </p><p>
<span class="original">
    The two-parameter form of &lt;function&gt;obj_description&lt;/function&gt; returns the
    comment for a database object specified by its OID and the name of the
    containing system catalog.  For example,
    &lt;literal&gt;obj_description(123456,'pg_class')&lt;/literal&gt;
    would retrieve the comment for the table with OID 123456.
    The one-parameter form of &lt;function&gt;obj_description&lt;/function&gt; requires only
    the object OID.  It is deprecated since there is no guarantee that
    OIDs are unique across different system catalogs; therefore, the wrong
    comment might be returned.
</span>
<code class="function">obj_description()</code>関数の２つのパラメータを取る形式はそのOIDと保有しているシステムカタログの名前で指定されたデータベースオブジェクトのコメントを返します。
例えば、<code class="literal">obj_description(123456,'pg_class')</code>はOID 123456を持つテーブルのコメントを抽出します。
<code class="function">obj_description()</code>関数の単一パラメータ形式はオブジェクトのOIDのみ必要とします。
異なったシステムカタログに渡ってOIDが一意である保証はないことから廃止予定です。従って、間違ったコメントが返ることがあります。
   </p><p>
<span class="original">
    &lt;function&gt;shobj_description&lt;/function&gt; is used just like
    &lt;function&gt;obj_description&lt;/function&gt; except it is used for retrieving
    comments on shared objects.  Some system catalogs are global to all
    databases within each cluster, and the descriptions for objects in them
    are stored globally as well.
</span>
<code class="function">shobj_description</code>は、共有オブジェクトのコメント取得のために使用されることを除いて、<code class="function">obj_description</code>と同じように使用されます。
一部のシステムカタログは、各クラスタ内のデータベース全体に対して大域的です。これらのコメントも同様に大域的に格納されます。
   </p><a id="id-1.5.8.30.164" class="indexterm"></a><a id="id-1.5.8.30.165" class="indexterm"></a><a id="id-1.5.8.30.166" class="indexterm"></a><a id="id-1.5.8.30.167" class="indexterm"></a><a id="id-1.5.8.30.168" class="indexterm"></a><a id="id-1.5.8.30.169" class="indexterm"></a><a id="id-1.5.8.30.170" class="indexterm"></a><a id="id-1.5.8.30.171" class="indexterm"></a><p>
<span class="original">
    The functions shown in &lt;xref linkend="functions-txid-snapshot"/&gt;
    provide server transaction information in an exportable form.  The main
    use of these functions is to determine which transactions were committed
    between two snapshots.
</span>
<a class="xref" href="functions-info.html#FUNCTIONS-TXID-SNAPSHOT" title="表9.69 トランザクションIDとスナップショット">表 9.69</a>で示される関数はサーバトランザクション情報をエクスポートできる形式で提供します。
これら関数の主な使用目的は２つのスナップショット間でどちらのトランザクションがコミットされたのかを特定するためです。
   </p><div class="table" id="FUNCTIONS-TXID-SNAPSHOT"><p class="title"><strong>表9.69 トランザクションIDとスナップショット</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;Transaction IDs and Snapshots&lt;/title&gt;
</span><table class="table" summary="トランザクションIDとスナップショット" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>名前</th><th>戻り型</th><th>説明</th></tr></thead><tbody><tr><td><code class="literal"><code class="function">txid_current()</code></code></td><td><code class="type">bigint</code></td><td>現在のトランザクションIDの取得、現在のトランザクションにIDがなければ新規に割り当てる</td></tr><tr><td><code class="literal"><code class="function">txid_current_if_assigned()</code></code></td><td><code class="type">bigint</code></td><td><code class="function">txid_current()</code>と同じだが、まだトランザクションIDが割り当てられていなければ、新規に割り当てずにNULLを返す</td></tr><tr><td><code class="literal"><code class="function">txid_current_snapshot()</code></code></td><td><code class="type">txid_snapshot</code></td><td>現在のスナップショットの取得</td></tr><tr><td><code class="literal"><code class="function">txid_snapshot_xip(<em class="parameter"><code>txid_snapshot</code></em>)</code></code></td><td><code class="type">setof bigint</code></td><td>スナップショットにある進行中のトランザクションIDの取得</td></tr><tr><td><code class="literal"><code class="function">txid_snapshot_xmax(<em class="parameter"><code>txid_snapshot</code></em>)</code></code></td><td><code class="type">bigint</code></td><td>スナップショットの<code class="literal">xmax</code>の取得</td></tr><tr><td><code class="literal"><code class="function">txid_snapshot_xmin(<em class="parameter"><code>txid_snapshot</code></em>)</code></code></td><td><code class="type">bigint</code></td><td>スナップショットの<code class="literal">xmin</code>の取得</td></tr><tr><td><code class="literal"><code class="function">txid_visible_in_snapshot(<em class="parameter"><code>bigint</code></em>, <em class="parameter"><code>txid_snapshot</code></em>)</code></code></td><td><code class="type">boolean</code></td><td>スナップショットにあるトランザクションIDは可視か？（サブトランザクションIDで使用しないこと）</td></tr><tr><td><code class="literal"><code class="function">txid_status(<em class="parameter"><code>bigint</code></em>)</code></code></td><td><code class="type">text</code></td><td>指定のトランザクションのステータス（<code class="literal">committed</code>、<code class="literal">aborted</code>、<code class="literal">in progress</code>、NULL（トランザクションIDが古すぎる場合））を報告する</td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    The internal transaction ID type (&lt;type&gt;xid&lt;/type&gt;) is 32 bits wide and
    wraps around every 4 billion transactions.  However, these functions
    export a 64-bit format that is extended with an &lt;quote&gt;epoch&lt;/quote&gt; counter
    so it will not wrap around during the life of an installation.
    The data type used by these functions, &lt;type&gt;txid_snapshot&lt;/type&gt;,
    stores information about transaction ID
    visibility at a particular moment in time.  Its components are
    described in &lt;xref linkend="functions-txid-snapshot-parts"/&gt;.
</span>
内部トランザクションID型（<code class="type">xid</code>）は32ビット幅なので40億トランザクション毎にラップします。
とは言っても、これらの関数は<span class="quote">「<span class="quote">epoch</span>」</span>カウンタにより拡張された64ビット形式をエクスポートするため、インストレーションの生涯にわたってラップしないでしょう。
これらの関数で使用されるデータ型、<code class="type">txid_snapshot</code>はある特定の時間におけるトランザクションIDの可視性に関する情報を格納します。
構成要素は<a class="xref" href="functions-info.html#FUNCTIONS-TXID-SNAPSHOT-PARTS" title="表9.70 スナップショット構成要素">表 9.70</a>に記載されています。
   </p><div class="table" id="FUNCTIONS-TXID-SNAPSHOT-PARTS"><p class="title"><strong>表9.70 スナップショット構成要素</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;Snapshot Components&lt;/title&gt;
</span><table class="table" summary="スナップショット構成要素" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>名前</th><th>説明</th></tr></thead><tbody><tr><td><code class="type">xmin</code></td><td>
<span class="original">
         Earliest transaction ID (txid) that is still active.  All earlier
         transactions will either be committed and visible, or rolled
         back and dead.
</span>
現在実行中で最も早いトランザクションID（txid）。
これより早い全てのトランザクションはコミットされて可視となっているか、またはロールバックされて消滅している。
       </td></tr><tr><td><code class="type">xmax</code></td><td>
<span class="original">
        First as-yet-unassigned txid.  All txids greater than or equal to this
        are not yet started as of the time of the snapshot, and thus invisible.
</span>
まだ割り当てられていない最初のtxid。
これと等しいかより大きい全てのtxidはスナップショットの時点で未開始であり、従って不可視。
       </td></tr><tr><td><code class="type">xip_list</code></td><td>
<span class="original">
        Active txids at the time of the snapshot.  The list
        includes only those active txids between &lt;literal&gt;xmin&lt;/literal&gt;
        and &lt;literal&gt;xmax&lt;/literal&gt;; there might be active txids higher
        than &lt;literal&gt;xmax&lt;/literal&gt;.  A txid that is &lt;literal&gt;xmin &amp;lt;= txid &amp;lt;
        xmax&lt;/literal&gt; and not in this list was already completed
        at the time of the snapshot, and thus either visible or
        dead according to its commit status.  The list does not
        include txids of subtransactions.
</span>
スナップショット時の実行中のtxid。
リストは<code class="literal">xmin</code>と<code class="literal">xmax</code>間の実行中のtxidのみを含む。
<code class="literal">xmax</code>より高位で実行中のtxidが存在することもある。
<code class="literal">xmin &lt;= txid &lt; xmax</code>であり、このリストにないtxidはスナップショット時に既に完了しており、従って、コミット状態によって、可視か消滅かのいずれか。
リストには副トランザクションのtxidは含まれない。
       </td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    &lt;type&gt;txid_snapshot&lt;/type&gt;'s textual representation is
    &lt;literal&gt;&lt;replaceable&gt;xmin&lt;/replaceable&gt;:&lt;replaceable&gt;xmax&lt;/replaceable&gt;:&lt;replaceable&gt;xip_list&lt;/replaceable&gt;&lt;/literal&gt;.
    For example &lt;literal&gt;10:20:10,14,15&lt;/literal&gt; means
    &lt;literal&gt;xmin=10, xmax=20, xip_list=10, 14, 15&lt;/literal&gt;.
</span>
<code class="type">txid_snapshot</code>のテキスト表現は<code class="literal"><em class="replaceable"><code>xmin</code></em>:<em class="replaceable"><code>xmax</code></em>:<em class="replaceable"><code>xip_list</code></em></code>です。
例えば、<code class="literal">10:20:10,14,15</code>は<code class="literal">xmin=10, xmax=20, xip_list=10, 14, 15</code>を意味します。
   </p><p>
<span class="original">
    &lt;function&gt;txid_status(bigint)&lt;/function&gt; reports the commit status of a recent
    transaction.  Applications may use it to determine whether a transaction
    committed or aborted when the application and database server become
    disconnected while a &lt;literal&gt;COMMIT&lt;/literal&gt; is in progress.
    The status of a transaction will be reported as either
    &lt;literal&gt;in progress&lt;/literal&gt;,
    &lt;literal&gt;committed&lt;/literal&gt;, or &lt;literal&gt;aborted&lt;/literal&gt;, provided that the
    transaction is recent enough that the system retains the commit status
    of that transaction.  If is old enough that no references to that
    transaction survive in the system and the commit status information has
    been discarded, this function will return NULL.  Note that prepared
    transactions are reported as &lt;literal&gt;in progress&lt;/literal&gt;; applications must
    check &lt;link
    linkend="view-pg-prepared-xacts"&gt;&lt;literal&gt;pg_prepared_xacts&lt;/literal&gt;&lt;/link&gt; if they
    need to determine whether the txid is a prepared transaction.
</span>
<code class="function">txid_status(bigint)</code>は最近のトランザクションのコミット状態について報告します。
<code class="literal">COMMIT</code>の進行中にアプリケーションとデータベースが切断されたときに、アプリケーションはトランザクションがコミットされたか中断されたかを知るためにこれを使うことができます。
トランザクションが最近のもので、システムがそのトランザクションのコミット状態を保持している場合は、トランザクションの状態は<code class="literal">in progress</code>、<code class="literal">committed</code>あるいは<code class="literal">aborted</code>として報告されます。
トランザクションが古く、その参照がシステムに残っておらず、コミット状態の情報が破棄されている場合は、この関数はNULLを返します。
プリペアドのトランザクションは<code class="literal">in progress</code>として報告されること、そして指定のtxidがプリペアドのトランザクションかどうかを確認する必要がある場合は、アプリケーションは<a class="link" href="view-pg-prepared-xacts.html" title="52.77. pg_prepared_xacts"><code class="literal">pg_prepared_xacts</code></a>を調べなければならないことに注意してください。
   </p><p>
<span class="original">
    The functions shown in &lt;xref linkend="functions-commit-timestamp"/&gt;
    provide information about transactions that have been already committed.
    These functions mainly provide information about when the transactions
    were committed. They only provide useful data when
    &lt;xref linkend="guc-track-commit-timestamp"/&gt; configuration option is enabled
    and only for transactions that were committed after it was enabled.
</span>
<a class="xref" href="functions-info.html#FUNCTIONS-COMMIT-TIMESTAMP" title="表9.71 コミットされたトランザクションの情報">表 9.71</a>に示す関数は、コミット済みのトランザクションに関する情報を提供します。
これらの関数は主に、トランザクションがいつコミットされたかについての情報を提供します。
これらは、設定オプション<a class="xref" href="runtime-config-replication.html#GUC-TRACK-COMMIT-TIMESTAMP">track_commit_timestamp</a>が有効な時にのみ、しかもそれが有効にされた後にコミットされたトランザクションについてのみ有意なデータを提供します。
   </p><div class="table" id="FUNCTIONS-COMMIT-TIMESTAMP"><p class="title"><strong>表9.71 コミットされたトランザクションの情報</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;Committed transaction information&lt;/title&gt;
</span><table class="table" summary="コミットされたトランザクションの情報" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>名前</th><th>戻り型</th><th>説明</th></tr></thead><tbody><tr><td>
        <a id="id-1.5.8.30.179.2.2.1.1.1" class="indexterm"></a>
        <code class="literal"><code class="function">pg_xact_commit_timestamp(<em class="parameter"><code>xid</code></em>)</code></code>
       </td><td><code class="type">timestamp with time zone</code></td><td>トランザクションのコミットのタイムスタンプを取得</td></tr><tr><td>
        <a id="id-1.5.8.30.179.2.2.2.1.1" class="indexterm"></a>
        <code class="literal"><code class="function">pg_last_committed_xact()</code></code>
       </td><td><em class="parameter"><code>xid</code></em> <code class="type">xid</code>, <em class="parameter"><code>timestamp</code></em> <code class="type">timestamp with time zone</code></td><td>最後にコミットされたトランザクションのトランザクションIDとコミットのタイムスタンプを取得</td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    The functions shown in &lt;xref linkend="functions-controldata"/&gt;
    print information initialized during &lt;command&gt;initdb&lt;/command&gt;, such
    as the catalog version. They also show information about write-ahead
    logging and checkpoint processing. This information is cluster-wide,
    and not specific to any one database. They provide most of the same
    information, from the same source, as
    &lt;xref linkend="app-pgcontroldata"/&gt;, although in a form better suited
    to &lt;acronym&gt;SQL&lt;/acronym&gt; functions.
</span>
<a class="xref" href="functions-info.html#FUNCTIONS-CONTROLDATA" title="表9.72 制御データ関数">表 9.72</a>に示す関数は、カタログのバージョンなどといった<code class="command">initdb</code>の実行時に初期化される情報を表示します。
それらはまた、先行書き込みログとチェックポイント処理についての情報も示します。
この情報はクラスタ全体に渡るもので、どれか１つのデータベースに特有のものではありません。
それらは<a class="xref" href="app-pgcontroldata.html" title="pg_controldata"><span class="refentrytitle"><span class="application">pg_controldata</span></span></a>と同じ情報源から、ほぼ同じ情報を提供しますが、<acronym class="acronym">SQL</acronym>関数により適した形式になります。
   </p><div class="table" id="FUNCTIONS-CONTROLDATA"><p class="title"><strong>表9.72 制御データ関数</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;Control Data Functions&lt;/title&gt;
</span><table class="table" summary="制御データ関数" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>名前</th><th>戻り値型</th><th>説明</th></tr></thead><tbody><tr><td>
        <a id="id-1.5.8.30.181.2.2.1.1.1" class="indexterm"></a>
        <code class="literal"><code class="function">pg_control_checkpoint()</code></code>
       </td><td><code class="type">record</code></td><td>
<span class="original">
        Returns information about current checkpoint state.
</span>
現在のチェックポイントの状態に関する情報を返す
       </td></tr><tr><td>
        <a id="id-1.5.8.30.181.2.2.2.1.1" class="indexterm"></a>
        <code class="literal"><code class="function">pg_control_system()</code></code>
       </td><td><code class="type">record</code></td><td>
<span class="original">
        Returns information about current control file state.
</span>
現在の制御ファイルの状態に関する情報を返す
       </td></tr><tr><td>
        <a id="id-1.5.8.30.181.2.2.3.1.1" class="indexterm"></a>
        <code class="literal"><code class="function">pg_control_init()</code></code>
       </td><td><code class="type">record</code></td><td>
<span class="original">
        Returns information about cluster initialization state.
</span>
クラスタの初期化状態に関する情報を返す
       </td></tr><tr><td>
        <a id="id-1.5.8.30.181.2.2.4.1.1" class="indexterm"></a>
        <code class="literal"><code class="function">pg_control_recovery()</code></code>
       </td><td><code class="type">record</code></td><td>
<span class="original">
        Returns information about recovery state.
</span>
リカバリの状態に関する情報を返す
       </td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    &lt;function&gt;pg_control_checkpoint&lt;/function&gt; returns a record, shown in
    &lt;xref linkend="functions-pg-control-checkpoint"/&gt;
</span>
<code class="function">pg_control_checkpoint</code>は<a class="xref" href="functions-info.html#FUNCTIONS-PG-CONTROL-CHECKPOINT" title="表9.73 pg_control_checkpointの列">表 9.73</a>に示すレコードを返します。
   </p><div class="table" id="FUNCTIONS-PG-CONTROL-CHECKPOINT"><p class="title"><strong>表9.73 <code class="function">pg_control_checkpoint</code>の列</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;&lt;function&gt;pg_control_checkpoint&lt;/function&gt; Columns&lt;/title&gt;
</span><table class="table" summary="pg_control_checkpointの列" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>列名</th><th>データ型</th></tr></thead><tbody><tr><td><code class="literal">checkpoint_lsn</code></td><td><code class="type">pg_lsn</code></td></tr><tr><td><code class="literal">redo_lsn</code></td><td><code class="type">pg_lsn</code></td></tr><tr><td><code class="literal">redo_wal_file</code></td><td><code class="type">text</code></td></tr><tr><td><code class="literal">timeline_id</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">prev_timeline_id</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">full_page_writes</code></td><td><code class="type">boolean</code></td></tr><tr><td><code class="literal">next_xid</code></td><td><code class="type">text</code></td></tr><tr><td><code class="literal">next_oid</code></td><td><code class="type">oid</code></td></tr><tr><td><code class="literal">next_multixact_id</code></td><td><code class="type">xid</code></td></tr><tr><td><code class="literal">next_multi_offset</code></td><td><code class="type">xid</code></td></tr><tr><td><code class="literal">oldest_xid</code></td><td><code class="type">xid</code></td></tr><tr><td><code class="literal">oldest_xid_dbid</code></td><td><code class="type">oid</code></td></tr><tr><td><code class="literal">oldest_active_xid</code></td><td><code class="type">xid</code></td></tr><tr><td><code class="literal">oldest_multi_xid</code></td><td><code class="type">xid</code></td></tr><tr><td><code class="literal">oldest_multi_dbid</code></td><td><code class="type">oid</code></td></tr><tr><td><code class="literal">oldest_commit_ts_xid</code></td><td><code class="type">xid</code></td></tr><tr><td><code class="literal">newest_commit_ts_xid</code></td><td><code class="type">xid</code></td></tr><tr><td><code class="literal">checkpoint_time</code></td><td><code class="type">timestamp with time zone</code></td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    &lt;function&gt;pg_control_system&lt;/function&gt; returns a record, shown in
    &lt;xref linkend="functions-pg-control-system"/&gt;
</span>
<code class="function">pg_control_system</code>は<a class="xref" href="functions-info.html#FUNCTIONS-PG-CONTROL-SYSTEM" title="表9.74 pg_control_systemの列">表 9.74</a>に示すレコードを返します。
   </p><div class="table" id="FUNCTIONS-PG-CONTROL-SYSTEM"><p class="title"><strong>表9.74 <code class="function">pg_control_system</code>の列</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;&lt;function&gt;pg_control_system&lt;/function&gt; Columns&lt;/title&gt;
</span><table class="table" summary="pg_control_systemの列" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>列名</th><th>データ型</th></tr></thead><tbody><tr><td><code class="literal">pg_control_version</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">catalog_version_no</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">system_identifier</code></td><td><code class="type">bigint</code></td></tr><tr><td><code class="literal">pg_control_last_modified</code></td><td><code class="type">timestamp with time zone</code></td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    &lt;function&gt;pg_control_init&lt;/function&gt; returns a record, shown in
</span>
<code class="function">pg_control_init</code>は<a class="xref" href="functions-info.html#FUNCTIONS-PG-CONTROL-INIT" title="表9.75 pg_control_initの列">表 9.75</a>に示すレコードを返します。
    <a class="xref" href="functions-info.html#FUNCTIONS-PG-CONTROL-INIT" title="表9.75 pg_control_initの列">表 9.75</a>
   </p><div class="table" id="FUNCTIONS-PG-CONTROL-INIT"><p class="title"><strong>表9.75 <code class="function">pg_control_init</code>の列</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;&lt;function&gt;pg_control_init&lt;/function&gt; Columns&lt;/title&gt;
</span><table class="table" summary="pg_control_initの列" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>列名</th><th>データ型</th></tr></thead><tbody><tr><td><code class="literal">max_data_alignment</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">database_block_size</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">blocks_per_segment</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">wal_block_size</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">bytes_per_wal_segment</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">max_identifier_length</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">max_index_columns</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">max_toast_chunk_size</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">large_object_chunk_size</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">float4_pass_by_value</code></td><td><code class="type">boolean</code></td></tr><tr><td><code class="literal">float8_pass_by_value</code></td><td><code class="type">boolean</code></td></tr><tr><td><code class="literal">data_page_checksum_version</code></td><td><code class="type">integer</code></td></tr></tbody></table></div></div><br class="table-break" /><p>
<span class="original">
    &lt;function&gt;pg_control_recovery&lt;/function&gt; returns a record, shown in
</span>
<code class="function">pg_control_recovery</code>は<a class="xref" href="functions-info.html#FUNCTIONS-PG-CONTROL-RECOVERY" title="表9.76 pg_control_recoveryの列">表 9.76</a>に示すレコードを返します。
    <a class="xref" href="functions-info.html#FUNCTIONS-PG-CONTROL-RECOVERY" title="表9.76 pg_control_recoveryの列">表 9.76</a>
   </p><div class="table" id="FUNCTIONS-PG-CONTROL-RECOVERY"><p class="title"><strong>表9.76 <code class="function">pg_control_recovery</code>の列</strong></p><div class="table-contents"><span class="original">
    &lt;title&gt;&lt;function&gt;pg_control_recovery&lt;/function&gt; Columns&lt;/title&gt;
</span><table class="table" summary="pg_control_recoveryの列" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>列名</th><th>データ型</th></tr></thead><tbody><tr><td><code class="literal">min_recovery_end_lsn</code></td><td><code class="type">pg_lsn</code></td></tr><tr><td><code class="literal">min_recovery_end_timeline</code></td><td><code class="type">integer</code></td></tr><tr><td><code class="literal">backup_start_lsn</code></td><td><code class="type">pg_lsn</code></td></tr><tr><td><code class="literal">backup_end_lsn</code></td><td><code class="type">pg_lsn</code></td></tr><tr><td><code class="literal">end_of_backup_record_required</code></td><td><code class="type">boolean</code></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="functions-srf.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="functions.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="functions-admin.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">9.24. 集合を返す関数 </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> 9.26. システム管理関数</td></tr></table></div></body></html>