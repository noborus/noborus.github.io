<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>COMMENT</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="prev" href="sql-cluster.html" title="CLUSTER" /><link rel="next" href="sql-commit.html" title="COMMIT" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="4" align="center"><a accesskey="h" href="index.html">PostgreSQL 11.1文書</a></th></tr><tr><td width="10%" align="left"></td><td width="10%" align="left"></td><td width="60%" align="center"><a href="sql-commands.html" title="SQLコマンド">SQLコマンド</a></td><td width="20%" align="right"><div class="actions"><a class="issue" title="github" href="https://github.com/pgsql-jp/jpug-doc/issues/new?title=version 11.1 &#10;                      sql-comment.html">誤訳等の報告
                    </a></div></td></tr><tr><td width="10%" align="left"><a accesskey="p" href="sql-cluster.html" title="CLUSTER">前へ</a> </td><td width="10%" align="left"><a accesskey="u" href="sql-commands.html" title="SQLコマンド">上へ</a></td><td width="60%" align="center">COMMENT</td><td width="20%" align="right"> <a accesskey="n" href="sql-commit.html" title="COMMIT">次へ</a></td></tr></table><hr /></div><div class="refentry" id="SQL-COMMENT"><div class="titlepage"></div><a id="id-1.9.3.52.1" class="indexterm"></a><div class="refnamediv"><h2><span class="refentrytitle">COMMENT</span></h2><p>COMMENT<span class="original">
  &lt;refpurpose&gt;define or change the comment of an object&lt;/refpurpose&gt;
</span> — オブジェクトのコメントを定義する、または変更する</p></div><div class="refsynopsisdiv"><h2>概要</h2><pre class="synopsis">
COMMENT ON
{
  ACCESS METHOD <em class="replaceable"><code>object_name</code></em> |
  AGGREGATE <em class="replaceable"><code>aggregate_name</code></em> ( <em class="replaceable"><code>aggregate_signature</code></em> ) |
  CAST (<em class="replaceable"><code>source_type</code></em> AS <em class="replaceable"><code>target_type</code></em>) |
  COLLATION <em class="replaceable"><code>object_name</code></em> |
  COLUMN <em class="replaceable"><code>relation_name</code></em>.<em class="replaceable"><code>column_name</code></em> |
  CONSTRAINT <em class="replaceable"><code>constraint_name</code></em> ON <em class="replaceable"><code>table_name</code></em> |
  CONSTRAINT <em class="replaceable"><code>constraint_name</code></em> ON DOMAIN <em class="replaceable"><code>domain_name</code></em> |
  CONVERSION <em class="replaceable"><code>object_name</code></em> |
  DATABASE <em class="replaceable"><code>object_name</code></em> |
  DOMAIN <em class="replaceable"><code>object_name</code></em> |
  EXTENSION <em class="replaceable"><code>object_name</code></em> |
  EVENT TRIGGER <em class="replaceable"><code>object_name</code></em> |
  FOREIGN DATA WRAPPER <em class="replaceable"><code>object_name</code></em> |
  FOREIGN TABLE <em class="replaceable"><code>object_name</code></em> |
  FUNCTION <em class="replaceable"><code>function_name</code></em> [ ( [ [ <em class="replaceable"><code>argmode</code></em> ] [ <em class="replaceable"><code>argname</code></em> ] <em class="replaceable"><code>argtype</code></em> [, ...] ] ) ] |
  INDEX <em class="replaceable"><code>object_name</code></em> |
  LARGE OBJECT <em class="replaceable"><code>large_object_oid</code></em> |
  MATERIALIZED VIEW <em class="replaceable"><code>object_name</code></em> |
  OPERATOR <em class="replaceable"><code>operator_name</code></em> (<em class="replaceable"><code>left_type</code></em>, <em class="replaceable"><code>right_type</code></em>) |
  OPERATOR CLASS <em class="replaceable"><code>object_name</code></em> USING <em class="replaceable"><code>index_method</code></em> |
  OPERATOR FAMILY <em class="replaceable"><code>object_name</code></em> USING <em class="replaceable"><code>index_method</code></em> |
  POLICY <em class="replaceable"><code>policy_name</code></em> ON <em class="replaceable"><code>table_name</code></em> |
  [ PROCEDURAL ] LANGUAGE <em class="replaceable"><code>object_name</code></em> |
  PROCEDURE <em class="replaceable"><code>procedure_name</code></em> [ ( [ [ <em class="replaceable"><code>argmode</code></em> ] [ <em class="replaceable"><code>argname</code></em> ] <em class="replaceable"><code>argtype</code></em> [, ...] ] ) ] |
  PUBLICATION <em class="replaceable"><code>object_name</code></em> |
  ROLE <em class="replaceable"><code>object_name</code></em> |
  ROUTINE <em class="replaceable"><code>routine_name</code></em> [ ( [ [ <em class="replaceable"><code>argmode</code></em> ] [ <em class="replaceable"><code>argname</code></em> ] <em class="replaceable"><code>argtype</code></em> [, ...] ] ) ] |
  RULE <em class="replaceable"><code>rule_name</code></em> ON <em class="replaceable"><code>table_name</code></em> |
  SCHEMA <em class="replaceable"><code>object_name</code></em> |
  SEQUENCE <em class="replaceable"><code>object_name</code></em> |
  SERVER <em class="replaceable"><code>object_name</code></em> |
  STATISTICS <em class="replaceable"><code>object_name</code></em> |
  SUBSCRIPTION <em class="replaceable"><code>object_name</code></em> |
  TABLE <em class="replaceable"><code>object_name</code></em> |
  TABLESPACE <em class="replaceable"><code>object_name</code></em> |
  TEXT SEARCH CONFIGURATION <em class="replaceable"><code>object_name</code></em> |
  TEXT SEARCH DICTIONARY <em class="replaceable"><code>object_name</code></em> |
  TEXT SEARCH PARSER <em class="replaceable"><code>object_name</code></em> |
  TEXT SEARCH TEMPLATE <em class="replaceable"><code>object_name</code></em> |
  TRANSFORM FOR <em class="replaceable"><code>type_name</code></em> LANGUAGE <em class="replaceable"><code>lang_name</code></em> |
  TRIGGER <em class="replaceable"><code>trigger_name</code></em> ON <em class="replaceable"><code>table_name</code></em> |
  TYPE <em class="replaceable"><code>object_name</code></em> |
  VIEW <em class="replaceable"><code>object_name</code></em>
} IS '<em class="replaceable"><code>text</code></em>'

<span class="original">
&lt;phrase&gt;where &lt;replaceable&gt;aggregate_signature&lt;/replaceable&gt; is:&lt;/phrase&gt;
</span>
<span class="phrase">ここで<em class="replaceable"><code>aggregate_signature</code></em>は以下の通りです。</span>

* |
[ <em class="replaceable"><code>argmode</code></em> ] [ <em class="replaceable"><code>argname</code></em> ] <em class="replaceable"><code>argtype</code></em> [ , ... ] |
[ [ <em class="replaceable"><code>argmode</code></em> ] [ <em class="replaceable"><code>argname</code></em> ] <em class="replaceable"><code>argtype</code></em> [ , ... ] ] ORDER BY [ <em class="replaceable"><code>argmode</code></em> ] [ <em class="replaceable"><code>argname</code></em> ] <em class="replaceable"><code>argtype</code></em> [ , ... ]
</pre></div><div class="refsect1" id="id-1.9.3.52.5"><h2>説明</h2><span class="original">
  &lt;title&gt;Description&lt;/title&gt;
</span><p>
<span class="original">
   &lt;command&gt;COMMENT&lt;/command&gt; stores a comment about a database object.
</span>
<code class="command">COMMENT</code>は、データベースオブジェクトに関するコメントを保存します。
  </p><p>
<span class="original">
   Only one comment string is stored for each object, so to modify a comment,
   issue a new &lt;command&gt;COMMENT&lt;/command&gt; command for the same object.  To remove a
   comment, write &lt;literal&gt;NULL&lt;/literal&gt; in place of the text string.
   Comments are automatically dropped when their object is dropped.
</span>
各オブジェクトに保存できるコメント文字列は1つだけです。
ですので、コメントを編集するためには、同一オブジェクトに対して新しく<code class="command">COMMENT</code>コマンドを発行してください。
コメントを削除するには、テキスト文字列の部分に<code class="literal">NULL</code>を記述してください。
オブジェクトが削除された時、コメントは自動的に削除されます。
  </p><p>
<span class="original">
   For most kinds of object, only the object's owner can set the comment.
   Roles don't have owners, so the rule for &lt;literal&gt;COMMENT ON ROLE&lt;/literal&gt; is
   that you must be superuser to comment on a superuser role, or have the
   &lt;literal&gt;CREATEROLE&lt;/literal&gt; privilege to comment on non-superuser roles.
   Likewise, access methods don't have owners either; you must be superuser
   to comment on an access method.
   Of course, a superuser can comment on anything.
</span>
ほとんどの種類のオブジェクトでは、オブジェクトの所有者のみがコメントを設定することができます。
ロールには所有者がありませんので、<code class="literal">COMMENT ON ROLE</code>における規則は、スーパーユーザロールに対するコメント付けはスーパーユーザでなければならず、スーパーユーザ以外のロールに対するコメント付けは<code class="literal">CREATEROLE</code>を持たなければならないとなります。
同様に、アクセスメソッドには所有者がいないため、アクセスメソッドにコメントをつけるにはスーパーユーザでなければなりません。
当然ながらスーパーユーザは何にでもコメントを付けることができます。
  </p><p>
<span class="original">
    Comments can be viewed using &lt;application&gt;psql&lt;/application&gt;'s
    &lt;command&gt;\d&lt;/command&gt; family of commands.
    Other user interfaces to retrieve comments can be built atop
    the same built-in functions that &lt;application&gt;psql&lt;/application&gt; uses, namely
    &lt;function&gt;obj_description&lt;/function&gt;, &lt;function&gt;col_description&lt;/function&gt;,
    and &lt;function&gt;shobj_description&lt;/function&gt;
    (see &lt;xref linkend="functions-info-comment-table"/&gt;).
</span>
コメントは、<span class="application">psql</span>の<code class="command">\d</code>系のコマンドで表示することができます。
<code class="function">obj_description()</code>、<code class="function">col_description()</code>、<code class="function">shobj_description</code>という名前の、<span class="application">psql</span>が使用する組み込み関数を使うように構築することで、他のユーザインタフェースを使ってコメントを取り出せるようになります
（<a class="xref" href="functions-info.html#FUNCTIONS-INFO-COMMENT-TABLE" title="表9.68 コメント情報関数">表 9.68</a>を参照してください）。
  </p></div><div class="refsect1" id="id-1.9.3.52.6"><h2>パラメータ</h2><span class="original">
  &lt;title&gt;Parameters&lt;/title&gt;
</span><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="replaceable"><code>object_name</code></em><br /></span><span class="term"><em class="replaceable"><code>relation_name</code></em>.<em class="replaceable"><code>column_name</code></em><br /></span><span class="term"><em class="replaceable"><code>aggregate_name</code></em><br /></span><span class="term"><em class="replaceable"><code>constraint_name</code></em><br /></span><span class="term"><em class="replaceable"><code>function_name</code></em><br /></span><span class="term"><em class="replaceable"><code>operator_name</code></em><br /></span><span class="term"><em class="replaceable"><code>policy_name</code></em><br /></span><span class="term"><em class="replaceable"><code>procedure_name</code></em><br /></span><span class="term"><em class="replaceable"><code>routine_name</code></em><br /></span><span class="term"><em class="replaceable"><code>rule_name</code></em><br /></span><span class="term"><em class="replaceable"><code>trigger_name</code></em></span></dt><dd><p>
<span class="original">
      The name of the object to be commented.  Names of tables,
      aggregates, collations, conversions, domains, foreign tables, functions,
      indexes, operators, operator classes, operator families, procedures, routines, sequences,
      statistics, text search objects, types, and views can be
      schema-qualified. When commenting on a column,
      &lt;replaceable class="parameter"&gt;relation_name&lt;/replaceable&gt; must refer
      to a table, view, composite type, or foreign table.
</span>
コメントを付加するオブジェクトの名前です。
テーブル、集約、照合順、変換、ドメイン、外部テーブル、関数、インデックス、演算子、演算子クラス、演算子族、プロシージャ、ルーチン、シーケンス、統計、テキスト検索オブジェクト、データ型、ビューの名前は、スキーマ修飾することができます。
列にコメントを付与する場合、<em class="replaceable"><code>relation_name</code></em>はテーブル、ビュー、複合型、外部テーブルを参照するものでなければなりません。
     </p></dd><dt><span class="term"><em class="replaceable"><code>table_name</code></em><br /></span><span class="term"><em class="replaceable"><code>domain_name</code></em></span></dt><dd><p>
<span class="original">
      When creating a comment on a constraint, a trigger, a rule or
      a policy these parameters specify the name of the table or domain on
      which that object is defined.
</span>
制約、トリガー、ルール、ポリシーにコメントを作成する場合、これらのパラメータはオブジェクトが定義されているテーブルまたはドメインの名前を指定します。
     </p></dd><dt><span class="term"><em class="replaceable"><code>source_type</code></em></span></dt><dd><p>
<span class="original">
       The name of the source data type of the cast.
</span>
キャストの変換元データ型の名前です。
      </p></dd><dt><span class="term"><em class="replaceable"><code>target_type</code></em></span></dt><dd><p>
<span class="original">
       The name of the target data type of the cast.
</span>
キャストの変換先のデータ型の名前です。
      </p></dd><dt><span class="term"><em class="replaceable"><code>argmode</code></em></span></dt><dd><p>
<span class="original">
      The mode of a function, procedure, or aggregate
      argument: &lt;literal&gt;IN&lt;/literal&gt;, &lt;literal&gt;OUT&lt;/literal&gt;,
      &lt;literal&gt;INOUT&lt;/literal&gt;, or &lt;literal&gt;VARIADIC&lt;/literal&gt;.
      If omitted, the default is &lt;literal&gt;IN&lt;/literal&gt;.
      Note that &lt;command&gt;COMMENT&lt;/command&gt; does not actually pay
      any attention to &lt;literal&gt;OUT&lt;/literal&gt; arguments, since only the input
      arguments are needed to determine the function's identity.
      So it is sufficient to list the &lt;literal&gt;IN&lt;/literal&gt;, &lt;literal&gt;INOUT&lt;/literal&gt;,
      and &lt;literal&gt;VARIADIC&lt;/literal&gt; arguments.
</span>
関数、プロシージャまたは集約の引数のモードで、<code class="literal">IN</code>、<code class="literal">OUT</code>、<code class="literal">INOUT</code>、<code class="literal">VARIADIC</code>のいずれかです。
省略時のデフォルトは<code class="literal">IN</code>です。
関数を識別するには入力引数のみが必要ですので、<code class="command">COMMENT</code>が実際には<code class="literal">OUT</code>引数を無視することに注意してください。
したがって、<code class="literal">IN</code>、<code class="literal">INOUT</code>および<code class="literal">VARIADIC</code>引数を列挙することで十分です。
     </p></dd><dt><span class="term"><em class="replaceable"><code>argname</code></em></span></dt><dd><p>
<span class="original">
      The name of a function, procedure, or aggregate argument.
      Note that &lt;command&gt;COMMENT&lt;/command&gt; does not actually pay
      any attention to argument names, since only the argument data
      types are needed to determine the function's identity.
</span>
関数、プロシージャまたは集約の引数の名前です。
関数の識別には引数データ型のみが必要ですので、<code class="command">COMMENT</code>が実際には引数の名前を無視することに注意してください。
     </p></dd><dt><span class="term"><em class="replaceable"><code>argtype</code></em></span></dt><dd><p>
<span class="original">
      The data type of a function, procedure, or aggregate argument.
</span>
関数、プロシージャまたは集約の引数のデータ型です。
     </p></dd><dt><span class="term"><em class="replaceable"><code>large_object_oid</code></em></span></dt><dd><p>
<span class="original">
      The OID of the large object.
</span>
ラージオブジェクトのOIDです。
     </p></dd><dt><span class="term"><em class="replaceable"><code>left_type</code></em><br /></span><span class="term"><em class="replaceable"><code>right_type</code></em></span></dt><dd><p>
<span class="original">
      The data type(s) of the operator's arguments (optionally
      schema-qualified).  Write &lt;literal&gt;NONE&lt;/literal&gt; for the missing argument
      of a prefix or postfix operator.
</span>
演算子の引数のデータ型（スキーマ修飾も可）です。
右単項演算子、左単項演算子における存在しない引数については<code class="literal">NONE</code>と記述してください。
     </p></dd><dt><span class="term"><code class="literal">PROCEDURAL</code></span></dt><dd><p>
<span class="original">
       This is a noise word.
</span>
これには意味はありません。
      </p></dd><dt><span class="term"><em class="replaceable"><code>type_name</code></em></span></dt><dd><p>
<span class="original">
       The name of the data type of the transform.
</span>
変換のデータ型の名前です。
      </p></dd><dt><span class="term"><em class="replaceable"><code>lang_name</code></em></span></dt><dd><p>
<span class="original">
       The name of the language of the transform.
</span>
変換の言語の名前です。
      </p></dd><dt><span class="term"><em class="replaceable"><code>text</code></em></span></dt><dd><p>
<span class="original">
      The new comment, written as a string literal; or &lt;literal&gt;NULL&lt;/literal&gt;
      to drop the comment.
</span>
追加するコメントです。文字列リテラルとして記述します。
コメントを削除する場合は<code class="literal">NULL</code>を記述します。
     </p></dd></dl></div></div><div class="refsect1" id="id-1.9.3.52.7"><h2>注釈</h2><span class="original">
  &lt;title&gt;Notes&lt;/title&gt;
</span><p>
<span class="original">
   There is presently no security mechanism for viewing comments: any user
   connected to a database can see all the comments for objects in
   that database.  For shared objects such as
   databases, roles, and tablespaces, comments are stored globally so any
   user connected to any database in the cluster can see all the comments
   for shared objects.  Therefore, don't put security-critical
   information in comments.
</span>
現在、コメントの閲覧に関するセキュリティ機構は存在しません。
データベースに接続したユーザは誰でも、そのデータベース内のオブジェクトのコメントを参照することができます。
データベース、ロール、テーブル空間などの共有オブジェクトに対するコメントは大域的に格納され、クラスタ内の任意のデータベースに接続した任意のユーザが共有オブジェクトに対するコメントをすべて見ることができます。
そのため、コメントにはセキュリティ的に重大な情報を記載してはいけません。
  </p></div><div class="refsect1" id="id-1.9.3.52.8"><h2>例</h2><span class="original">
  &lt;title&gt;Examples&lt;/title&gt;
</span><p>
<span class="original">
   Attach a comment to the table &lt;literal&gt;mytable&lt;/literal&gt;:
</span>
テーブル<code class="literal">mytable</code>にコメントを付けます。

</p><pre class="programlisting">
COMMENT ON TABLE mytable IS 'This is my table.';
</pre><p>

<span class="original">
   Remove it again:
</span>
先ほどのコメントを削除します。

</p><pre class="programlisting">
COMMENT ON TABLE mytable IS NULL;
</pre><p>
  </p><p>
<span class="original">
   Some more examples:
</span>
その他の例をいくつか示します。

</p><pre class="programlisting">
COMMENT ON ACCESS METHOD rtree IS 'R-Tree access method';
COMMENT ON AGGREGATE my_aggregate (double precision) IS 'Computes sample variance';
COMMENT ON CAST (text AS int4) IS 'Allow casts from text to int4';
COMMENT ON COLLATION "fr_CA" IS 'Canadian French';
COMMENT ON COLUMN my_table.my_column IS 'Employee ID number';
COMMENT ON CONVERSION my_conv IS 'Conversion to UTF8';
COMMENT ON CONSTRAINT bar_col_cons ON bar IS 'Constrains column col';
COMMENT ON CONSTRAINT dom_col_constr ON DOMAIN dom IS 'Constrains col of domain';
COMMENT ON DATABASE my_database IS 'Development Database';
COMMENT ON DOMAIN my_domain IS 'Email Address Domain';
COMMENT ON EXTENSION hstore IS 'implements the hstore data type';
COMMENT ON FOREIGN DATA WRAPPER mywrapper IS 'my foreign data wrapper';
COMMENT ON FOREIGN TABLE my_foreign_table IS 'Employee Information in other database';
COMMENT ON FUNCTION my_function (timestamp) IS 'Returns Roman Numeral';
COMMENT ON INDEX my_index IS 'Enforces uniqueness on employee ID';
COMMENT ON LANGUAGE plpython IS 'Python support for stored procedures';
COMMENT ON LARGE OBJECT 346344 IS 'Planning document';
COMMENT ON MATERIALIZED VIEW my_matview IS 'Summary of order history';
COMMENT ON OPERATOR ^ (text, text) IS 'Performs intersection of two texts';
COMMENT ON OPERATOR - (NONE, integer) IS 'Unary minus';
COMMENT ON OPERATOR CLASS int4ops USING btree IS '4 byte integer operators for btrees';
COMMENT ON OPERATOR FAMILY integer_ops USING btree IS 'all integer operators for btrees';
COMMENT ON POLICY my_policy ON mytable IS 'Filter rows by users';
COMMENT ON PROCEDURE my_proc (integer, integer) IS 'Runs a report';
COMMENT ON ROLE my_role IS 'Administration group for finance tables';
COMMENT ON RULE my_rule ON my_table IS 'Logs updates of employee records';
COMMENT ON SCHEMA my_schema IS 'Departmental data';
COMMENT ON SEQUENCE my_sequence IS 'Used to generate primary keys';
COMMENT ON SERVER myserver IS 'my foreign server';
COMMENT ON STATISTICS my_statistics IS 'Improves planner row estimations';
COMMENT ON TABLE my_schema.my_table IS 'Employee Information';
COMMENT ON TABLESPACE my_tablespace IS 'Tablespace for indexes';
COMMENT ON TEXT SEARCH CONFIGURATION my_config IS 'Special word filtering';
COMMENT ON TEXT SEARCH DICTIONARY swedish IS 'Snowball stemmer for Swedish language';
COMMENT ON TEXT SEARCH PARSER my_parser IS 'Splits text into words';
COMMENT ON TEXT SEARCH TEMPLATE snowball IS 'Snowball stemmer';
COMMENT ON TRANSFORM FOR hstore LANGUAGE plpythonu IS 'Transform between hstore and Python dict';
COMMENT ON TRIGGER my_trigger ON my_table IS 'Used for RI';
COMMENT ON TYPE complex IS 'Complex number data type';
COMMENT ON VIEW my_view IS 'View of departmental costs';
</pre></div><div class="refsect1" id="id-1.9.3.52.9"><h2>互換性</h2><span class="original">
  &lt;title&gt;Compatibility&lt;/title&gt;
</span><p>
<span class="original">
   There is no &lt;command&gt;COMMENT&lt;/command&gt; command in the SQL standard.
</span>
標準SQLには<code class="command">COMMENT</code>はありません。
  </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sql-cluster.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="sql-commands.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="sql-commit.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">CLUSTER </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> COMMIT</td></tr></table></div></body></html>