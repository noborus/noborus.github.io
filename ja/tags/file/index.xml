<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>file on 斉藤登のページ</title><link>https://noborus.github.io/ja/tags/file/index.html</link><description>Recent content in file on 斉藤登のページ</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Thu, 26 Dec 2019 00:00:00 +0000</lastBuildDate><atom:link href="https://noborus.github.io/ja/tags/file/index.xml" rel="self" type="application/rss+xml"/><item><title>trdsql SQLファイル指定</title><link>https://noborus.github.io/ja/trdsql/26_file_sql/index.html</link><pubDate>Thu, 26 Dec 2019 00:00:00 +0000</pubDate><guid>https://noborus.github.io/ja/trdsql/26_file_sql/index.html</guid><description>SQLファイル名指定オプション「-q」 trdsql &amp;ldquo;SQLコマンド&amp;quot;の形式だと、長いSQLを書くのが難しいですし、シェルに対してエスケープしなければならない文字があって見た目もわかりにくい場合があります。
trdsqlではファイルにSQLを書いておき、そのファイルのSQLを実行させるオプションがあります。
以下のように記述したSQLをtest.sqlで保存しておきます。
test.sql
SELECT id, `name` FROM testsql.csv（コマンドの引数で渡していたときは「\`」のように「`」をエスケープする必要がありましたが、ファイルのSQLを実行する場合は必要ありません）。
testsql.csv は対象となるCSVファイルです。
id,name 1,tarou 2,jirou&amp;ldquo;SQLコマンド&amp;rdquo; の代わりに 「-q ファイル名.sql」で実行します。それ以外のオプションは代わりません。
trdsql -ih -oat -q test.sql+----+-------+ | id | name | +----+-------+ | 1 | tarou | | 2 | jirou | +----+-------+</description></item><item><title>trdsql SQLファイル指定</title><link>https://noborus.github.io/ja/blog/26_file_sql/index.html</link><pubDate>Thu, 26 Dec 2019 00:00:00 +0000</pubDate><guid>https://noborus.github.io/ja/blog/26_file_sql/index.html</guid><description>SQLファイル名指定オプション「-q」 trdsql &amp;ldquo;SQLコマンド&amp;quot;の形式だと、長いSQLを書くのが難しいですし、シェルに対してエスケープしなければならない文字があって見た目もわかりにくい場合があります。
trdsqlではファイルにSQLを書いておき、そのファイルのSQLを実行させるオプションがあります。
以下のように記述したSQLをtest.sqlで保存しておきます。
test.sql
SELECT id, `name` FROM testsql.csv（コマンドの引数で渡していたときは「\`」のように「`」をエスケープする必要がありましたが、ファイルのSQLを実行する場合は必要ありません）。
testsql.csv は対象となるCSVファイルです。
id,name 1,tarou 2,jirou&amp;ldquo;SQLコマンド&amp;rdquo; の代わりに 「-q ファイル名.sql」で実行します。それ以外のオプションは代わりません。
trdsql -ih -oat -q test.sql+----+-------+ | id | name | +----+-------+ | 1 | tarou | | 2 | jirou | +----+-------+</description></item></channel></rss>