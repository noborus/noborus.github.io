+++
author = "Noboru Saito"
title = "trdsql 処理の概要"
date = "2019-12-11"
description = ""
tags = [
    "trdsql",
]
categories = [
    "trdsql",
    "advent calendar 2019",
]
+++

ここでtrdsqlの内部処理の概要を簡単に説明します。

trdsqlの内部処理は、以下のようになっています。

0. オプションやSQLコマンドの解釈
1. SQLコマンド内のファイル名をインポート
2. SQLの実行
3. 指定された出力フォーマットでエクスポート

SQLの実行は実際のRDBMSを使用して実行されます（デフォルトではSQLite3のメモリデータベース)。

trdsqlはインポートとエクスポートの形式を整えているだけで、データベースに丸投げしているツールと言えます。

そのため、他の1行づつ処理するようなストリーミングができるツールとは違い、一旦全部のデータをインポートしてから実行されるため、非常に大きなデータではSQLの実行開始までに時間がかかります。

しかしながら、SQLライクではなく本当のSQLが使用できます。

これらの特徴を踏まえて使用すると良いでしょう。
