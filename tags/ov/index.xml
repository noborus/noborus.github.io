<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ov on Noboru Saito's page</title><link>https://noborus.github.io/tags/ov/</link><description>Recent content in ov on Noboru Saito's page</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Wed, 09 Dec 2020 10:00:00 +0900</lastBuildDate><atom:link href="https://noborus.github.io/tags/ov/index.xml" rel="self" type="application/rss+xml"/><item><title>ov v0.7.0</title><link>https://noborus.github.io/blog/ov_070/</link><pubDate>Wed, 09 Dec 2020 10:00:00 +0900</pubDate><guid>https://noborus.github.io/blog/ov_070/</guid><description>ov v0.7.0をリリースしました。 releases ov v0.7.0
PAGER=ov としても問題なく使えるバージョンになっていると思います。
スタイルカスタマイズを変更しました。 元々は、ヘッダーの色、行の交互表示の背景色、重ね打ちの色、重ね内下線の色を設定ファイルにより指定出来るようにしていましたが、これらの項目全体のスタイルを指定できるようにしました。
それぞれ、StyleHeader、StyleAlternate、StyleOverStrike、 StyleOverLineという項目名について、以下のスタイルを指定できます。
Foreground、Background には色名。 Bold, Blink, Dim, Italic, Underline には true / false(Boolean)。 以下のように指定できます。
StyleHeader: Background: &amp;quot;gray&amp;quot; Foreground: &amp;quot;red&amp;quot; Bold: true Italic: true Underline: true ov.yaml をコピーして変更していくと良いと思います。
また、lessのキーバインドにつか付けた ov-less.yaml をアップしておきました。 lessに慣れている方はこちらを使用すると移行がしやすいと思います。
ページアップ、ページダウンの移動改善 1行を折り返さない表示の場合は、表示領域の高さ＝行数なので、+-するだけで問題なかったですが、 折り返す場合は、表示領域の幅により表示できる行数が変わり、スクロール時にはさらに行の途中から表示する必要があったりするので、 これまでページアップ、ページダウンは正確に1ページではありませんでした。
今回はその計算の実装をやり直しました。そのため、1行が非常に長く画面いっぱいになる場合でも、ページ単位の移動で、その途中の表示からちゃんと表示されるようになりました。 また1行が非常に長い場合にパフォーマンスが落ちるのを少し改善しました。元々の実装の仕方により、1行が長すぎる行の効率はあまり良くありません。
過去のバージョン v0.7.0 スタイルカスタマイズの改善 v0.6.2 検索の高速化とキャンセル処理の追加 v0.6.1 細かな修正バージョン v0.6.0 マウスサポート v0.5.0 複数のドキュメントを開く方法を変更 v0.4.0 ヘルプ画面を追加 v0.3.1 位置をマークする機能を追加 v0.3.0 入力の改善 v0.2.1 色をカスタマイズ可能にする v0.2.0 検索の改善 v0.</description></item><item><title>ov v0.6.2</title><link>https://noborus.github.io/blog/ov_062/</link><pubDate>Mon, 19 Oct 2020 21:00:00 +0900</pubDate><guid>https://noborus.github.io/blog/ov_062/</guid><description>ov v0.6.2をリリースしました。 releases ov v0.6.2
v0.6.0でマウスサポートを追加しました。 元のマウスの動きは、ov側では制御せずにターミナル側のマウス処理にまかせていました。しかしそれでは、選択してコピーする時に改行コードが含まれないでコピーされるため、複数行のコピーに問題がありました。
マウス制御を実装することで、複数行のコピーがちゃんと複数行としてコピーされるようになります。ただ、goでクリップボードを制御するのは、難しくLinuxでは外部コマンドを使用するライブラリを使用しています。
v0.6.1はv0.6.0の細かなバグの修正バージョンです。 v0.6.2で検索のキャンセルができるようになりました。 大きなファイルで検索をかけると時間がかかる場合があります。そのときにキャンセル（デフォルトでCtrl+c)を押すと、検索がキャンセルされすぐに制御が戻ります。
また、検索速度自体を速くしました。検索文字列が正規表現のメタ文字を使用していない場合は、正規表現検索ではない検索をします。正規表現よりも高速に検索できるため、通常の文字列を入れて検索するときは、かなり高速になっています。
過去のバージョン v0.6.2 検索の高速化とキャンセル処理の追加 v0.6.1 細かな修正バージョン v0.6.0 マウスサポート v0.5.0 複数のドキュメントを開く方法を変更 v0.4.0 ヘルプ画面を追加 v0.3.1 位置をマークする機能を追加 v0.3.0 入力の改善 v0.2.1 色をカスタマイズ可能にする v0.2.0 検索の改善 v0.1.3 行番号モードを追加 v0.1.2 Homebrewパッケージの追加 v0.1.1 パッケージ自動更新の調整 v0.1.0 ovにレポジトリ名と構成を変更。deb/rpmパッケージの追加 v0.0.5 現在の基本機能を備えた最初のバージョン 参考 ovの紹介</description></item><item><title>ov v0.5.0</title><link>https://noborus.github.io/blog/ov_050/</link><pubDate>Mon, 31 Aug 2020 15:00:00 +0900</pubDate><guid>https://noborus.github.io/blog/ov_050/</guid><description>ov v0.5.0をリリースしました。 releases ov v0.5.0
こちらには書いていませんでしたが、0.2.0リリース以降に以下のリリースをしていました。
v0.3.0 v0.3.1 v0.4.0 v0.5.0 これまでの変更で内部的な修正を多くおこない v0.5.0では複数のファイルを別々のドキュメントとして開くように変更しました。
これまで ov *.txt は cat *.txtと同じようにファイルを繋げて表示していましたが、それぞれ独立して開いてドキュメントの切り替えで移動するようになっています。
1つのviewに対して複数のドキュメントを切り替えて使えるように内部的な修正をしたため、helpの表示、debug logの表示が可能になり、v0.5.0では、複数ファイルの開き方を変更するまでになりました。
また、安定バージョンとは言えませんが、ライブラリとしても使用可能になっています。
ライブラリの使用の仕方としては、サンプル がありますが、以下のようにOpenしてRun()で使用します。ページャーのライブラリなので、Run()の後は終了キーを押すまで返ってきません。goroutineで動かして、動いているページャーに対して動作を変更することが可能ですが、まだ仕様が落ち着いてないので、無茶をすると動かなくなる場合があります。
package main import ( &amp;quot;github.com/noborus/ov/oviewer&amp;quot; ) func main() { ov, err := oviewer.Open(&amp;quot;main.go&amp;quot;) if err != nil { panic(err) } if err := ov.Run(); err != nil { panic(err) } } 過去のバージョン v0.5.0 複数のドキュメントを開く方法を変更 v0.4.0 ヘルプ画面を追加 v0.3.1 位置をマークする機能を追加 v0.3.0 入力の改善 v0.2.1 色をカスタマイズ可能にする v0.2.0 検索の改善 v0.</description></item><item><title>ov v0.2.0</title><link>https://noborus.github.io/blog/ov_020/</link><pubDate>Mon, 25 May 2020 10:00:00 +0900</pubDate><guid>https://noborus.github.io/blog/ov_020/</guid><description>ov v0.2.0をリリースしました。 releases ov v0.2.0
検索を正規表現対応にしました 検索を正規表現対応にしました。
検索入力を改善しました。カーソルを移動でき、削除、挿入できるようにしました。
バックスペースと重ね打ちに対応しました ^Hによるバックスペースに対応しました。
a^Ha のように文字にバックスペースしてからもう一度同じ文字を打つ重ね打ち、とアンダーラインにバックスペースしてから文字を打つ重ね打ちに対応しました。
これによりMANPAGERとして使用できるようになりました。
まとめ これまでpsqlやmysqlで使用される機能を多く追加してきましたが、 通常のPAGERとして使用される必要な機能を実装しました。
自分で使用する分にはlessの代わりにovを使用しても問題なく使用できています。 ただlessは高機能でオプションが多くあるので、人によっては全然足りないと感じることでしょう。
過去のバージョン v0.2.0　検索の改善 v0.1.3　行番号モードを追加 v0.1.2　Homebrewパッケージの追加 v0.1.1　パッケージ自動更新の調整 v0.1.0　ovにレポジトリ名と構成を変更。deb/rpmパッケージの追加 v0.0.5　現在の基本機能を備えた最初のバージョン 参考 ovの紹介</description></item><item><title>ov v0.1.3</title><link>https://noborus.github.io/blog/ov_013/</link><pubDate>Mon, 11 May 2020 10:00:00 +0900</pubDate><guid>https://noborus.github.io/blog/ov_013/</guid><description>ov v0.1.3をリリースしました。 releases ov v0.1.3
行番号モードを追加しました -nオプションをつけての起動又はGキー（トグル）により行番号モードになります。
交互の背景色の仕様を少し変更しました 交互の背景色を付けるモードでは、画面の端から端まで色を付けるように変更しました。 これにより空行でも背景色が表示されます。
ステータスの行数を自動更新するようにしました ステータス右側の (0/177) の（177）が行数ですが、行数が多いと起動時に全行を読み取れていないので、「&amp;hellip;」と読み取り中の表示がついていました。何らかの操作をした時に、その時点の読み取られた行数を更新していましたが、タイマーでも更新するように変更しました。
過去のバージョン v0.1.2　Homebrewパッケージの追加 v0.1.1　パッケージ自動更新の調整 v0.1.0　ovにレポジトリ名と構成を変更。deb/rpmパッケージの追加 v0.0.5　現在の基本機能を備えた最初のバージョン 参考 ov - Oviewerの紹介</description></item><item><title>ov(en)</title><link>https://noborus.github.io/blog/oviewer_en/</link><pubDate>Sat, 25 Apr 2020 16:50:00 +0900</pubDate><guid>https://noborus.github.io/blog/oviewer_en/</guid><description>Introduction to OV - Oviewer.
Install You can also download binaries from the ov release, but for now it is still recommended to go get and download the latest version.
go get -u github.com/noborus/ov cd ov make install Features oviewer is a terminal pager like less or more.
Compressed (gzip, bzip2, zstd, lz4, xz) files can be displayed as they are. Better Unicode support. Can also display combined characters that can be displayed in the terminal (if fonts are available).</description></item><item><title>ov</title><link>https://noborus.github.io/blog/oviewer/</link><pubDate>Tue, 21 Apr 2020 14:50:00 +0900</pubDate><guid>https://noborus.github.io/blog/oviewer/</guid><description>私が作成中のovの紹介です。
最初Oviewerというレポジトリ名でしたが、コマンド名に合わせるようにovに変更しました。
インストール ov のリリースからバイナリもダウンロードできますが、今はまだgo getで最新をダウンロードして使うことをオススメします。
※ 2020/5/11追記。現在は各種パッケージも用意していますので、インストールしやすい方法利用してください。
go get -u github.com/noborus/ov cd ov make install 特徴 lessやmoreのようなTerminal pagerです。
圧縮（gzip, bzip2, zstd, lz4, xz）されているファイルをそのまま表示可能 より良いUnicodeのサポート。ターミナルで表示できる（フォントがあれば）結合文字も表示可能 より良いワイド幅（全角文字）の対応 ヘッダーの行数を指定して固定可能 行の折り返し／折り返さないを表示後に切替可能 1行毎に背景色を付けることが可能 psqlやmysqlからの表示を考慮 終了時に現在の画面の内容を書き出すことが可能 環境変数PAGERに設定して使用しても問題なく使えることを目指しています。
現在はUTF-8のテキストを対象にしています。
また、manのpagerとしては、問題があるので、MANPAGERは別途指定する必要があります。
※ 2020/5/25 追記 v0.2.0からMANPAGERとしても使用できるようになりました。
実装の特徴 tcellを使用していて、比較的多くの端末に対応しています。 メモリに溜め込む実装なので、メモリは多く使用します。更新されるログファイルの監視的な用途には向きません。
使用方法 コマンド名は ov です。
基本的にはファイル名を指定して起動します。
ov filename 又はパイプを使用して標準入力からの入力を受け付けます。
cat filename|ov オプションは以下です。オプションの多くは、起動後にキーより切り替え可能です。
$ ov --help ov is a feature rich pager(such as more/less). It supports various compressed files(gzip, bzip2, zstd, lz4, and xz).</description></item></channel></rss>