<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>WHERE on Noboru Saito's page</title><link>https://noborus.github.io/tags/where/</link><description>Recent content in WHERE on Noboru Saito's page</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Wed, 04 Dec 2019 00:00:00 +0000</lastBuildDate><atom:link href="https://noborus.github.io/tags/where/index.xml" rel="self" type="application/rss+xml"/><item><title>trdsql 簡単なSQL その２</title><link>https://noborus.github.io/blog/04_sql2/</link><pubDate>Wed, 04 Dec 2019 00:00:00 +0000</pubDate><guid>https://noborus.github.io/blog/04_sql2/</guid><description>検索条件 前回、列の並べ替え、抽出、行の並べ替えをしたので、今回は行の抽出です。 行を抽出するには、WHEREを付けて、検索条件を書きます。
前回と同じ例のファイルを使います。
trdsql -ih \ &amp;quot;SELECT id, \`name\` FROM header.csv WHERE id=1&amp;quot; 1,Orange SQLのメインな機能ですね。検索条件を書くだけで、該当する行を出力できます。
AND, OR AND や OR や ()括弧を使用することにより複雑な条件が書けます。
trdsql -ih \ &amp;quot;SELECT id, \`name\` FROM header.csv WHERE id='1' OR id='2'&amp;quot; 1,Orange 2,Melon trdsql -ih \ &amp;quot;SELECT id, \`name\` FROM header.csv &amp;quot;\ &amp;quot;WHERE (id='1' OR id='2') AND \`name\`='Orange'&amp;quot; 1,Orange 前回にも書いたようにtrdsqlでは、CSVやLTSV、JSONの値をtext型として扱っています。そのため、「=」の条件で書いているときには、暗黙のCASTが効いて型をそれほど意識しなくても良いですが、範囲を指定するときには結果が変わってしまうので、CASTする必要があります。
trdsql -ih \ &amp;quot;SELECT id,\`name\` FROM header.csv &amp;quot;\ &amp;quot;WHERE CAST(id as int)&amp;gt;1&amp;quot; 2,Melon 3,Apple SELECTを使用するときは、列の指定のところでCASTを使用して、そのCASTした列を指定して検索条件やORDER BYを書くことが出来ます。</description></item></channel></rss>