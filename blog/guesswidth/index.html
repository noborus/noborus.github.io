<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.115.1"><meta name=generator content="Relearn 5.16.0+tip"><meta name=description content="Noboru Saito's site"><title>Guess the width of the width-specified format :: Noboru Saito's page</title><link href=https://noborus.github.io/blog/guesswidth/index.html rel=alternate hreflang=x-default><link href=https://noborus.github.io/blog/guesswidth/index.html rel=alternate hreflang=en><link href=https://noborus.github.io/ja/blog/guesswidth/index.html rel=alternate hreflang=ja><link href=/images/logo.svg?1688684691 rel=icon type=image/svg+xml><link href=/css/fontawesome-all.min.css?1688684691 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fontawesome-all.min.css?1688684691 rel=stylesheet></noscript><link href=/css/nucleus.css?1688684691 rel=stylesheet><link href=/css/auto-complete.css?1688684691 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/auto-complete.css?1688684691 rel=stylesheet></noscript><link href=/css/perfect-scrollbar.min.css?1688684691 rel=stylesheet><link href=/css/fonts.css?1688684691 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/fonts.css?1688684691 rel=stylesheet></noscript><link href=/css/theme.css?1688684691 rel=stylesheet><link href=/css/theme-my-custom-variant.css?1688684691 rel=stylesheet id=variant-style><link href=/css/variant.css?1688684691 rel=stylesheet><link href=/css/print.css?1688684691 rel=stylesheet media=print><link href=/css/ie.css?1688684691 rel=stylesheet><script src=/js/url.js?1688684691></script>
<script src=/js/variant.js?1688684691></script>
<script>window.index_json_url="/index.json";var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_No_results_found="No results found for \"{0}\"",window.T_N_results_found="{1} results found for \"{0}\"",baseUriFull="https://noborus.github.io/",window.variants&&variants.init(["my-custom-variant"])</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-CGNLN23TRR"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CGNLN23TRR",{anonymize_ip:!1})}</script><meta property="og:title" content="Guess the width of the width-specified format"><meta property="og:description" content="For a long time now, Unix-like commands and CLI have been outputting width-aligned output. ls, ps, df, etc&mldr;
Such output can be produced by a printf format specification.
If this format specification is known, it can be read by scanf, but it is not easy to recognize and read columns from &ldquo;just the output&rdquo;.
If multiple spaces are considered as delimiters, it is possible to divide the output into columns, but headers and values may cause unnecessary division."><meta property="og:type" content="article"><meta property="og:url" content="https://noborus.github.io/blog/guesswidth/"><meta property="og:image" content="https://noborus.github.io/images/noborus.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-04-09T07:00:00+09:00"><meta property="article:modified_time" content="2023-04-09T07:00:00+09:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://noborus.github.io/images/noborus.png"><meta name=twitter:title content="Guess the width of the width-specified format"><meta name=twitter:description content="For a long time now, Unix-like commands and CLI have been outputting width-aligned output. ls, ps, df, etc&mldr;
Such output can be produced by a printf format specification.
If this format specification is known, it can be read by scanf, but it is not easy to recognize and read columns from &ldquo;just the output&rdquo;.
If multiple spaces are considered as delimiters, it is possible to divide the output into columns, but headers and values may cause unnecessary division."></head><body class="mobile-support html" data-url=/blog/guesswidth/index.html><div id=body class=default-animation><div id=sidebar-overlay></div><div id=toc-overlay></div><nav id=topbar class=highlightable><div><div class=navigation><a class="nav nav-next topbar-link" href=/blog/trdsql_0111/index.html title="trdsql v0.11.1 (&#129106;)"><i class="fas fa-chevron-right fa-fw"></i></a></div><div class=navigation><a class="nav nav-prev topbar-link" href=/blog/ov_030_0/index.html title="ov v0.30.0 (&#129104;)"><i class="fas fa-chevron-left fa-fw"></i></a></div><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle class=topbar-link title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a></span>
<span id=toc-menu title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/index.html><span itemprop=name>Top</span></a><meta itemprop=position content="1">></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/blog/index.html><span itemprop=name>Blog</span></a><meta itemprop=position content="2">></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Guess the width of the width-specified format</span><meta itemprop=position content="3"></li></ol></div><div class="default-animation progress"><div class=toc-wrapper><nav id=TableOfContents><ul><li><a href=#guesswidthhttpsgithubcomnoborusguesswidth><a href=https://github.com/noborus/guesswidth>guesswidth</a></a></li><li><a href=#how-do-you-do-that>How do you do that?</a><ul><li><a href=#guess-where-the-split-is>Guess where the split is?</a></li><li><a href=#splitting-process>Splitting process</a></li><li><a href=#other-considerations>Other considerations</a></li><li><a href=#library>library</a></li></ul></li></ul></nav></div></div></div></nav><main id=body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline><div class=tags><a class=tag-link href=/tags/english/index.html>english</a>
<a class=tag-link href=/tags/guesswidth/index.html>guesswidth</a></div></header><h1 id=guess-the-width-of-the-width-specified-format>Guess the width of the width-specified format</h1><div class=c-time>Posted on:
<time datetime=2023-04-09T07:00:00+09:00>April 9, 2023</time></div><p>For a long time now, Unix-like commands and CLI have been outputting width-aligned output.
<code>ls</code>, <code>ps</code>, <code>df</code>, etc&mldr;</p><p>Such output can be produced by a printf format specification.</p><p>If this format specification is known, it can be read by <code>scanf</code>,
but it is not easy to recognize and read columns from &ldquo;just the output&rdquo;.</p><p>If multiple spaces are considered as delimiters, it is possible to divide the output into columns,
but headers and values may cause unnecessary division.
We have created a library/tool to guess the column width so that this can be read by humans.</p><h2 id=guesswidthhttpsgithubcomnoborusguesswidth><a href=https://github.com/noborus/guesswidth target=_blank>guesswidth</a></h2><p>Made by Go.</p><p>It is difficult to read perfectly, but I think it gives better results than space-separated regular expressions.</p><p>The main thing that can be read is if there is a header row and the width of the header column represents the width of the values in the rows that follow.</p><p>This is the case for <code>ps</code> and <code>df</code>. In <code>ls</code>, there is no header row, so the column delimiters are ambiguous.</p><p>In <code>ps</code>, &ldquo;PID&rdquo;, &ldquo;TTY&rdquo;, &ldquo;TIME&rdquo;, and &ldquo;CMD&rdquo; represent the lower values, and can be divided into four parts:</p><p><a href=#image-cac0192d16abe90cb7969b09baff98f6 class=lightbox-link><img src=https://storage.googleapis.com/zenn-user-upload/ca97c96cd09e-20230408.png alt=ps style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-cac0192d16abe90cb7969b09baff98f6><img src=https://storage.googleapis.com/zenn-user-upload/ca97c96cd09e-20230408.png alt=ps class=lightbox-image loading=lazy></a></p><p>In this example, multiple spaces can be split, but if the header or value contains spaces, it cannot be split correctly. guesswidth supports such formats.</p><p>To use guesswidth, simply pass in the pipe <code>|</code>. By default, <code>|</code> is inserted as a delimiter.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ps |guesswidth
</span></span><span style=display:flex><span>    PID| TTY     |     TIME|CMD 
</span></span><span style=display:flex><span>1145448| pts/2   | 00:00:00|zsh
</span></span><span style=display:flex><span>1158532| pts/2   | 00:00:00|ps
</span></span></code></pre></div><p>You can also separate them as CSV with &ldquo;,&rdquo; separators; in CSV, extra spaces are stripped.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ps |guesswidth csv
</span></span><span style=display:flex><span>PID,TTY,TIME,CMD
</span></span><span style=display:flex><span>1145448,pts/2,00:00:00,zsh
</span></span><span style=display:flex><span>1158532,pts/2,00:00:00,ps
</span></span></code></pre></div><p>Support for <code>ps</code>, <code>df</code>, <code>docker ps</code> and many other outputs. The <code>ls</code> has no header,
so it is split based on the contents of the first line.
(The first line is a total display and must be removed from the criteria.)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ls -l|guesswidth --header 2
</span></span><span style=display:flex><span>合計 7900||||||||
</span></span><span style=display:flex><span>-rw-r--r--|  1| noborus| noborus|    1078| Mar| 14| 05:48|LICENSE
</span></span><span style=display:flex><span>-rw-r--r--|  1| noborus| noborus|     526| Mar| 16| 05:23|Makefile
</span></span><span style=display:flex><span>-rw-r--r--|  1| noborus| noborus|    1751| Mar| 21| 16:49|README.md
</span></span></code></pre></div><p>The modern ls alternative, <a href=https://github.com/ogham/exa target=_blank>exa</a>,
can add header lines, so it&rsquo;s more GUESSWIDTH oriented.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ exa -lh|guesswidth
</span></span><span style=display:flex><span>Permissions| Size| User   | Date Modified|Name
</span></span><span style=display:flex><span>drwxr-xr-x |    -| noborus| 14 Mar 16:30 |cmd
</span></span><span style=display:flex><span>drwxr-xr-x |    -| noborus| 22 Mar 09:02 |dist
</span></span><span style=display:flex><span>drwxr-xr-x |    -| noborus| 19 Mar 12:58 |docs
</span></span><span style=display:flex><span>.rw-r--r-- | 3.0k| noborus| 21 Mar 16:39 |example_test.go
</span></span><span style=display:flex><span>.rw-r--r-- |  285| noborus|  4 Apr 14:22 |go.mod
</span></span><span style=display:flex><span>.rw-r--r-- | 1.2k| noborus|  4 Apr 14:22 |go.sum
</span></span></code></pre></div><h2 id=how-do-you-do-that>How do you do that?</h2><h3 id=guess-where-the-split-is>Guess where the split is?</h3><p>The division method is not difficult, but it is a bit annoying, so I will explain it.</p><p>First, a reference line (header line) is determined. Without this base line,
some values will be incorrectly split there (as in the <code>ls</code> example)
because some formats have a space in the same position.</p><p>From that reference line, we create candidates for the delimiter position.
Simply convert to 1 (candidate) if it is a space, otherwise convert to 0 (not a delimiter position).</p><p>For simplicity, take <code>ps</code> as an example.</p><pre tabindex=0><code>    PID TTY          TIME CMD
11110001000111111111100001000
</code></pre><p>Next, the values are candidates for spaces as well,
but exclude positions that are not candidates in the header and count up.</p><p>Value 1st line</p><pre tabindex=0><code>1145448 pts/2    00:00:00 zsh
11110002000112222111100002000
</code></pre><p>Value 2nd line</p><pre tabindex=0><code>1158532 pts/2    00:00:00 ps
11110003000113333111100003000
</code></pre><p>The first and last spaces are omitted due to the nature of the search for delimiters.
The largest number in the sequence of 0 (not a delimiter) numbers is the most likely
candidate for a delimiter position.If we consider that position as a delimiter,
we can guess the delimiter position.</p><p>If there is a sequence of even larger numbers in the same point,
it is not possible to make a judgment, but due to the characteristics of printf,
the numbers do not extend to the left but to the right,
so the rightmost number is guessed as the delimiter position.</p><p>If we leave the numbers only at the delimiter position, we get the following.</p><pre tabindex=0><code>11110003000113333111100003000
                ↓
       3   1133331111    3
                ↓
       3        3        3
</code></pre><p>The accuracy is increased by reading as many lines of values as possible,
not just the header lines, before determining the value.</p><h3 id=splitting-process>Splitting process</h3><p>If the position of the division can be guessed, that is not the end of the process.
As mentioned above, although the format outputs the data with a specified width,
it is often the case that the data does not fit into the specified width
and extends beyond the specified width.</p><p>For example, if you use the option <code>ps</code>,
you can display more information, but there are many items that will be overflowed.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ ps aux
</span></span><span style=display:flex><span>USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
</span></span><span style=display:flex><span>root           1  0.0  0.0 169004 11464 ?        Ss   Mar27   1:04 /sbin/init sp
</span></span><span style=display:flex><span>root           2  0.0  0.0      0     0 ?        S    Mar27   0:00 [kthreadd]
</span></span><span style=display:flex><span>root           3  0.0  0.0      0     0 ?        I&lt;   Mar27   0:00 [rcu_gp]
</span></span></code></pre></div><p>and you think the vertical position is nicely displayed,</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>noborus   619043  0.0  0.0  38992 28968 pts/4    Ss+  Apr04   0:02 zsh
</span></span><span style=display:flex><span>noborus  1061523  2.2  1.8 34556112 591016 ?     SLl  Apr06  61:54 /opt/google/chrome/chrome
</span></span></code></pre></div><p>and <code>VSZ</code> and <code>RSS</code> are overhanging memory-intensive processes like chrome processes.</p><p>So if the delimiter position is not a space, many will shift to the right and look
for a space to compensate for the delimiter position
(in fact, they will even try to shift to the left to see if it fits,
in case they guessed the delimiter position wrong and shifted to the right).</p><h3 id=other-considerations>Other considerations</h3><p>Although the header line is the standard, spaces are sometimes used in header line headings.</p><p>For example, in <code>df</code> the last <code>Mounted on</code> is a single column.</p><pre tabindex=0><code>Filesystem     1K-blocks      Used Available Use% Mounted on
</code></pre><p>Therefore, if there is a space only in the header line position
and no space in the value below it, the delimiter position is prevented
by setting the threshold to 2 or more, because if the value is an array of numbers,
it will not be counted up and will remain at 1.</p><h3 id=library>library</h3><p>The <a href=https://github.com/noborus/guesswidth target=_blank>guesswidth</a> is an independent version
originally created for use in another tool.</p><p>I also incorporated it into my <a href=https://github.com/noborus/trdsql target=_blank>trdsql</a>,
so you can use <code>-iwidth</code> to output in various formats as follows.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ps aux|trdsql -iwidth -ojson &#34;SELECT * FROM - WHERE \&#34;COMMAND\&#34; = &#39;ps aux&#39;&#34;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>[
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;USER&#34;</span>: <span style=color:#e6db74>&#34;noborus&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;PID&#34;</span>: <span style=color:#e6db74>&#34;1166430&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;%CPU&#34;</span>: <span style=color:#e6db74>&#34;0.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;%MEM&#34;</span>: <span style=color:#e6db74>&#34;0.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;VSZ&#34;</span>: <span style=color:#e6db74>&#34;13716&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;RSS&#34;</span>: <span style=color:#e6db74>&#34;3520&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;TTY&#34;</span>: <span style=color:#e6db74>&#34;pts/2&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;STAT&#34;</span>: <span style=color:#e6db74>&#34;R+&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;START&#34;</span>: <span style=color:#e6db74>&#34;17:56&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;TIME&#34;</span>: <span style=color:#e6db74>&#34;0:00&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;COMMAND&#34;</span>: <span style=color:#e6db74>&#34;ps aux&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><p>Also, this is actually the real deal,
but I have also incorporated it into my pager <a href=https://github.com/noborus/ov target=_blank>ov</a>
(v0.30.0 or later), and by combining the options, you can display the following.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ps aux| ov
</span></span></code></pre></div><p><a href=#image-1877a01e91b91f7c892b7f11998c0e49 class=lightbox-link><img src=https://storage.googleapis.com/zenn-user-upload/24bf4ea05edb-20230408.gif alt="ps aux|ov" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox id=image-1877a01e91b91f7c892b7f11998c0e49><img src=https://storage.googleapis.com/zenn-user-upload/24bf4ea05edb-20230408.gif alt="ps aux|ov" class=lightbox-image loading=lazy></a></p><footer class=footline><i class='fas fa-list'></i>
<a class=tag-link href=/categories/guesswidth/index.html>guesswidth</a></footer></article></div></main></div><aside id=sidebar class=default-animation><div id=header-wrapper class=default-animation><div id=header class=default-animation><a id=logo href=./index.html><style>#sidebar a#logo{display:flex;align-items:center;font-size:1.3rem;font-weight:600;color:#777}#logo object{margin-right:.1rem}</style><img width=50 height=50 src=/images/logo.svg></img>Noboru Saito’s site</a></div><div class="searchbox default-animation"><i class="fas fa-search" title="Search (CTRL+ALT+f)"></i>
<label class=a11y-only for=search-by>Search</label>
<input data-search-input id=search-by name=search-by class=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script>var contentLangs=["en","ja"]</script><script src=/js/auto-complete.js?1688684692 defer></script>
<script src=/js/lunr/lunr.min.js?1688684692 defer></script>
<script src=/js/lunr/lunr.stemmer.support.min.js?1688684692 defer></script>
<script src=/js/lunr/lunr.multi.min.js?1688684692 defer></script>
<script src=/js/lunr/lunr.en.min.js?1688684692 defer></script>
<script src=/js/lunr/tinyseg.js?1688684692 defer></script>
<script src=/js/lunr/lunr.ja.min.js?1688684692 defer></script>
<script src=/js/search.js?1688684692 defer></script></div><div id=homelinks class=default-animation><ul><li><a class=padding href=/index.html><i class="fas fa-home"></i> Home</a></li></ul></div><div id=content-wrapper class=highlightable><ul class="topics enlarge morespace collapsible-menu"><li data-nav-id=/blog/index.html class=parent><input type=checkbox id=section-e5771ef0a5755d5af1982ccf165846c6 aria-controls=subsections-e5771ef0a5755d5af1982ccf165846c6 checked><label for=section-e5771ef0a5755d5af1982ccf165846c6><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Blog</span></label><a class=padding href=/blog/index.html>Blog</a><ul id=subsections-e5771ef0a5755d5af1982ccf165846c6 class="morespace collapsible-menu"><li data-nav-id=/blog/psql-pager/index.html><a class=padding href=/blog/psql-pager/index.html>psqlのPAGERを設定する</a></li><li data-nav-id=/blog/ov_030_0/index.html><a class=padding href=/blog/ov_030_0/index.html>ov v0.30.0</a></li><li data-nav-id=/blog/guesswidth/index.html class=active><a class=padding href=/blog/guesswidth/index.html>Guess the width of the width-specified format</a></li><li data-nav-id=/blog/trdsql_0111/index.html><a class=padding href=/blog/trdsql_0111/index.html>trdsql v0.11.1</a></li><li data-nav-id=/blog/ov_015_0/index.html><a class=padding href=/blog/ov_015_0/index.html>ov v0.15.0</a></li><li data-nav-id=/blog/ov_014_2/index.html><a class=padding href=/blog/ov_014_2/index.html>ov v0.14.2</a></li><li data-nav-id=/blog/ov_014_1/index.html><a class=padding href=/blog/ov_014_1/index.html>ov v0.14.1</a></li><li data-nav-id=/blog/ov_014_0/index.html><a class=padding href=/blog/ov_014_0/index.html>ov v0.14.0</a></li><li data-nav-id=/blog/ov_012_0/index.html><a class=padding href=/blog/ov_012_0/index.html>ov v0.12.0</a></li><li data-nav-id=/blog/column0/index.html><a class=padding href=/blog/column0/index.html>PostgreSQLで0列の扱い</a></li><li data-nav-id=/blog/35_jq/index.html><a class=padding href=/blog/35_jq/index.html>trdsql jq構文</a></li><li data-nav-id=/blog/ov_011_1/index.html><a class=padding href=/blog/ov_011_1/index.html>ov v0.11.1</a></li><li data-nav-id=/blog/ov_011_0/index.html><a class=padding href=/blog/ov_011_0/index.html>ov v0.11.0</a></li><li data-nav-id=/blog/sql/index.html><a class=padding href=/blog/sql/index.html>手っ取り遅くSQLを学ぶ</a></li><li data-nav-id=/blog/jqsql/index.html><a class=padding href=/blog/jqsql/index.html>Another way to aggregate json(jq + SQL)</a></li><li data-nav-id=/blog/trdsql_0100/index.html><a class=padding href=/blog/trdsql_0100/index.html>trdsql v0.10.0</a></li><li data-nav-id=/blog/pgunconf/index.html><a class=padding href=/blog/pgunconf/index.html>第32回 PostgreSQLアンカンファレンス@オンラインで発表しました</a></li><li data-nav-id=/blog/ov_010_0/index.html><a class=padding href=/blog/ov_010_0/index.html>ov v0.10.0</a></li><li data-nav-id=/blog/trdsql_091/index.html><a class=padding href=/blog/trdsql_091/index.html>trdsql v0.9.1</a></li><li data-nav-id=/blog/ov_096/index.html><a class=padding href=/blog/ov_096/index.html>ov v0.9.6</a></li><li data-nav-id=/blog/jpug-doc-tool/index.html><a class=padding href=/blog/jpug-doc-tool/index.html>Jpug-doc-tool</a></li><li data-nav-id=/blog/ov_095/index.html><a class=padding href=/blog/ov_095/index.html>ov v0.9.5</a></li><li data-nav-id=/blog/trdsql_jq/index.html><a class=padding href=/blog/trdsql_jq/index.html>trdsql+PostgreSQL 14でJSONを処理する</a></li><li data-nav-id=/blog/ov_094/index.html><a class=padding href=/blog/ov_094/index.html>ov v0.9.4</a></li><li data-nav-id=/blog/mdtsql_003/index.html><a class=padding href=/blog/mdtsql_003/index.html>mdtsql v0.0.3</a></li><li data-nav-id=/blog/pgsp/index.html><a class=padding href=/blog/pgsp/index.html>pgsp</a></li><li data-nav-id=/blog/trdsql_090/index.html><a class=padding href=/blog/trdsql_090/index.html>trdsql v0.9.0</a></li><li data-nav-id=/blog/ov_090/index.html><a class=padding href=/blog/ov_090/index.html>ov v0.9.0</a></li><li data-nav-id=/blog/ov_081/index.html><a class=padding href=/blog/ov_081/index.html>ov v0.8.1</a></li><li data-nav-id=/blog/trdsql_080/index.html><a class=padding href=/blog/trdsql_080/index.html>trdsql v0.8.0</a></li><li data-nav-id=/blog/ov_080/index.html><a class=padding href=/blog/ov_080/index.html>ov v0.8.0</a></li><li data-nav-id=/blog/go_tui2020/index.html><a class=padding href=/blog/go_tui2020/index.html>goのTUIについて2020年最終版</a></li><li data-nav-id=/blog/ov_070/index.html><a class=padding href=/blog/ov_070/index.html>ov v0.7.0</a></li><li data-nav-id=/blog/sqlorder/index.html><a class=padding href=/blog/sqlorder/index.html>SQLのORDER BY 列番号と式</a></li><li data-nav-id=/blog/cbind/index.html><a class=padding href=/blog/cbind/index.html>tcell/tviewでTUIを作るならキー割り当てにcbindを利用しよう</a></li><li data-nav-id=/blog/ov_062/index.html><a class=padding href=/blog/ov_062/index.html>ov v0.6.2</a></li><li data-nav-id=/blog/ov_050/index.html><a class=padding href=/blog/ov_050/index.html>ov v0.5.0</a></li><li data-nav-id=/blog/ov_020/index.html><a class=padding href=/blog/ov_020/index.html>ov v0.2.0</a></li><li data-nav-id=/blog/tcell_02/index.html><a class=padding href=/blog/tcell_02/index.html>tcellについて2</a></li><li data-nav-id=/blog/tcell_01/index.html><a class=padding href=/blog/tcell_01/index.html>tcellについて</a></li><li data-nav-id=/blog/go_tui/index.html><a class=padding href=/blog/go_tui/index.html>goのTUIについて</a></li><li data-nav-id=/blog/ov_013/index.html><a class=padding href=/blog/ov_013/index.html>ov v0.1.3</a></li><li data-nav-id=/blog/oviewer/index.html><a class=padding href=/blog/oviewer/index.html>ov</a></li><li data-nav-id=/blog/runewidth/index.html><a class=padding href=/blog/runewidth/index.html>GoのTUIで表示が崩れる場合</a></li><li data-nav-id=/blog/trdsql_075/index.html><a class=padding href=/blog/trdsql_075/index.html>trdsql 0.7.5</a></li><li data-nav-id=/blog/34_output/index.html><a class=padding href=/blog/34_output/index.html>trdsql output</a></li><li data-nav-id=/blog/33_compression/index.html><a class=padding href=/blog/33_compression/index.html>trdsql 圧縮ファイル</a></li><li data-nav-id=/blog/mysql-load/index.html><a class=padding href=/blog/mysql-load/index.html>MySQL の LOAD DATA INFILE (go)</a></li><li data-nav-id=/blog/trdsql_074/index.html><a class=padding href=/blog/trdsql_074/index.html>trdsql 0.7.4</a></li><li data-nav-id=/blog/32_case/index.html><a class=padding href=/blog/32_case/index.html>trdsql CASE式</a></li><li data-nav-id=/blog/31_rollup/index.html><a class=padding href=/blog/31_rollup/index.html>trdsql 合計を行に追加する</a></li><li data-nav-id=/blog/30_convert_log/index.html><a class=padding href=/blog/30_convert_log/index.html>trdsql convert log</a></li><li data-nav-id=/blog/29_generate_series/index.html><a class=padding href=/blog/29_generate_series/index.html>trdsql generate_series</a></li><li data-nav-id=/blog/28_cross_join/index.html><a class=padding href=/blog/28_cross_join/index.html>trdsql CROSS JOIN</a></li><li data-nav-id=/blog/27_config/index.html><a class=padding href=/blog/27_config/index.html>trdsql config</a></li><li data-nav-id=/blog/26_file_sql/index.html><a class=padding href=/blog/26_file_sql/index.html>trdsql SQLファイル指定</a></li><li data-nav-id=/blog/25_library/index.html><a class=padding href=/blog/25_library/index.html>trdsql ライブラリ使用</a></li><li data-nav-id=/blog/24_graph/index.html><a class=padding href=/blog/24_graph/index.html>trdsql グラフ</a></li><li data-nav-id=/blog/23_except/index.html><a class=padding href=/blog/23_except/index.html>trdsql 差分、比較</a></li><li data-nav-id=/blog/22_json_output/index.html><a class=padding href=/blog/22_json_output/index.html>trdsql JSON出力</a></li><li data-nav-id=/blog/21_json_parse/index.html><a class=padding href=/blog/21_json_parse/index.html>trdsql JSON解析</a></li><li data-nav-id=/blog/20_date/index.html><a class=padding href=/blog/20_date/index.html>trdsql 日付・時刻処理</a></li><li data-nav-id=/blog/19_window/index.html><a class=padding href=/blog/19_window/index.html>trdsql Window関数</a></li><li data-nav-id=/blog/18_edit_columns/index.html><a class=padding href=/blog/18_edit_columns/index.html>trdsql 列の編集</a></li><li data-nav-id=/blog/17_file_table/index.html><a class=padding href=/blog/17_file_table/index.html>trdsql ファイルとテーブルのJOIN</a></li><li data-nav-id=/blog/16_join/index.html><a class=padding href=/blog/16_join/index.html>trdsql JOIN</a></li><li data-nav-id=/blog/15_import/index.html><a class=padding href=/blog/15_import/index.html>trdsql DBインポート</a></li><li data-nav-id=/blog/14_sqlite3/index.html><a class=padding href=/blog/14_sqlite3/index.html>trdsql SQLite3エンジンの使用</a></li><li data-nav-id=/blog/13_mysql/index.html><a class=padding href=/blog/13_mysql/index.html>trdsql MySQLエンジンの使用</a></li><li data-nav-id=/blog/12_postgres/index.html><a class=padding href=/blog/12_postgres/index.html>trdsql PostgreSQLエンジンの使用</a></li><li data-nav-id=/blog/11_summary/index.html><a class=padding href=/blog/11_summary/index.html>trdsql 処理の概要</a></li><li data-nav-id=/blog/10_stdin/index.html><a class=padding href=/blog/10_stdin/index.html>trdsql 標準入力</a></li><li data-nav-id=/blog/09_wildcard/index.html><a class=padding href=/blog/09_wildcard/index.html>trdsql ワイルドカード、圧縮ファイル</a></li><li data-nav-id=/blog/08_log/index.html><a class=padding href=/blog/08_log/index.html>trdsql Log集計</a></li><li data-nav-id=/blog/07_group/index.html><a class=padding href=/blog/07_group/index.html>trdsql GROUP集計</a></li><li data-nav-id=/blog/06_calculation/index.html><a class=padding href=/blog/06_calculation/index.html>trdsql 集計計算</a></li><li data-nav-id=/blog/05_aggregate/index.html><a class=padding href=/blog/05_aggregate/index.html>trdsql 集計</a></li><li data-nav-id=/blog/04_sql2/index.html><a class=padding href=/blog/04_sql2/index.html>trdsql 簡単なSQL その２</a></li><li data-nav-id=/blog/03_sql/index.html><a class=padding href=/blog/03_sql/index.html>trdsql 簡単なSQL</a></li><li data-nav-id=/blog/02_convert/index.html><a class=padding href=/blog/02_convert/index.html>trdsql ファイルフォーマット変換</a></li><li data-nav-id=/blog/01_install/index.html><a class=padding href=/blog/01_install/index.html>trdsql インストール</a></li></ul></li><li data-nav-id=/trdsql/index.html><input type=checkbox id=section-a127209ea9757fb2737b7f62423c1089 aria-controls=subsections-a127209ea9757fb2737b7f62423c1089><label for=section-a127209ea9757fb2737b7f62423c1089><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu trdsql</span></label><a class=padding href=/trdsql/index.html>trdsql</a><ul id=subsections-a127209ea9757fb2737b7f62423c1089 class="morespace collapsible-menu"><li data-nav-id=/trdsql/01_install/index.html><a class=padding href=/trdsql/01_install/index.html>trdsql install</a></li><li data-nav-id=/trdsql/02_convert/index.html><a class=padding href=/trdsql/02_convert/index.html>trdsql File format conversion</a></li><li data-nav-id=/trdsql/03_sql/index.html><a class=padding href=/trdsql/03_sql/index.html>trdsql Easy SQL</a></li><li data-nav-id=/trdsql/04_sql2/index.html><a class=padding href=/trdsql/04_sql2/index.html>trdsql 簡単なSQL その２</a></li><li data-nav-id=/trdsql/05_aggregate/index.html><a class=padding href=/trdsql/05_aggregate/index.html>trdsql 集計</a></li><li data-nav-id=/trdsql/06_calculation/index.html><a class=padding href=/trdsql/06_calculation/index.html>trdsql 集計計算</a></li><li data-nav-id=/trdsql/07_group/index.html><a class=padding href=/trdsql/07_group/index.html>trdsql GROUP集計</a></li><li data-nav-id=/trdsql/08_log/index.html><a class=padding href=/trdsql/08_log/index.html>trdsql Log集計</a></li><li data-nav-id=/trdsql/09_wildcard/index.html><a class=padding href=/trdsql/09_wildcard/index.html>trdsql ワイルドカード、圧縮ファイル</a></li><li data-nav-id=/trdsql/10_stdin/index.html><a class=padding href=/trdsql/10_stdin/index.html>trdsql 標準入力</a></li><li data-nav-id=/trdsql/11_summary/index.html><a class=padding href=/trdsql/11_summary/index.html>trdsql 処理の概要</a></li><li data-nav-id=/trdsql/12_postgres/index.html><a class=padding href=/trdsql/12_postgres/index.html>trdsql PostgreSQLエンジンの使用</a></li><li data-nav-id=/trdsql/13_mysql/index.html><a class=padding href=/trdsql/13_mysql/index.html>trdsql MySQLエンジンの使用</a></li><li data-nav-id=/trdsql/14_sqlite3/index.html><a class=padding href=/trdsql/14_sqlite3/index.html>trdsql SQLite3エンジンの使用</a></li><li data-nav-id=/trdsql/15_import/index.html><a class=padding href=/trdsql/15_import/index.html>trdsql DBインポート</a></li><li data-nav-id=/trdsql/16_join/index.html><a class=padding href=/trdsql/16_join/index.html>trdsql JOIN</a></li><li data-nav-id=/trdsql/17_file_table/index.html><a class=padding href=/trdsql/17_file_table/index.html>trdsql ファイルとテーブルのJOIN</a></li><li data-nav-id=/trdsql/18_edit_columns/index.html><a class=padding href=/trdsql/18_edit_columns/index.html>trdsql 列の編集</a></li><li data-nav-id=/trdsql/19_window/index.html><a class=padding href=/trdsql/19_window/index.html>trdsql Window関数</a></li><li data-nav-id=/trdsql/20_date/index.html><a class=padding href=/trdsql/20_date/index.html>trdsql 日付・時刻処理</a></li><li data-nav-id=/trdsql/21_json_parse/index.html><a class=padding href=/trdsql/21_json_parse/index.html>trdsql JSON解析</a></li><li data-nav-id=/trdsql/22_json_output/index.html><a class=padding href=/trdsql/22_json_output/index.html>trdsql JSON出力</a></li><li data-nav-id=/trdsql/23_except/index.html><a class=padding href=/trdsql/23_except/index.html>trdsql 差分、比較</a></li><li data-nav-id=/trdsql/24_graph/index.html><a class=padding href=/trdsql/24_graph/index.html>trdsql グラフ</a></li><li data-nav-id=/trdsql/25_library/index.html><a class=padding href=/trdsql/25_library/index.html>trdsql ライブラリ使用</a></li><li data-nav-id=/trdsql/26_file_sql/index.html><a class=padding href=/trdsql/26_file_sql/index.html>trdsql SQLファイル指定</a></li><li data-nav-id=/trdsql/27_config/index.html><a class=padding href=/trdsql/27_config/index.html>trdsql config</a></li><li data-nav-id=/trdsql/28_cross_join/index.html><a class=padding href=/trdsql/28_cross_join/index.html>trdsql CROSS JOIN</a></li><li data-nav-id=/trdsql/29_generate_series/index.html><a class=padding href=/trdsql/29_generate_series/index.html>trdsql generate_series</a></li><li data-nav-id=/trdsql/30_convert_log/index.html><a class=padding href=/trdsql/30_convert_log/index.html>trdsql convert log</a></li><li data-nav-id=/trdsql/31_rollup/index.html><a class=padding href=/trdsql/31_rollup/index.html>trdsql 合計を行に追加する</a></li><li data-nav-id=/trdsql/32_case/index.html><a class=padding href=/trdsql/32_case/index.html>trdsql CASE式</a></li><li data-nav-id=/trdsql/33_compression/index.html><a class=padding href=/trdsql/33_compression/index.html>trdsql 圧縮ファイル</a></li><li data-nav-id=/trdsql/34_output/index.html><a class=padding href=/trdsql/34_output/index.html>trdsql output</a></li><li data-nav-id=/trdsql/35_jq/index.html><a class=padding href=/trdsql/35_jq/index.html>trdsql jq構文</a></li><li data-nav-id=/trdsql/36_guesswidth/index.html><a class=padding href=/trdsql/36_guesswidth/index.html>trdsql For fixed width</a></li></ul></li><li data-nav-id=/ov/index.html><input type=checkbox id=section-46f423e8c5dcd692046cb56c3632ac71 aria-controls=subsections-46f423e8c5dcd692046cb56c3632ac71><label for=section-46f423e8c5dcd692046cb56c3632ac71><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu ov</span></label><a class=padding href=/ov/index.html>ov</a><ul id=subsections-46f423e8c5dcd692046cb56c3632ac71 class="morespace collapsible-menu"><li data-nav-id=/ov/psql/index.html><a class=padding href=/ov/psql/index.html>psql</a></li><li data-nav-id=/ov/git/index.html><a class=padding href=/ov/git/index.html>git</a></li><li data-nav-id=/ov/mysql/index.html><a class=padding href=/ov/mysql/index.html>mysql</a></li><li data-nav-id=/ov/pgcli/index.html><a class=padding href=/ov/pgcli/index.html>pgcli</a></li><li data-nav-id=/ov/mycli/index.html><a class=padding href=/ov/mycli/index.html>mycli</a></li><li data-nav-id=/ov/ps/index.html><a class=padding href=/ov/ps/index.html>ps</a></li><li data-nav-id=/ov/man/index.html><a class=padding href=/ov/man/index.html>man</a></li><li data-nav-id=/ov/top/index.html><a class=padding href=/ov/top/index.html>top</a></li><li data-nav-id=/ov/procs/index.html><a class=padding href=/ov/procs/index.html>procs</a></li><li data-nav-id=/ov/bat/index.html><a class=padding href=/ov/bat/index.html>bat</a></li><li data-nav-id=/ov/watch/index.html><a class=padding href=/ov/watch/index.html>Watch files with ov</a></li><li data-nav-id=/ov/csv/index.html><a class=padding href=/ov/csv/index.html>view csv</a></li><li data-nav-id=/ov/markdown/index.html><a class=padding href=/ov/markdown/index.html>View markdown</a></li><li data-nav-id=/ov/multifile/index.html><a class=padding href=/ov/multifile/index.html>multiple files</a></li><li data-nav-id=/ov/multicolor/index.html><a class=padding href=/ov/multicolor/index.html>Multicolor highlights multiple words</a></li><li data-nav-id=/ov/exec/index.html><a class=padding href=/ov/exec/index.html>execute command</a></li><li data-nav-id=/ov/tail/index.html><a class=padding href=/ov/tail/index.html>How to use follow mode</a></li><li data-nav-id=/ov/section/index.html><a class=padding href=/ov/section/index.html>How to use section</a></li><li data-nav-id=/ov/memory/index.html><a class=padding href=/ov/memory/index.html>Memory management</a></li></ul></li><li data-nav-id=/about/index.html><a class=padding href=/about/index.html>About</a></li></ul><div id=shortcuts><div class="nav-title padding"></div><ul class=space><li><a class=padding href=/categories/index.html><i class='fas fa-list'></i> Categories</a></li><li><a class=padding href=/tags/index.html><i class='fas fa-tags'></i> Tags</a></li></ul></div><div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showLangSwitch showFooter"></div><hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showLangSwitch showFooter"><div id=prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks showLangSwitch"><ul><li id=select-language-container class="footerLangSwitch showLangSwitch"><div class="padding select-container"><i class="fas fa-language fa-fw"></i>
<span>&nbsp;</span><div class=select-style><label class=a11y-only for=select-language>Language</label>
<select id=select-language onchange="location=baseUri+this.value"><option lang=en id=en value=/blog/guesswidth/index.html selected>English</option><option lang=ja id=ja value=/ja/blog/guesswidth/index.html>Japanese</option></select></div><div class=select-clear></div></div></li><li id=select-variant-container class=footerVariantSwitch><div class="padding select-container"><i class="fas fa-paint-brush fa-fw"></i>
<span>&nbsp;</span><div class=select-style><label class=a11y-only for=select-variant>Theme</label>
<select id=select-variant onchange=window.variants&&variants.changeVariant(this.value)><option id=my-custom-variant value=my-custom-variant selected>My Custom Variant</option></select></div><div class=select-clear></div></div><script>window.variants&&variants.markSelectedVariant()</script></li><li class=footerVisitedLinks><button class=padding onclick=clearHistory()><i class="fas fa-history fa-fw"></i><span>&nbsp;</span>Clear History</button></li></ul></div><div id=footer class="footerFooter showFooter"><style>#footer{font-size:.1.0rem;height:6.25rem;margin-left:auto;margin-right:auto;padding:2rem 1rem;text-align:center;min-width:14.375rem;max-width:18.75rem}#footer p{margin:0}</style><p><a href=https://github.com/noborus><i class="fab fa-github"></i>GitHub</a></p><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></aside><script src=/js/clipboard.min.js?1688684692 defer></script>
<script src=/js/perfect-scrollbar.min.js?1688684692 defer></script>
<script src=/js/theme.js?1688684692 defer></script></body></html>